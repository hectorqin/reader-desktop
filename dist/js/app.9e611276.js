(function(e){function t(t){for(var n,r,i=t[0],c=t[1],u=t[2],l=0,f=[];l<i.length;l++)r=i[l],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&f.push(a[r][0]),a[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(t);while(f.length)f.shift()();return s.push.apply(s,u||[]),o()}function o(){for(var e,t=0;t<s.length;t++){for(var o=s[t],n=!0,r=1;r<o.length;r++){var i=o[r];0!==a[i]&&(n=!1)}n&&(s.splice(t--,1),e=c(c.s=o[0]))}return e}var n={},r={app:0},a={app:0},s=[];function i(e){return c.p+"js/"+({index:"index",reader:"reader",setting:"setting"}[e]||e)+"."+{index:"f7ee938b",reader:"734d502d",setting:"46811c9c"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.e=function(e){var t=[],o={index:1,reader:1,setting:1};r[e]?t.push(r[e]):0!==r[e]&&o[e]&&t.push(r[e]=new Promise((function(t,o){for(var n="css/"+({index:"index",reader:"reader",setting:"setting"}[e]||e)+"."+{index:"3e137aa7",reader:"7b93899e",setting:"2694b03b"}[e]+".css",a=c.p+n,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var u=s[i],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===a))return t()}var f=document.getElementsByTagName("style");for(i=0;i<f.length;i++){u=f[i],l=u.getAttribute("data-href");if(l===n||l===a)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var n=t&&t.target&&t.target.src||a,s=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=n,delete r[e],d.parentNode.removeChild(d),o(s)},d.href=a;var h=document.getElementsByTagName("head")[0];h.appendChild(d)})).then((function(){r[e]=0})));var n=a[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise((function(t,o){n=a[e]=[t,o]}));t.push(n[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=i(e);var f=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(d);var o=a[e];if(0!==o){if(o){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",f.name="ChunkLoadError",f.type=n,f.request=r,o[1](f)}a[e]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,o){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(c.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(o,n,function(t){return e[t]}.bind(null,n));return o},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var f=0;f<u.length;f++)t(u[f]);var d=l;s.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"034f":function(e,t,o){"use strict";o("85ec")},"039b":function(e,t,o){"use strict";o("fa3b")},1632:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAgMAAABjUWAiAAAADFBMVEXh7vLf7PDj8PTm8/ecW+lZAAACZElEQVQozw2RsU8TUQCHfz3fw7MS87jeI7DdmSMpDEoHE+P0HqGkvRR8vb5XC4NpN2RQZqcK9xJkwtriekcggerC4OZADDiT+A+goxv/gfwB3zd8H/T6vYF/pTZkCSmDNd3CBEtmZJP4N+CvvhecDvmntKsvwB17rpbIRTLOEoYkj9KZzRUuJsuBQFwgptyJ3Y7EL4V+ud5LO1UnMeQSSObqisiISZkbQBlliP3qWSk3GPQXjxv6VF2BTDO4ySx1zhuJXbA2wBNJF4t5vH9keg6wu5NvUpLtXrZ3OHC9ZsgVcZdOl38PM1y/L6m8GRiErj4AqezUjHGatGGIgs5NJDHh8Ua1IuB4035haVT6SaYWMoQ0eJ3rB/Gpnr3fB49YAy1Wa21YKqAHOmAveVw6CCMGMZh5bGtVI7jnZaiQNbta1Z+285oSoKoRbta1KZ/1bBdKH/RIxv2pRVpkoCmvpr097RWoo0CpMlTWllIenSjECU8mV43mHx2fIRfH/pncrJm3+58BWdbSqCS07/yiQnvHiCG4ZPGRFeAtfreoOubyctzHvLNHhjNvIhukxQzjU5O6QdOEzUp1Ef4d98Pxz+IPYX0bcpnT52dbedfz8y7C4R89RV+MjJkuCCx7mWDt4eyK/62lQB55xXGJK7p8u6bgRv4hVHylelYGGFs64W94tng8sAIVqSRJBpqRA9rFvAysS+9ak8s7557pz5HR4qhCRmWgplpTRJ+bhYfSAMO8/YBucWPuSdmFFtOnuWqvV2NbF6CJnbhNDzEZ/T0XSDrUydzkZCG1z/oIEyUFYxW/KPXNfwopuHDcO04UAAAAAElFTkSuQmCC"},"1a58":function(e,t,o){"use strict";var n=o("53ca"),r=(o("0fb7"),o("450d"),o("f529")),a=o.n(r),s=o("15fd"),i=o("5530"),c=(o("99af"),o("d81d"),o("b0c0"),o("c740"),o("4795"),o("0d03"),o("e9c4"),o("4160"),o("d3b7"),o("159b"),o("7db0"),o("a434"),o("45fc"),o("4e82"),o("2ca0"),o("ac1f"),o("5319"),o("13d5"),o("277d"),o("2b0e")),u=o("2f62"),l=o("bfff"),f=o("63f0"),d=["catalog","latestChapterTitle","intro"],h=[{username:"默认",userNS:"default"}],p=[{groupId:-1,groupName:"全部",order:-10,show:!0},{groupId:-2,groupName:"本地",order:-9,show:!0},{groupId:-3,groupName:"音频",order:-8,show:!0},{groupId:-4,groupName:"未分组",order:-7,show:!0}];c["default"].use(u["a"]);var m=function(e){return e.isManagerMode?e.userNS:(e.userInfo||{}).username||"default"};t["a"]=new u["a"].Store({state:{connected:!1,api:Object(f["a"])("api_prefix")||location.host+"/reader3",shelfBooks:[],readingBook:{},config:Object(i["a"])({},l["b"].config),miniInterface:!1,windowSize:{width:window.innerWidth,height:window.innerHeight},touchable:"ontouchstart"in document,showLogin:!1,loginAuth:!0,token:Object(f["a"])("api_token")||"",bookSourceList:[],isSecureMode:!1,isManagerMode:!1,secureKey:"",userInfo:{},userList:[].concat(h),userNS:"default",showManagerMode:!1,version:"v2.7.1-09270950",filterRules:[],speechVoiceConfig:Object(i["a"])({},l["b"].speechVoiceConfig),safeArea:{top:0,bottom:0,left:0,right:0},autoPlay:!1,failureIncludeTimeout:!1,failureBookSource:[],bookGroupList:[],rssSourceList:[],shelfConfig:Object(i["a"])({},l["b"].shelfConfig),showImageViewer:!1,previewImageIndex:0,previewImgList:[],searchConfig:Object(i["a"])({},l["b"].searchConfig),txtTocRules:[],customConfigList:[].concat(l["b"].customConfigList),showBookInfo:{},cachingBookList:[],bookmarks:[]},mutations:{setShelfBooks:function(e,t){window.shelfBooks=t,e.shelfBooks=t.map((function(e){return{author:e.author,bookUrl:e.bookUrl,coverUrl:e.coverUrl,tocUrl:e.tocUrl,charset:e.charset,customCoverUrl:e.customCoverUrl,canUpdate:e.canUpdate,durChapterIndex:e.durChapterIndex,durChapterPos:e.durChapterPos,durChapterTime:e.durChapterTime,durChapterTitle:e.durChapterTitle,kind:e.kind,intro:e.intro,lastCheckTime:e.lastCheckTime,latestChapterTitle:e.latestChapterTitle,name:e.name,origin:e.origin,originName:e.originName,totalChapterNum:e.totalChapterNum,type:e.type,group:e.group}}))},updateShelfBook:function(e,t){var o=e.shelfBooks.findIndex((function(e){return e.bookUrl===t.bookUrl}));o>=0&&(e.shelfBooks[o]=Object(i["a"])(Object(i["a"])({},e.shelfBooks[o]),{author:t.author||e.shelfBooks[o].author,bookUrl:t.bookUrl||e.shelfBooks[o].bookUrl,coverUrl:t.coverUrl||e.shelfBooks[o].coverUrl,tocUrl:t.tocUrl||e.shelfBooks[o].tocUrl,charset:t.charset||e.shelfBooks[o].charset,customCoverUrl:t.customCoverUrl||e.shelfBooks[o].customCoverUrl,canUpdate:"undefined"===typeof t.canUpdate?e.shelfBooks[o].canUpdate:t.canUpdate,durChapterIndex:t.durChapterIndex||e.shelfBooks[o].durChapterIndex,durChapterPos:t.durChapterPos||e.shelfBooks[o].durChapterPos,durChapterTime:t.durChapterTime||e.shelfBooks[o].durChapterTime,durChapterTitle:t.durChapterTitle||e.shelfBooks[o].durChapterTitle,kind:t.kind||e.shelfBooks[o].kind,intro:t.intro||e.shelfBooks[o].intro,lastCheckTime:t.lastCheckTime||e.shelfBooks[o].lastCheckTime,latestChapterTitle:t.latestChapterTitle||e.shelfBooks[o].latestChapterTitle,name:t.name||e.shelfBooks[o].name,origin:t.origin||e.shelfBooks[o].origin,originName:t.originName||e.shelfBooks[o].originName,totalChapterNum:t.totalChapterNum||e.shelfBooks[o].totalChapterNum,type:t.type||e.shelfBooks[o].type,group:t.group||e.shelfBooks[o].group}),e.shelfBooks=[].concat(e.shelfBooks))},setReadingBook:function(e,t){e.readingBook=t,setTimeout((function(){for(var o=0;o<e.shelfBooks.length;o++)if(e.shelfBooks[o].bookUrl===t.bookUrl){var n=((t.catalog||[])[t.index]||{}).title;e.shelfBooks[o]=Object(i["a"])(Object(i["a"])({},e.shelfBooks[o]),{},{durChapterTime:(new Date).getTime(),durChapterIndex:t.index},n?{durChapterTitle:n}:{});break}e.shelfBooks=[].concat(e.shelfBooks)}),100);t.catalog,t.latestChapterTitle,t.intro;var o=Object(s["a"])(t,d);Object(f["b"])(m(e)+"@readingRecent",JSON.stringify(o))},setConfig:function(e,t){if(delete t.name,delete t.configDefaultType,t.theme!==l["b"].defaultNightTheme&&"custom"!==t.theme?t.themeType="day":t.theme===l["b"].defaultNightTheme&&(t.themeType="night"),e.config=t,t.customConfig){var o=e.customConfigList.findIndex((function(e){return e.name===t.customConfig}));if(o>=0){var n=Object(i["a"])({},e.customConfigList[o]);l["f"].forEach((function(e){"undefined"!==typeof t[e]&&"name"!==e&&"configDefaultType"!==e&&(n[e]=t[e])})),e.customConfigList[o]=n,e.customConfigList=[].concat(e.customConfigList),Object(f["b"])("customConfigList",JSON.stringify(e.customConfigList))}}Object(f["b"])("config",JSON.stringify(t))},setMiniInterface:function(e,t){"自适应"===e.config.pageMode?e.miniInterface=t:e.miniInterface=!0},setWindowSize:function(e,t){e.windowSize=t},setTouchable:function(e,t){e.touchable=t},setApi:function(e,t){e.api=t},setConnected:function(e,t){e.connected=t},setShowLogin:function(e,t){e.showLogin=t,t&&(e.loginAuth=!1)},setLoginAuth:function(e,t){e.loginAuth=t},setToken:function(e,t){e.token=t,Object(f["b"])("api_token",t)},setBookSourceList:function(e,t){e.bookSourceList=t.map((function(e){return{bookSourceGroup:e.bookSourceGroup,bookSourceName:e.bookSourceName,bookSourceType:e.bookSourceType,bookSourceUrl:e.bookSourceUrl,exploreUrl:e.exploreUrl}}))},setUserNS:function(e,t){e.userNS=t},setIsSecureMode:function(e,t){e.isSecureMode=t},setSecureKey:function(e,t){e.secureKey=t},setIsManagerMode:function(e,t){e.isManagerMode=t},setShowManagerMode:function(e,t){e.showManagerMode=t},setUserInfo:function(e,t){e.userInfo=t},setUserList:function(e,t){t.length?e.userList=[].concat([{username:"系统默认",userNS:"default"}]).concat(t):e.userList=[].concat(h)},setFilterRules:function(e,t){e.filterRules=t,Object(f["b"])("filterRules",JSON.stringify(t))},addFilterRule:function(e,t){var o=[].concat(e.filterRules);"undefined"!==typeof t.index&&t.index>=0?(o[t.index]=t,e.filterRules=o):(o=o.concat([t]),e.filterRules=o)},setNightTheme:function(e,t){var o,n=Object(i["a"])({},e.config);o=t?e.customConfigList.find((function(e){return"黑夜默认"===e.configDefaultType})):e.customConfigList.find((function(e){return"白天默认"===e.configDefaultType})),o?(n=Object(i["a"])(Object(i["a"])({},n),o),n.customConfig=o.name,e.config=n,Object(f["b"])("config",JSON.stringify(n))):a.a.error("未配置"+(t?"黑夜默认":"白天默认")+"方案")},setCustomConfig:function(e,t){var o=e.customConfigList.find((function(e){return e.name===t}));if(o){var n=Object(i["a"])(Object(i["a"])({},e.config),o);n.customConfig=o.name,e.config=n,Object(f["b"])("config",JSON.stringify(n))}},setSpeechVoiceConfig:function(e,t){e.speechVoiceConfig=t,Object(f["b"])("speechVoiceConfig",JSON.stringify(t))},setSafeArea:function(e,t){e.safeArea=Object(i["a"])(Object(i["a"])({},e.safeArea),t)},setAutoPlay:function(e,t){e.autoPlay=t},addFailureBookSource:function(e,t){var o=t.bookSourceUrl,n=t.errorMsg,r=e.failureBookSource.findIndex((function(e){return e.bookSourceUrl===o}));if(!(r>=0)){var a=e.bookSourceList.find((function(e){return e.bookSourceUrl===o}));a&&(e.failureBookSource=e.failureBookSource.concat([Object(i["a"])(Object(i["a"])({},a),{},{errorMsg:n})]))}},removeFailureBookSource:function(e,t){for(var o=function(o){var n=e.failureBookSource.findIndex((function(e){return e.bookSourceUrl===t[o].bookSourceUrl}));n>=0&&e.failureBookSource.splice(n,1)},n=0;n<t.length;n++)o(n)},setFailureIncludeTimeout:function(e,t){e.failureIncludeTimeout=t},setBookGroupList:function(e,t){var o=[];p.forEach((function(e){t.some((function(t){return t.groupId===e.groupId}))||o.push(e)})),e.bookGroupList=o.concat(t).sort((function(e,t){return e.order-t.order}))},setRssSourceList:function(e,t){e.rssSourceList=[].concat(t)},setShelfConfig:function(e,t){e.shelfConfig=t,Object(f["b"])("shelfConfig",JSON.stringify(t))},setPreviewImageIndex:function(e,t){e.previewImageIndex=t},setPreviewImgList:function(e,t){!1===t?(e.showImageViewer=!1,e.previewImgList=[],e.previewImageIndex=0):(e.previewImgList=t,e.showImageViewer=!0)},setSearchConfig:function(e,t){e.searchConfig=t,Object(f["b"])("searchConfig",JSON.stringify(t))},setTxtTocRules:function(e,t){e.txtTocRules=[].concat(t)},setCustomConfigList:function(e,t){e.customConfigList=[].concat(t),Object(f["b"])("customConfigList",JSON.stringify(t))},setShowBookInfo:function(e,t){e.showBookInfo=t},setCachingBookList:function(e,t){e.cachingBookList=[].concat(t)},setBookmarks:function(e,t){e.bookmarks=t}},getters:{api:function(e){return e.api.startsWith("http://")||e.api.startsWith("https://")?e.api:e.api.startsWith("//")?window.location.protocol.startsWith("http")?e.api:"http:"+e.api:window.location.protocol.startsWith("http")?"//"+e.api:"http://"+e.api},apiRoot:function(e,t){return t.api.replace(/\/reader3\/?/,"")},isSlideRead:function(e){return e.miniInterface&&"左右滑动"===e.config.readMethod},isSystemNight:function(e){return e.config.theme===l["b"].defaultNightTheme},isNight:function(e){return"night"===e.config.themeType},isKindlePage:function(e){return"Kindle"===e.config.pageType},isNormalPage:function(e){return"正常"===e.config.pageType},currentContentBGImg:function(e,t){if(e.config.contentBGImg)return e.config.contentBGImg.startsWith("bg/")||e.config.contentBGImg.startsWith("http://")||e.config.contentBGImg.startsWith("https://")||e.config.contentBGImg.startsWith("//")?e.config.contentBGImg:t.apiRoot+e.config.contentBGImg},customCSSUrl:function(e,t){return!!t.api&&t.apiRoot+"/assets/reader.css"},currentFontFamily:function(e){return l["b"].fonts[e.config.font]},currentCustomFontFamily:function(e,t){var o=l["a"][e.config.font];if(e.config.customFontsMap&&e.config.customFontsMap[o]){var n=e.config.customFontsMap[o];return{name:o,url:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("//")?n:t.apiRoot+n}}return null},currentThemeConfig:function(e,t){if("custom"===e.config.theme)return{body:(e.miniInterface&&e.config.isNormalPage?"linear-gradient(to bottom,rgba(0,0,0,.2) 0,transparent 56px), ":"")+(e.config.bodyColor||"#eadfca"),content:{backgroundImage:t.currentContentBGImg?"".concat(e.miniInterface&&e.config.isNormalPage?"linear-gradient(to bottom,rgba(0,0,0,.2) 0,transparent 56px), ":"","url(").concat(t.currentContentBGImg,")"):null,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",backgroundColor:e.config.contentColor||"#ede7da",backgroundSize:"cover"},popupPure:e.config.popupColor||"#ede7da",popup:(e.miniInterface&&e.config.isNormalPage?"linear-gradient(to bottom,rgba(0,0,0,.2) 0,transparent 36px), ":"")+(e.config.popupColor||"#ede7da")};var o=Object(i["a"])({},l["b"].themes[e.config.theme]);return o.popupPure=o.popup,e.miniInterface&&e.config.isNormalPage&&(o.body="linear-gradient(to bottom,rgba(0,0,0,.2) 0,transparent 36px), "+o.body,o.content="linear-gradient(to bottom,rgba(0,0,0,.2) 0,transparent 36px), "+o.content,o.popup="linear-gradient(to bottom,rgba(0,0,0,.2) 0,transparent 36px), "+o.popup),o},shelfBooks:function(e){return e.shelfBooks.sort((function(e,t){var o=e["durChapterTime"]||0,n=t["durChapterTime"]||0;return n-o}))},bookSourceGroupList:function(e){var t={};e.bookSourceList.forEach((function(e){e.bookSourceGroup&&(t[e.bookSourceGroup]=1+(0|t[e.bookSourceGroup]))}));var o=[{name:"全部分组",value:"",count:e.bookSourceList.length}];for(var n in t)Object.hasOwnProperty.call(t,n)&&o.push({name:n,value:n,count:t[n]});return o},builtInBookGroupMap:function(){return p.reduce((function(e,t){return e[t.groupId]=t.groupName,e}),{})},config:function(e){return e.config},collapseMenu:function(e){return e.miniInterface},dialogWidth:function(e){return e.miniInterface?"85%":Math.min(Math.max(.7*e.windowSize.width,750),1e3)+"px"},dialogSmallWidth:function(e){return e.miniInterface?"85%":"500px"},dialogTop:function(e,t){return(e.windowSize.height-t.dialogContentHeight-70-54-60)/2+"px"},dialogContentHeight:function(e){return e.miniInterface?e.windowSize.height-54-60-70:Math.min(.7*e.windowSize.height-70-54-60,400)},popupWidth:function(e){return e.miniInterface?e.windowSize.width:"600"},currentUserName:function(e){return m(e)},currentChapter:function(e){return e.readingBook&&e.readingBook.catalog?e.readingBook.catalog[e.readingBook.index]:{}},readingBook:function(e){return Object(i["a"])(Object(i["a"])({},e.readingBook),e.shelfBooks.find((function(t){return t.bookUrl===e.readingBook.bookUrl}))||{})}},actions:{syncFromLocalStorage:function(e){var t=e.commit,o=e.getters;try{var r=Object(f["a"])("config");r&&"object"===Object(n["a"])(r)&&t("setConfig",Object(i["a"])(Object(i["a"])({},l["b"].config),r))}catch(h){}try{var a=Object(f["a"])(o.currentUserName+"@readingRecent");a&&"object"===Object(n["a"])(a)&&("undefined"==typeof a.index&&(a.index=0),t("setReadingBook",a))}catch(h){}try{var s=Object(f["a"])("customConfigList");s&&Array.isArray(s)&&(t("setCustomConfigList",s),o.config&&o.config.customConfig&&t("setCustomConfig",o.config.customConfig))}catch(h){}try{var c=Object(f["a"])("speechVoiceConfig");c&&"object"===Object(n["a"])(c)&&t("setSpeechVoiceConfig",Object(i["a"])(Object(i["a"])({},l["b"].speechVoiceConfig),c))}catch(h){}try{var u=Object(f["a"])("shelfConfig");u&&"object"===Object(n["a"])(u)&&t("setShelfConfig",Object(i["a"])(Object(i["a"])({},l["b"].shelfConfig),u))}catch(h){}try{var d=Object(f["a"])("searchConfig");d&&"object"===Object(n["a"])(d)&&t("setSearchConfig",Object(i["a"])(Object(i["a"])({},l["b"].searchConfig),d))}catch(h){}}}})},"1e75":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAgMAAABjUWAiAAAADFBMVEXM2t7O3ODQ3uLR4OTDp25yAAACdUlEQVQozw3P70sTcQDH8c/3/M7NG+j35mnHwjwh4hRy/QFK3zvPNbeIG1koPZmxfj2IDAwihL53zj0JYisfmEHcZJZOiBUG60lZiI8T/ANusuftgQ+kCPIPeMP7hS5mUrV9c1g6MQCAEZ8tDLHwofImAGRlX+SZK3Vu9rRRPuO4PK6/9nA4GIATsxlODS+rdCMhkAZivpYV0LWoQHSLSA4NfUg+6mY+7BKL2++F9LvnrBDYm6JO9i/YO3i/HJTGQ4pdIV82TbEDFG6vGYCd4wZchgK5J2CrKTLE+Tx0v+YGlIbdWJFcQl4ptBN8fUJQN1MCJLcZLYwUVVo+famGGty8EXJF5ofOEDzcodT3/Fb0I5sHmc1ZG7CcSl8COgxlXx09jT05OafjCZLIHJhGIaU6wDZHsuMQ41wbdjmQXbhKnMq1zlXSYrjCnyZblqexA7fC8RxS74tq2P3OxSQwTuJSApH8OZLzBBp1pOe0i3rdyDUA47GySZ31YmC4EQYSXvFSvieORGBxXF9aeVtUWKGS9WMC4Z9Y2uXnJ2nCUXVMbPOYqNYNmGWWQ7Evr+BWC+a0JAMTImcq/S4Z5INdQMeuOqDIMa9beilxfA60iC6sP1INcPDpmHBW8drZHNmqwyddJtVje9q8WGUgWAOzmbU4FCQBFi8B2Wk6pickBnYhJMenmJGuRmtt2IoKq9NuFGbNFR99sHnvrnLsLysKANDIsxbp6RNMAsoDSKuRpMwZbAAzI68QatIjmZ0aImyM3O8/4e2MNlOHZomFsa/fLDsysliHS+nlYLQJMnynxrH8QO4PaAV2Li8B/+52UgeGIVNFYf8B1XG/kFSmLcUAAAAASUVORK5CYII="},2309:function(e,t,o){},2465:function(e,t,o){"use strict";o("e11d")},3383:function(e,t,o){e.exports=o.p+"img/mpcode.560264c9.jpg"},"356c":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAgMAAABjUWAiAAAADFBMVEXPz8/R0dHT09PU1NToNyAhAAACdElEQVQozw3NP0xTQQDH8d9d7sFrG+QeKVgQ4aoFCwFkYERyLY//0UB8GNGg1WAC0RBGJrzW4mCXQmpgvCYOwEAYiulSpYtza2KiW7s5FgNJFSV2/CzfL7RwpoJ20iadmgA8owOyaxmusKE44scBeb4vIv00dqYgmf6jzWcr7W6INbDQeZbQL9ytXeYgtFfzmW1Fek5msxJlwhyt6qDDxOLQzpVPompYrMPnEnhvLm7M5BxY5nowAj3zkydAkpC0FIG6g7AK+Ub25ybyNWVYwtpseP2rfrQwiGRpfqrnMuPeuvr2dA0p2YsHF2XghkrXKtZ8tLBjR7S2qIaYbKmyLd/QP+EogLjqqwNw5Lq1pDlMLkM5+gNoSvdq+Pxmz9/61EFq6GYM6GqaGvlN95zy3gsmEWI8K3k8OP9OmRLEPO6DP3Wv3g42COinJTZ33dcIvs4ESp6opMTjDs6mcYTEbFeUifuxh989yZrIx4lkpuixxz0nHLCekKbE17suKhYkMGhoYhTZtVBvg4bfq/1L1Im0AGMVpBFwumM0zwyuKiCMi5dqR4Flx47AGyF2xTbxqUdTwCH94BT3DozpLV5WuAL/N8rGtHKjotBOOuOtCJ9E21uqsyBoLOzaXbHPrK5PQBP+fBfeidvJAeMIAmzVt5IkJJ9DBWaZDAepYUhlQqHt0h72SJ3j8TZHom64f516xx9T5evgMPgwG82jZdJaJIDyWp6LAjOCclVyzNA3iTKzIULlBQEPaTXlPHok5gISclmyaWZlqY2aTHdRHpJOwTdDEQ3ZfKtbpclcNhyVClagmY+fIfyKukntPqBgnx5QvZHk/D/MK8JMClrSigAAAABJRU5ErkJggg=="},"3e1c":function(e,t,o){e.exports=o.p+"img/noImage.7443b2ba.png"},4039:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyBAMAAADsEZWCAAAAD1BMVEX0/PTx+fH2/vbz+/P4//htSO9OAAAC5UlEQVQ4yyWT0QGjMAxDZTsDWKQDmJQBYrgBUsr+M517x0+LRWw9CyA+pC1YzndrMgHaNXVKQ+di13Of1qbur48nWhuRjj8i6ON8e7pNm7zyag/DBTfS9Z4Hup1fUuXMKY4HEE8QOHCByXkIkl7lDT239RtL9quO4JItmmhOAHXg45QuYKrQFLyGJcRvaTw6kQqZy6mkR6JAPFH/XqsQjEDRmUOA+MNLHGyMUT7AHApoAhjgjIJmCxy6XHdf648AWCdGe57IUDazCeTImQOY4/z+eVYVX2IjOw9RydeAeJwl79iGi4HpgQgHEchWraUZLtayu8scq0lHHHUKMY3Ml8hB7CS1jOckDLG9ccgNeX3124phOcjL9fPnWJhTXpLHeG9DRmHnTxHEaHakS2J51lwAJcUraNbuU7q4gMTDQj3Eripc/x+qFM5VEKAB1roQfAkX5/PxqnS2QpOrxfK1Zft0/omV5T+xCSBUAIbEIwUQgvAfxFE1O8dnk233+1UZiqJ1mAbsue6Yt8tF+yOrxC/YrUhzC4qPlE3EbR5hGKhhHdlrg7J9WunV7L7BcYQwAeE59u2tnN1c6gfVYrQiLSZ9OxZdWDXQq0+r0Pbarh3UqGCwauVvbiXuDsNxCtLDdW9rTF8oQYN4EoXXdfmwNguQP26n/tRjDeo+F2W7PjWtfSr6Bn/z+cXOLp4NnMV4RytvSW4B68m+XN9XfZTFGhO/S+cHTuTqZDC21ccA0N7QsePALaDQC3D1f94U9CWo+aq6BjB3v0rxIimBM12296M3aKPHjXLQE9KQKH4By8RHraJ3AgVto2r4xdFqlaPaiAHLl1ZF4P2pI6cYc+K8UZdcmxy7lqGc1IoPxLmIFuIeEZ6j2sQT88muEg1zwrEDTIX5U/ZmcsqfgVlBumiBLF4sAyhf9BFlXOPKLZ4H0iFb3VoHrGhtHTldKrOvP2/reu2zfV8CXMPqzRdlgd0a5eI7WwB/AYcgavcqxXWEAAAAAElFTkSuQmCC"},4400:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyBAMAAADsEZWCAAAAElBMVEUQERMODxESFBYWGBkaHB0eICLm6ozJAAACkUlEQVQ4yyWTUdLbMAiEASfvoOkBkBy/O5keIE0v8E/uf5h+68qZWALELgu2MG9PP9qyvCzTVhrrsPGOCjvTfXQZvtp/W3Gy6LCITqs4q/DZ+KYl76zKzHVYpY2wNY27nqN1sbLGcrLH3/ENH4oWlGctsDu8AO+HzTLlsYdh8MzP1m6YDMz0ACfcimvakBj+mwO/+5Uta5teOD379sxK1fUxmUhv8MU3jUT5gs26PMephFznkLcpQZ6/dPL9C/GWHcCxDN6oZhD5xBm5qoYBPA+PFE/H1tXDWcWl8TW7rS+4dUzAVy0BIrvC4/HcqW2TkG1HO8q9dC23INAg7NA4AFRFkDTM2lfELPyFzi1VddcpX2z0KjHBUDmdLNJ6dDps4ytrX+FPsZwE31wSL+6OWfHOAJ3+Y0Rk/MiKfmWNPg7oVP/U3Ck9FoCkC2gBpALOiqbMNTkOe8P4FWkTD2Y9Q3+5VmV0uLUJBl68U5uAK2Kl6QDXvLxbwweOL2sixW78uU8p0ysfc7cWrF1j6B1sPJ4WgclYSnJN1bzozrhEcFHmRzBkbJWqqdG+EYJXRFmT5jnLXPUNF6WBdoFbTxYsmDXVLU/WA7MExNc93sJS5hIXDeLxzMScHzdhKvEkibr6cQXYPrmtmTA7JcInISrTzRDvShTdka0uVGrsJAAR6tSn1sKziZtfKVjAxPrJsYgZO0bye+vKTZ/DgoAoLGNO6jYHimZYTL/3pLJHawquJukjBpfz8WOGVSVIWx9ywUfS5iENutidRM4NzkAmxgUSQ68xgNOU+ZLalr4TS2V+D2xqukZig+Z9DilR7Nouzwp1cp/3E5q6Rdlf08obKvAM4qZ6pMr+w3PmQALSSBfjyZn5DwrNRVbywBQiAAAAAElFTkSuQmCC"},"454b":function(e,t,o){"use strict";o("879f")},"45c8":function(e,t,o){},"477e":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAgMAAABjUWAiAAAACVBMVEX28ef48+n69esoK7jYAAAB4UlEQVQozw2OsW4bQQxEhwLXkDrysGdEqRRgVShfQQq8wOr2jD0jSpXCLvwXbtKfADlFqgSwC/9ljqweZgYzQFnb/QGepYhA9jzmTc1WaSEtQpbFgjWATI00ZZtIckXx8q2Oe5yEByBy+RHOTcM+VVTadULsvxvRC/q8WTwgcWGD+Mnaqa0oy2gw2pKFzK+PzEsus5hP9AHojKslVynLlioVTBEN8cjDNnZoR1uMGTiZAAN47HxMtEkGUE9b8HWzkqNX5Lpk0yVziAJOs46rK1pG/xNuXLjz95fSDoJE5IqG23MAYPtWoeWPvfVtIV/Ng9oH3W0gGMPIOqd4MK4QZ55dV61gOb8Zxp7I9qayaGxp6Q91cmC0ZRdBwEQVHWzSAanlZwVWc9yljeTCeaHjBVvlPSLeyeBUT2rPdJegQI103jVS3uYkyIx1il6mslMDedZuOkwzolsagvPuQAfp7cYg7k9V1NOxfq64PNSvMdwONV4VYEmqlbpZy5OAakRKkjPnL4CBv5/OZRgoWHBmNbxB0LgB1I4vXFj93UoF2/0TPEsWwV9EhbIiTPqYoTHYoMn3enTDjmrFeDTIzaL1bUC/PBIMuF+vSSYSaxoVt90EO3Gu1zrMuMRGUk7Ffv3L+A931Gsb/yBoIgAAAABJRU5ErkJggg=="},4871:function(e,t,o){"use strict";o("de97")},"490c":function(e,t,o){"use strict";o("2309")},"516e":function(e,t,o){},5629:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAgMAAABjUWAiAAAADFBMVEXN383Q4tDP4c/R5NEInCCXAAACVElEQVQozw3Hv2sTYRwH4M/79pJ7bZL2bXqtERJ97zjUpbZDhg6pfC8qibi8hLR0EaJ0EFxaCSWDxjfpj1zrYBcRBKE6SAfBJWsx9i8IQfdQxDlKtA6t2OnhQfN3lbG7ytYRywF8rVoPCNO0X2sQOKDpAnSDK2VwkHgmh5yLGT8qASt+2KofnNt2Xg1gf1UF8AoM6052cRMNaloLZb7RKQGrKKji2OefsZF+VqIvos5ZLVIZCX61JcwUdk56wASVkgQvzPfvmT2twTSwyYaC/Pl/UhAHorFhBgZtL6XdAZRp1tkPwC1NLa9CWs5prLhI85NBQsLdXvjDymG3/EbYfQhVNYqc3TtktQhWLY3ko0QsdMbSEp+64v0NfxyqLbIGdh6M2xHHlLBGqKTyQo4E/nebBgBfe1GpdeywYXc8CT7D3cKXuMXkBy4xN6o5OuKamYp3DVI6uccO9lxgd2CAlJgI2BGgaAgIJV/TYwKqu3WFccjbMuA+bVkWgS2bfnlRbD1Eb1sDyWMmjKYIBgGAWbqKRicfvzBkBIz3V5AKnguWdglQEysQsSuVzOg6ALy1pitA5ykGCsc857BRYcgCSZyFOdvoOigSGoPc5Ta73mgxshIcQE5sHMHd9D7yqITw7JO+GHVMxjhzYLcKPSEgmz3fU+BRy3iYNtiXLaBssCW8KguReqkQOTb3MStV0Ugt4U1eIs1RZWRII6Ww8xeNNItyGGQI4ZMlpg/3lQtkl2JFnBp1imRyFe0kK2Id3PCslMgiQNMS77gvFeDhG3cSkYvheeg/e7ClIh5oh+IAAAAASUVORK5CYII="},"56d7":function(e,t,o){"use strict";o.r(t);o("e6cf"),o("a4d3"),o("c975"),o("45fc"),o("d3b7"),o("2ca0");var n=o("2b0e"),r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("keep-alive",[o("router-view")],1),o("el-dialog",{attrs:{visible:e.showLogin,width:e.dialogWidth,top:e.dialogTop},on:{"update:visible":function(t){e.showLogin=t}}},[o("div",{staticClass:"custom-dialog-title",attrs:{slot:"title"},slot:"title"},[o("span",{staticClass:"el-dialog__title"},[e._v(e._s(e.isLogin?"登录":"注册")+" "),o("span",{staticClass:"float-right span-btn",on:{click:function(t){e.isLogin=!e.isLogin}}},[e._v(e._s(e.isLogin?"注册":"登录"))])])]),o("el-form",{attrs:{model:e.loginForm}},[o("el-form-item",{attrs:{label:"用户名"}},[o("el-input",{attrs:{autocomplete:"on"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),o("el-form-item",{attrs:{label:"密码"}},[o("el-input",{attrs:{type:"password",autocomplete:"on","show-password":""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),e.isLogin?e._e():o("el-form-item",{attrs:{label:"邀请码(没有则不填)"}},[o("el-input",{attrs:{autocomplete:"off"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)}},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}})],1),o("el-checkbox",{model:{value:e.remember,callback:function(t){e.remember=t},expression:"remember"}},[e._v("记住登录信息")])],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"medium"},on:{click:e.cancel}},[e._v("取 消")]),o("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.login}},[e._v("确 定")])],1)],1),o("el-dialog",{attrs:{title:e.editorTitle,visible:e.showEditor,width:e.dialogWidth,top:e.$store.state.miniInterface?"0":"10vh",fullscreen:e.$store.state.miniInterface},on:{"update:visible":function(t){e.showEditor=t}}},[o("div",{ref:"editorRef",staticClass:"code-editor language-json"}),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"medium"},on:{click:e.closeEditor}},[e._v("取 消")]),o("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.saveEditor}},[e._v("保 存")])],1)]),e.$store.state.showImageViewer?o("ImageViewer",{attrs:{"z-index":3200,"initial-index":e.$store.state.previewImageIndex,"on-close":e.closeViewer,"url-list":e.$store.state.previewImgList}}):e._e(),o("ReplaceRuleForm",{attrs:{rule:e.replaceRule,isAdd:e.isAddReplaceRule},model:{value:e.showReplaceRuleForm,callback:function(t){e.showReplaceRuleForm=t},expression:"showReplaceRuleForm"}}),o("ReplaceRule",{model:{value:e.showReplaceRuleDialog,callback:function(t){e.showReplaceRuleDialog=t},expression:"showReplaceRuleDialog"}}),o("MPCode",{model:{value:e.showMPCodeDialog,callback:function(t){e.showMPCodeDialog=t},expression:"showMPCodeDialog"}}),o("BookManage",{model:{value:e.showBookManageDialog,callback:function(t){e.showBookManageDialog=t},expression:"showBookManageDialog"}}),o("BookInfo",{model:{value:e.showBookInfoDialog,callback:function(t){e.showBookInfoDialog=t},expression:"showBookInfoDialog"}}),o("UserManage",{model:{value:e.showUserManageDialog,callback:function(t){e.showUserManageDialog=t},expression:"showUserManageDialog"}}),o("AddUser",{model:{value:e.showAddUserDialog,callback:function(t){e.showAddUserDialog=t},expression:"showAddUserDialog"}}),o("BookGroup",{attrs:{isSet:e.isSetBookGroup},model:{value:e.showBookGroupDialog,callback:function(t){e.showBookGroupDialog=t},expression:"showBookGroupDialog"}}),o("RssSourceList",{model:{value:e.showRssSourceListDialog,callback:function(t){e.showRssSourceListDialog=t},expression:"showRssSourceListDialog"}}),o("RssArticleList",{attrs:{rssSource:e.rssSource},model:{value:e.showRssArticleListDialog,callback:function(t){e.showRssArticleListDialog=t},expression:"showRssArticleListDialog"}}),o("RssArticle",{attrs:{rssArticleInfo:e.rssArticleInfo},model:{value:e.showRssArticleDialog,callback:function(t){e.showRssArticleDialog=t},expression:"showRssArticleDialog"}}),o("SearchBookContent",{attrs:{book:e.searchBook},model:{value:e.showSearchBookContentDialog,callback:function(t){e.showSearchBookContentDialog=t},expression:"showSearchBookContentDialog"}}),o("BookmarkForm",{attrs:{bookmark:e.bookmark,isAdd:e.isAddBookmark},model:{value:e.showBookmarkForm,callback:function(t){e.showBookmarkForm=t},expression:"showBookmarkForm"}}),o("Bookmark",{attrs:{book:e.bookmarkInBook},model:{value:e.showBookmarkDialog,callback:function(t){e.showBookmarkDialog=t},expression:"showBookmarkDialog"}}),o("FileManager",{attrs:{title:e.fileManagerTitle,home:e.fileManagerHome},model:{value:e.showFileManager,callback:function(t){e.showFileManager=t},expression:"showFileManager"}}),o("BookCover",{attrs:{book:e.bookCoverBook},model:{value:e.showBookCoverDialog,callback:function(t){e.showBookCoverDialog=t},expression:"showBookCoverDialog"}})],1)},a=[],s=o("5530"),i=o("c7eb"),c=o("1da1"),u=(o("0d03"),o("ac1f"),o("00b4"),o("5319"),o("4d63"),o("c607"),o("2c3e"),o("25f0"),o("e323"),o("4795"),o("e260"),o("3ca3"),o("ddb0"),o("d401"),o("7db0"),o("b0c0"),o("be3b")),l=o("8552"),f=o("08a9"),d=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.$store.getters.isNormalPage?o("el-dialog",{class:e.isWebApp&&!e.$store.getters.isNight?"status-bar-light-bg-dialog":"",attrs:{title:"替换规则管理",visible:e.show,width:e.dialogWidth,top:e.dialogTop,fullscreen:e.$store.state.miniInterface,"before-close":e.cancel},on:{"update:visible":function(t){e.show=t}}},[o("div",{staticClass:"custom-dialog-title",attrs:{slot:"title"},slot:"title"},[o("span",{staticClass:"el-dialog__title"},[e._v("替换规则管理 "),o("span",{staticClass:"float-right span-btn",on:{click:e.uploadFile}},[e._v("导入")]),o("input",{ref:"fileRef",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:function(t){return e.onFileChange(t)}}})])]),o("div",{staticClass:"source-container table-container"},[o("el-table",{attrs:{data:e.$store.state.filterRules,height:e.dialogContentHeight},on:{"selection-change":function(t){e.localSelection=t}}},[o("el-table-column",{attrs:{type:"selection",width:"25",fixed:e.$store.state.miniInterface}}),o("el-table-column",{attrs:{property:"name","min-width":"150px",label:"规则名称",fixed:e.$store.state.miniInterface}}),o("el-table-column",{attrs:{property:"scope",label:"替换范围","min-width":"150px"}}),o("el-table-column",{attrs:{property:"isEnabled",label:"是否启用","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":!0,"inactive-value":!1},on:{change:function(o){return e.toggleRuleEnabled(t.row,o)}},model:{value:t.row.isEnabled,callback:function(o){e.$set(t.row,"isEnabled",o)},expression:"scope.row.isEnabled"}})]}}],null,!1,2011687545)}),o("el-table-column",{attrs:{label:"操作",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"text"},on:{click:function(o){return e.editReplaceRule(t.row)}}},[e._v("编辑")])]}}],null,!1,1473522600)})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{staticClass:"float-left",attrs:{type:"primary",size:"medium"},on:{click:e.deleteReplaceRules}},[e._v("批量删除")]),o("span",{staticClass:"check-tip"},[e._v("已选择 "+e._s(e.localSelection.length)+" 个")]),o("el-button",{attrs:{size:"medium"},on:{click:e.cancel}},[e._v("取消")])],1)]):e._e()},h=[],p=(o("277d"),o("4160"),o("159b"),o("99af"),o("2f62")),m={model:{prop:"show",event:"setShow"},name:"ReplaceRule",data:function(){return{localSelection:[]}},computed:Object(s["a"])({},Object(p["b"])(["dialogWidth","dialogTop","dialogContentHeight"])),props:["show"],watch:{show:function(e){}},methods:{formatTableField:function(e,t,o){switch(t.property){default:return o}},cancel:function(){this.$emit("setShow",!1)},deleteReplaceRules:function(){var e=this;return Object(c["a"])(Object(i["a"])().mark((function t(){var o;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.localSelection.length){t.next=3;break}return e.$message.error("请选择需要删除的替换规则"),t.abrupt("return");case 3:return t.next=5,e.$confirm("确认要删除所选择的替换规则吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})["catch"]((function(){return!1}));case 5:if(o=t.sent,o){t.next=8;break}return t.abrupt("return");case 8:u["a"].post(e.api+"/deleteReplaceRules",e.localSelection).then((function(t){t.data.isSuccess&&(e.localSelection=[],e.$message.success("删除替换规则成功"),e.$root.$children[0].loadReplaceRules(!0))}),(function(t){e.$message.error("删除替换规则失败 "+(t&&t.toString()))}));case 9:case"end":return t.stop()}}),t)})))()},toggleRuleEnabled:function(e,t){var o=this;u["a"].post("/saveReplaceRule",Object(s["a"])(Object(s["a"])({},e),{},{isEnabled:t})).then((function(e){e.data.isSuccess&&(o.$message.success("修改成功"),o.$root.$children[0].loadReplaceRules(!0))}),(function(e){o.$message.error("修改失败 "+(e&&e.toString()))}))},editReplaceRule:function(e){l["a"].$emit("showReplaceRuleForm",Object(s["a"])({},e),!1)},uploadFile:function(){this.$refs.fileRef.dispatchEvent(new MouseEvent("click"))},onFileChange:function(e){var t=this,o=e.target.files&&e.target.files[0],n=new FileReader;n.onload=function(e){var o=e.target.result;try{var n=JSON.parse(o);Array.isArray(n)&&n.length&&t.comfirmImport(n)}catch(r){t.$message.error("替换规则文件错误")}},n.onerror=function(){var e=new FormData;e.append("file",o),u["a"].post(t.api+"/readSourceFile",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){if(e.data.isSuccess){var o=[];e.data.data.forEach((function(e){try{var t=JSON.parse(e);Array.isArray(t)&&(o=o.concat(t))}catch(n){}})),o.length?t.comfirmImport(o):t.$message.error("替换规则文件错误")}}),(function(e){t.$message.error("读取替换规则文件内容失败 "+(e&&e.toString()))}))},n.readAsText(o),this.$refs.fileRef.value=null},comfirmImport:function(e){var t=this;return Object(c["a"])(Object(i["a"])().mark((function o(){var n;return Object(i["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,t.$confirm("确认要导入文件中的".concat(e.length,"条替换规则吗?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})["catch"]((function(){return!1}));case 2:if(n=o.sent,n){o.next=5;break}return o.abrupt("return");case 5:u["a"].post(t.api+"/saveReplaceRules",e).then((function(e){e.data.isSuccess&&(t.$message.success("导入替换规则成功"),t.$root.$children[0].loadReplaceRules(!0))}),(function(e){t.$message.error("导入替换规则失败 "+(e&&e.toString()))}));case 6:case"end":return o.stop()}}),o)})))()}}},g=m,b=(o("4871"),o("2877")),k=Object(b["a"])(g,d,h,!1,null,"3006e14f",null),w=k.exports,v=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.$store.getters.isNormalPage?o("el-dialog",{class:e.isWebApp&&!e.$store.getters.isNight?"status-bar-light-bg-dialog":"",attrs:{title:"替换规则",visible:e.show,width:e.dialogWidth,top:e.dialogTop,fullscreen:e.$store.state.miniInterface,"before-close":e.cancel},on:{"update:visible":function(t){e.show=t}}},[o("el-form",{attrs:{model:e.ruleForm}},[o("el-form-item",{attrs:{label:"名称"}},[o("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),o("el-form-item",{attrs:{label:"规则"}},[o("el-input",{model:{value:e.ruleForm.pattern,callback:function(t){e.$set(e.ruleForm,"pattern",t)},expression:"ruleForm.pattern"}})],1),o("el-form-item",{attrs:{label:"替换为"}},[o("el-input",{model:{value:e.ruleForm.replacement,callback:function(t){e.$set(e.ruleForm,"replacement",t)},expression:"ruleForm.replacement"}})],1),o("el-form-item",{attrs:{label:"替换范围"}},[o("el-input",{model:{value:e.ruleForm.scope,callback:function(t){e.$set(e.ruleForm,"scope",t)},expression:"ruleForm.scope"}})],1),o("el-checkbox",{model:{value:e.ruleForm.isRegex,callback:function(t){e.$set(e.ruleForm,"isRegex",t)},expression:"ruleForm.isRegex"}},[e._v("使用正则表达式")]),o("el-checkbox",{model:{value:e.ruleForm.isEnabled,callback:function(t){e.$set(e.ruleForm,"isEnabled",t)},expression:"ruleForm.isEnabled"}},[e._v("是否启用")])],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"medium"},on:{click:e.cancel}},[e._v("取 消")]),o("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)],1):e._e()},A=[],S=o("bfff"),B={model:{prop:"show",event:"setShow"},name:"ReplaceRuleForm",data:function(){return{ruleForm:Object(s["a"])({},S["d"])}},props:["show","rule","isAdd"],computed:Object(s["a"])({},Object(p["b"])(["dialogWidth","dialogTop","dialogContentHeight"])),watch:{show:function(e){e&&(this.ruleForm=this.rule||Object(s["a"])({},S["d"]))}},methods:{cancel:function(){this.$emit("setShow",!1)},save:function(){var e=this;if(this.ruleForm.name)if(this.ruleForm.pattern)if(this.ruleForm.scope){if(this.isAdd){var t=this.$store.state.filterRules.find((function(t){return t.name===e.ruleForm.name}));if(t)return void this.$message.error("规则名不能重复")}var o=Object(s["a"])({},this.ruleForm);u["a"].post("/saveReplaceRule",o).then((function(t){t.data.isSuccess&&(e.$message.success((e.isAdd?"新增":"编辑")+"替换规则成功"),e.$root.$children[0].loadReplaceRules(!0),e.cancel())}),(function(t){e.$message.error((e.isAdd?"新增":"编辑")+"替换规则失败 "+(t&&t.toString()))}))}else this.$message.error("替换范围不能为空");else this.$message.error("规则不能为空");else this.$message.error("规则名不能为空")}}},C=B,y=(o("b5ed"),Object(b["a"])(C,v,A,!1,null,"f3156612",null)),x=y.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{class:e.isWebApp&&!e.$store.getters.isNight?"status-bar-light-bg-dialog":"",attrs:{title:"关注公众号【假装大佬】",visible:e.show,width:e.dialogSmallWidth,top:e.dialogTop,fullscreen:e.$store.state.miniInterface,"before-close":e.cancel},on:{"update:visible":function(t){e.show=t}}},[n("el-image",{staticClass:"qrcode-img",attrs:{src:o("3383"),fit:"cover",lazy:""}})],1)},I=[],j={model:{prop:"show",event:"setShow"},name:"ReplaceRuleForm",data:function(){return{}},props:["show"],computed:Object(s["a"])({},Object(p["b"])(["dialogSmallWidth","dialogTop"])),methods:{cancel:function(){this.$emit("setShow",!1)}}},R=j,U=(o("7ea0"),Object(b["a"])(R,O,I,!1,null,"52ffc46f",null)),L=U.exports,T=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.$store.getters.isNormalPage?o("el-dialog",{class:e.isWebApp&&!e.$store.getters.isNight?"status-bar-light-bg-dialog":"",attrs:{title:"书架管理",visible:e.show,width:e.dialogWidth,top:e.dialogTop,fullscreen:e.$store.state.miniInterface,"before-close":e.cancel},on:{"update:visible":function(t){e.show=t}}},[o("div",{staticClass:"custom-dialog-title",attrs:{slot:"title"},slot:"title"},[o("span",{staticClass:"el-dialog__title"},[e._v("书架管理 "),o("span",{staticClass:"float-right small-tip"},[e._v("❗️只能缓存文本内容")])])]),o("div",{staticClass:"source-container table-container"},[o("el-table",{attrs:{data:e.bookList,height:e.dialogContentHeight},on:{"selection-change":function(t){e.manageBookSelection=t}}},[o("el-table-column",{attrs:{type:"selection",width:"25",selectable:e.isBookSelectable,fixed:e.$store.state.miniInterface}}),o("el-table-column",{attrs:{property:"name",label:"书名名","min-width":"100",fixed:e.$store.state.miniInterface},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{staticClass:"text-button",attrs:{size:"medium",type:"text"},on:{click:function(o){return e.showBookInfo(t.row)}}},[e._v(e._s(t.row.name))])]}}],null,!1,4264428119)}),o("el-table-column",{attrs:{property:"author",label:"作者","min-width":"100"}}),o("el-table-column",{attrs:{label:"分组","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.renderBookGroup(t.row))+" ")]}}],null,!1,1549071982)}),o("el-table-column",{attrs:{label:"章节","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v("共 "+e._s(t.row.totalChapterNum)+" 章")]),o("br"),"loc_book"!==t.row.origin?o("span",[e._v(" 服务器缓存： "+e._s(t.row.cachedChapterCount||0)+" 章 "),o("br")]):e._e(),o("span",[e._v("浏览器缓存： "+e._s(t.row.localCacheCount)+" 章")])]}}],null,!1,4230467245)}),o("el-table-column",{attrs:{label:"操作",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{staticClass:"text-button",attrs:{size:"medium",type:"text"},on:{click:function(o){return e.editBook(t.row)}}},[e._v("编辑")]),o("el-button",{staticClass:"text-button",staticStyle:{"margin-left":"0"},attrs:{size:"medium",type:"text"},on:{click:function(o){return e.setBookGroup(t.row)}}},[e._v("分组")]),o("el-dropdown",{attrs:{trigger:e.$store.state.touchable?"click":"hover"},on:{command:function(o){return e.cacheBook(t.row,o)}}},[o("el-button",{staticClass:"text-button",attrs:{type:"text",size:"medium"}},[e.isCaching(t.row)?o("span",[o("i",{staticClass:"el-icon-loading"}),e._v(" 缓存中 ")]):o("span",[e._v(" 缓存"),o("i",{staticClass:"el-icon-arrow-down el-icon--right"})])]),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},["loc_book"!==t.row.origin?o("el-dropdown-item",{attrs:{command:"cacheBookSSE"}},[e._v("缓存到服务器")]):e._e(),o("el-dropdown-item",{attrs:{command:"cacheBookLocal"}},[e._v("缓存到浏览器")]),"loc_book"!==t.row.origin?o("el-dropdown-item",{attrs:{command:"deleteBookCache"}},[e._v("删除服务器缓存")]):e._e(),o("el-dropdown-item",{attrs:{command:"deleteBookLocalCache"}},[e._v("删除浏览器缓存")])],1)],1),o("el-dropdown",{attrs:{trigger:e.$store.state.touchable?"click":"hover"},on:{command:function(o){return e.exportBook(t.row,o)}}},[o("el-button",{staticClass:"text-button",attrs:{type:"text",size:"medium"}},[e._v(" 导出"),o("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",{attrs:{command:"txt"}},[e._v("导出为TXT")]),o("el-dropdown-item",{attrs:{command:"epub"}},[e._v("导出为Epub")])],1)],1)]}}],null,!1,2281092833)})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{staticClass:"float-left",attrs:{type:"primary",size:"medium"},on:{click:e.deleteBookList}},[e._v("批量删除")]),o("el-dropdown",{staticClass:"float-left",attrs:{trigger:e.$store.state.touchable?"click":"hover"},on:{command:e.addBookGroupMulti}},[o("el-button",{attrs:{type:"primary",size:"medium"}},[e._v(" 批量添加分组"),o("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.bookGroupList,(function(t,n){return o("el-dropdown-item",{key:"bookGroup-"+n,attrs:{command:t}},[e._v(e._s(t.groupName))])})),1)],1),o("el-dropdown",{staticClass:"float-left",attrs:{trigger:e.$store.state.touchable?"click":"hover"},on:{command:e.removeBookGroupMulti}},[o("el-button",{attrs:{type:"primary",size:"medium"}},[e._v(" 批量移除分组"),o("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.bookGroupList,(function(t,n){return o("el-dropdown-item",{key:"bookGroup-"+n,attrs:{command:t}},[e._v(e._s(t.groupName))])})),1)],1),o("span",{staticClass:"check-tip"},[e._v("已选择 "+e._s(e.manageBookSelection.length)+" 个")]),o("el-button",{attrs:{size:"medium"},on:{click:e.cancel}},[e._v("取消")])],1)]):e._e()},F=[],E=(o("4de4"),o("d81d"),o("a15b"),o("c740"),o("a434"),o("e25e"),o("b64b"),o("7513")),$=o("30b5"),M={model:{prop:"show",event:"setShow"},name:"BookManage",data:function(){return{bookList:[],manageBookSelection:[]}},props:["show"],computed:Object(s["a"])(Object(s["a"])({},Object(p["b"])(["dialogWidth","dialogTop","dialogContentHeight"])),{},{bookGroupList:function(){return this.$store.state.bookGroupList.filter((function(e){return e.groupId>0}))},cachingBookList:{get:function(){return this.$store.state.cachingBookList},set:function(e){this.$store.commit("setCachingBookList",e)}},cachingBookMap:function(){var e={};return this.cachingBookList.map((function(t){e[t.bookUrl]=!0})),e}}),created:function(){window.cacheEventSource=window.cacheEventSource||{},window.cacheRequestHandle=window.cacheRequestHandle||{},window.bookManageComp=this},watch:{show:function(e){e?this.loadBookCacheInfo():this.manageBookSelection=[]}},methods:{cancel:function(){this.$emit("setShow",!1)},formatTableField:function(e,t,o){switch(t.property){default:return o}},isBookSelectable:function(){return!0},loadBookCacheInfo:function(){var e=this;return Object(c["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",u["a"].get(e.api+"/getShelfBookWithCacheInfo").then((function(t){t.data.isSuccess&&e.computeCachedCata(t.data.data).then((function(t){e.bookList=t}))}),(function(t){e.$message.error("获取书架信息失败 "+(t&&t.toString()))})));case 1:case"end":return t.stop()}}),t)})))()},deleteBookList:function(){var e=this;return Object(c["a"])(Object(i["a"])().mark((function t(){var o;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.manageBookSelection.length){t.next=3;break}return e.$message.error("请选择需要删除的书籍"),t.abrupt("return");case 3:return t.next=5,e.$confirm("确认要删除所选择的书籍吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})["catch"]((function(){return!1}));case 5:if(o=t.sent,o){t.next=8;break}return t.abrupt("return");case 8:u["a"].post(e.api+"/deleteBooks",e.manageBookSelection).then((function(t){t.data.isSuccess&&(e.manageBookSelection=[],e.$message.success("删除书籍成功"),e.loadBookCacheInfo(),e.$root.$children[0].loadBookShelf())}),(function(t){e.$message.error("删除书籍失败 "+(t&&t.toString()))}));case 9:case"end":return t.stop()}}),t)})))()},addBookGroupMulti:function(e){var t=this;return Object(c["a"])(Object(i["a"])().mark((function o(){return Object(i["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.abrupt("return",t.operateBookGroupMulti(e,!0));case 1:case"end":return o.stop()}}),o)})))()},removeBookGroupMulti:function(e){var t=this;return Object(c["a"])(Object(i["a"])().mark((function o(){return Object(i["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.abrupt("return",t.operateBookGroupMulti(e));case 1:case"end":return o.stop()}}),o)})))()},operateBookGroupMulti:function(e,t){var o=this;return Object(c["a"])(Object(i["a"])().mark((function n(){var r,a;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t?"添加":"移除",o.manageBookSelection.length){n.next=4;break}return o.$message.error("请选择需要"+r+"分组的书籍"),n.abrupt("return");case 4:return n.next=6,o.$confirm(t?"确认要将所选择的书籍添加到".concat(e.groupName,"分组吗?"):"确认要将所选择的书籍从".concat(e.groupName,"分组中移除吗?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})["catch"]((function(){return!1}));case 6:if(a=n.sent,a){n.next=9;break}return n.abrupt("return");case 9:u["a"].post(o.api+(t?"/addBookGroupMulti":"/removeBookGroupMulti"),{groupId:e.groupId,bookList:o.manageBookSelection}).then((function(e){e.data.isSuccess&&(o.$message.success("操作成功"),o.loadBookCacheInfo(),o.$root.$children[0].loadBookShelf())}),(function(e){o.$message.error("操作失败 "+(e&&e.toString()))}));case 10:case"end":return n.stop()}}),n)})))()},renderBookGroup:function(e){var t=[];return this.$store.state.bookGroupList.forEach((function(o){o.groupId>0&&0!==(o.groupId&e.group)&&t.push(o.groupName)})),t.join(" ")},showBookInfo:function(e){l["a"].$emit("showBookInfoDialog",e)},editBook:function(e){var t=this;l["a"].$emit("editBook",e,!1,(function(){t.loadBookCacheInfo()}))},setBookGroup:function(e){this.$store.commit("setShowBookInfo",e),l["a"].$emit("showBookGroupDialog",!0)},isCaching:function(e){return!!this.cachingBookMap[e.bookUrl]||(!(!window.cacheEventSource||!window.cacheEventSource[e.bookUrl])||!(!window.cacheRequestHandle||!window.cacheRequestHandle[e.bookUrl]))},cacheBook:function(e,t){this[t](e)},cacheBookSSE:function(e){var t=this;return Object(c["a"])(Object(i["a"])().mark((function o(){var n,r,a;return Object(i["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(n=function(){try{window.cacheEventSource[e.bookUrl]&&window.cacheEventSource[e.bookUrl].readyState!=window.cacheEventSource[e.bookUrl].CLOSED&&window.cacheEventSource[e.bookUrl].close(),window.cacheEventSource[e.bookUrl]=null,delete window.cacheEventSource[e.bookUrl];var o=t.cachingBookList.findIndex((function(t){return t.bookUrl===e.bookUrl}));t.cachingBookList.splice(o,1),t.cachingBookList=[].concat(t.cachingBookList)}catch(n){}},!t.isCaching(e)){o.next=5;break}return t.$message.info("已取消缓存"),window.cacheEventSource[e.bookUrl]&&n(),o.abrupt("return");case 5:r={url:e.bookUrl,refresh:0},a=$(t.api+"/cacheBookSSE",r),n(),t.cachingBookList=t.cachingBookList.concat([e]),window.cacheEventSource[e.bookUrl]=new EventSource(a,{withCredentials:!0}),window.cacheEventSource[e.bookUrl].addEventListener("error",(function(e){n();try{if(e.data){var o=JSON.parse(e.data);o&&o.errorMsg&&t.$message.error(o.errorMsg)}}catch(r){}})),window.cacheEventSource[e.bookUrl].addEventListener("end",(function(o){t.$message.info(e.name+"缓存到服务器完成"),n();try{o.data}catch(r){}})),window.cacheEventSource[e.bookUrl].addEventListener("message",(function(o){try{if(o.data){var n=JSON.parse(o.data);if(n&&n.cachedCount){var r=t.bookList.findIndex((function(t){return t.bookUrl===e.bookUrl}));t.$set(t.bookList,r,Object(s["a"])(Object(s["a"])({},e),{},{cachedChapterCount:n.cachedCount}))}}}catch(a){}}));case 13:case"end":return o.stop()}}),o)})))()},cacheBookLocal:function(e){var t=this;if(this.isCaching(e))return this.$message.info("已取消缓存"),void(window.cacheRequestHandle[e.bookUrl]&&window.cacheRequestHandle[e.bookUrl].cancel());var o=!1,n=function(){t.computeCachedCata([e]).then((function(n){o=!1;var r=t.bookList.findIndex((function(t){return t.bookUrl===e.bookUrl}));t.$set(t.bookList,r,Object(s["a"])(Object(s["a"])({},e),{},{localCacheCount:n[0].localCacheCount}))}))};this.cachingHandler=Object(E["a"])(2,(function(e){o||(o=!0,n()),e.isEnd()&&(t.$message.success("缓存到浏览器完成"),n())}));for(var r=function(o){t.cachingHandler((function(){return t.$root.$children[0].getBookContent(o,{timeout:3e4,silent:!0},!1,!0,e)}))},a=0;a<e.totalChapterNum;a++)r(a)},exportBook:function(e,t){var o=$(this.api+"/exportBook",{url:e.bookUrl,isEpub:"epub"===t?1:0});window.open(o,"__blank")},computeCachedCata:function(e,t){var o={};return e.forEach((function(e){o[e.bookUrl]={key:"localCache@"+e.name+"_"+e.author+"@"+e.bookUrl+"@chapterContent-",map:{}}})),window.$cacheStorage.iterate((function(e,t){for(var n in o)if(t.startsWith(o[n].key)){try{var r=parseInt(t.replace(o[n].key,""));o[n].map[r]=!0}catch(a){}break}})).then((function(){return t?o:e.map((function(e){var t=o[e.bookUrl].map;return e.localCacheCount=Object.keys(t).length,e}))}))["catch"]((function(){return t?o:e.map((function(e){return e.localCacheCount=0,e}))}))},deleteBookCache:function(e){var t=this;return Object(c["a"])(Object(i["a"])().mark((function o(){var n;return Object(i["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,t.$confirm("确认要删除服务器上《".concat(e.name,"》的缓存章节吗?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})["catch"]((function(){return!1}));case 2:if(n=o.sent,n){o.next=5;break}return o.abrupt("return");case 5:u["a"].post(t.api+"/deleteBookCache",{bookUrl:e.bookUrl}).then((function(e){e.data.isSuccess&&(t.$message.success("删除服务器缓存成功"),t.loadBookCacheInfo())}),(function(e){t.$message.error("删除服务器缓存失败 "+(e&&e.toString()))}));case 6:case"end":return o.stop()}}),o)})))()},deleteBookLocalCache:function(e){var t=this;return Object(c["a"])(Object(i["a"])().mark((function o(){var n;return Object(i["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,t.$confirm("确认要删除浏览器中《".concat(e.name,"》的缓存章节吗?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})["catch"]((function(){return!1}));case 2:if(n=o.sent,n){o.next=5;break}return o.abrupt("return");case 5:t.computeCachedCata([e],!0).then((function(t){var o=[];for(var n in t[e.bookUrl].map){var r=t[e.bookUrl].key+n;o.push(window.$cacheStorage.removeItem(r))}return Promise.all(o)})).then((function(){t.$message.success("删除浏览器缓存成功"),t.computeCachedCata([].concat(t.bookList)).then((function(e){t.bookList=e}))}));case 6:case"end":return o.stop()}}),o)})))()}}},D=M,N=(o("7c0e"),Object(b["a"])(D,T,F,!1,null,"a6f40536",null)),G=N.exports,P=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{class:e.isWebApp&&!e.$store.getters.isNight?"status-bar-light-bg-dialog":"",attrs:{title:"书籍信息",visible:e.show,width:e.dialogSmallWidth,fullscreen:e.$store.state.miniInterface,"before-close":e.cancel},on:{"update:visible":function(t){e.show=t}}},[e.show?o("div",{staticClass:"book-info-container"},[o("div",{staticClass:"book-cover"},[o("div",{staticClass:"book-cover-bg",style:e.bookCoverBgStyle}),o("div",{staticClass:"book-cover-bg-image"},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.getCover(e.getBookCoverUrl(e.showBookInfo)),expression:"getCover(getBookCoverUrl(showBookInfo))"}],key:e.showBookInfo.name,attrs:{alt:""},on:{click:e.triggerBookCoverRefClick}}),o("input",{ref:"bookCoverRef",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/jpg, image/png, image/jpeg"},on:{change:e.onCoverFileChange}})])]),o("div",{staticClass:"book-name"},[e._v(e._s(e.showBookInfo.name))]),o("div",{staticClass:"book-kind",domProps:{innerHTML:e._s(e.renderBookKind(e.showBookInfo.kind))}}),o("div",{staticClass:"book-props"},[o("div",{staticClass:"book-prop book-author"},[e._v(" 作者： "+e._s(e.showBookInfo.author||"未知")+" ")]),o("div",{staticClass:"book-prop book-origin"},[e._v(" 来源： "+e._s(e.displayOriginName(e.showBookInfo.origin))+" "),"loc_book"===e.showBookInfo.origin?o("el-button",{staticClass:"book-prop-btn",attrs:{type:"text"},on:{click:function(t){return e.refreshLocalBook(e.showBookInfo)}}},[e._v("更新")]):e._e()],1),o("div",{staticClass:"book-prop book-latest"},[o("span",{staticClass:"latest-title"},[e._v("最新： "+e._s(e.showBookInfo.latestChapterTitle)+" ")]),e.isInShelf?o("span",{staticClass:"book-prop-btn"},[e._v(" 追更 "),o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":!0,"inactive-value":!1},on:{change:function(t){return e.toggleBookCanUpdate(e.showBookInfo)}},model:{value:e.showBookInfo.canUpdate,callback:function(t){e.$set(e.showBookInfo,"canUpdate",t)},expression:"showBookInfo.canUpdate"}})],1):e._e()]),e.isInShelf?o("div",{staticClass:"book-prop book-group"},[e._v(" 分组： "+e._s(e.displayGroupName(e.showBookInfo.group))+" "),o("el-button",{staticClass:"book-prop-btn",attrs:{type:"text"},on:{click:function(t){return e.showSetBookGroup()}}},[e._v("设置分组")])],1):o("div",{staticClass:"book-prop book-operate-zone"},[o("el-tag",{staticClass:"book-operate-btn",attrs:{type:"success",effect:e.$store.getters.isNight?"dark":"light"},on:{click:function(t){return t.stopPropagation(),e.saveBook(e.showBookInfo,!0)}}},[e._v(" 加入书架 ")])],1)]),o("div",{staticClass:"book-intro",domProps:{innerHTML:e._s(e.renderBookIntro(e.showBookInfo))}})]):e._e()])},W=[],V=(o("1276"),{model:{prop:"show",event:"setShow"},name:"BookInfo",data:function(){return{}},props:["show"],computed:Object(s["a"])(Object(s["a"])({},Object(p["b"])(["dialogSmallWidth","dialogTop"])),{},{bookCoverBgStyle:function(){return{backgroundImage:"url(".concat(this.getCover(this.getBookCoverUrl(this.showBookInfo),!0),")")}},bookSourceList:function(){return this.$store.state.bookSourceList},showBookInfo:{get:function(){return this.$store.state.showBookInfo},set:function(e){this.$store.commit("setShowBookInfo",e)}},isInShelf:function(){var e=this;return this.$store.getters.shelfBooks.find((function(t){return t.bookUrl===e.showBookInfo.bookUrl}))}}),watch:{show:function(e){}},methods:{cancel:function(){this.$emit("setShow",!1)},displayGroupName:function(e){var t=[],o="";return this.$store.state.bookGroupList.forEach((function(n){n.groupId>0&&0!==(n.groupId&e)?t.push(n.groupName):-4===n.groupId&&(o=n.groupName)})),t.join(",")||o||"未分组"},displayOriginName:function(e){return"loc_book"===e?"本地":(this.bookSourceList.find((function(t){return t.bookSourceUrl===e}))||{}).bookSourceName||"未知书源"},renderBookKind:function(e){if(!e)return"";var t=e.split(",");return t.filter((function(e){return e})).map((function(e){return"<span>".concat(e,"</span>")})).join("")},renderBookIntro:function(e){var t=(e.intro||"暂无简介").split("\n");return t.map((function(e){return"<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;".concat(e.replace(/^\s+/g,""),"</p>")})).join("")},getBookCoverUrl:function(e){return e.customCoverUrl||e.coverUrl},triggerBookCoverRefClick:function(){var e=this;return Object(c["a"])(Object(i["a"])().mark((function t(){var o;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isInShelf){t.next=7;break}return t.next=3,e.$confirm("请选择操作?","提示",{confirmButtonText:"上传封面",cancelButtonText:"选择其它书源",type:"warning",closeOnClickModal:!1,closeOnPressEscape:!1,distinguishCancelAndClose:!0})["catch"]((function(e){return"close"===e&&"close"}));case 3:if(o=t.sent,"close"!==o){t.next=6;break}return t.abrupt("return");case 6:o?e.$refs.bookCoverRef.dispatchEvent(new MouseEvent("click")):l["a"].$emit("showBookCoverDialog",e.showBookInfo);case 7:case"end":return t.stop()}}),t)})))()},onCoverFileChange:function(e){var t=this;if(e.target&&e.target.files&&e.target.files.length){var o=e.target.files&&e.target.files[0],n=new FormData;n.append("file",o),n.append("type","covers"),u["a"].post(this.api+"/uploadFile",n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){if(e.data.isSuccess){if(!e.data.data.length)return void t.$message.error("上传文件失败");t.showBookInfo.customCoverUrl=e.data.data[0],t.saveBook(t.showBookInfo).then((function(e){t.showBookInfo=e}))}}),(function(e){t.$message.error("上传文件失败 "+(e&&e.toString()))}))}},refreshLocalBook:function(e){var t=this;u["a"].post(this.api+"/refreshLocalBook",{bookUrl:e.bookUrl}).then((function(e){e.data.isSuccess&&(t.$message.success("更新成功"),t.showBookInfo=e.data.data,t.$store.commit("updateShelfBook",e.data.data))}),(function(e){t.$message.error("更新失败"+(e&&e.toString()))}))},toggleBookCanUpdate:function(e){return this.saveBook(e)},saveBook:function(e,t){var o=this;return u["a"].post(this.api+"/saveBook",e).then((function(e){e.data.isSuccess&&(o.$message.success(t?"加入书架成功":"操作成功"),o.showBookInfo=e.data.data,t?o.$root.$children[0].loadBookShelf(!0):o.$store.commit("updateShelfBook",e.data.data))}),(function(e){o.$message.error((t?"加入书架失败":"操作失败")+(e&&e.toString()))}))},showSetBookGroup:function(){l["a"].$emit("showBookGroupDialog",!0)}}}),Q=V,z=(o("f894"),o("ed5d"),Object(b["a"])(Q,P,W,!1,null,"b787a738",null)),_=z.exports,H=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.$store.getters.isNormalPage?o("el-dialog",{class:e.isWebApp&&!e.$store.getters.isNight?"status-bar-light-bg-dialog":"",attrs:{title:"用户管理",visible:e.show,width:e.dialogWidth,top:e.dialogTop,fullscreen:e.$store.state.miniInterface,"before-close":e.cancel},on:{"update:visible":function(t){e.show=t}}},[o("div",{staticClass:"custom-dialog-title",attrs:{slot:"title"},slot:"title"},[o("span",{staticClass:"el-dialog__title"},[e._v("用户管理 "),o("span",{staticClass:"float-right span-btn",on:{click:function(t){return e.clearInactiveUser()}}},[e._v("清理")]),o("span",{staticClass:"float-right span-btn",on:{click:function(t){return e.showAddUserDialog()}}},[e._v("新增")])])]),o("div",{staticClass:"source-container table-container"},[o("el-table",{attrs:{data:e.userList,height:e.dialogContentHeight},on:{"selection-change":function(t){e.manageUserSelection=t}}},[o("el-table-column",{attrs:{type:"selection",width:"25",selectable:e.isUserSelectable,fixed:e.$store.state.miniInterface}}),o("el-table-column",{attrs:{property:"username",label:"用户名","min-width":"100",fixed:e.$store.state.miniInterface}}),o("el-table-column",{attrs:{property:"lastLoginAt",label:"上次登录",formatter:e.formatTableField,"min-width":"120"}}),o("el-table-column",{attrs:{property:"createdAt",label:"注册时间",formatter:e.formatTableField,"min-width":"120"}}),o("el-table-column",{attrs:{property:"enableWebdav",label:"WebDAV","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return["default"!==t.row.userNS?o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":!0,"inactive-value":!1},on:{change:function(o){return e.toggleUserWebdav(t.row,o)}},model:{value:t.row.enableWebdav,callback:function(o){e.$set(t.row,"enableWebdav",o)},expression:"scope.row.enableWebdav"}}):e._e()]}}],null,!1,2358517604)}),o("el-table-column",{attrs:{property:"enableLocalStore",label:"书仓","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return["default"!==t.row.userNS?o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":!0,"inactive-value":!1},on:{change:function(o){return e.toggleUserLocalStore(t.row,o)}},model:{value:t.row.enableLocalStore,callback:function(o){e.$set(t.row,"enableLocalStore",o)},expression:"scope.row.enableLocalStore"}}):e._e()]}}],null,!1,4075233220)}),o("el-table-column",{attrs:{label:"操作",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"text"},on:{click:function(o){return e.resetPassword(t.row)}}},[e._v("重置密码")]),o("el-button",{attrs:{type:"text"},on:{click:function(o){return e.setAsDefaultBookSources(t.row)}}},[e._v("设为默认书源")])]}}],null,!1,2395256584)})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{staticClass:"float-left",attrs:{type:"primary",size:"medium"},on:{click:e.deleteUserList}},[e._v("批量删除")]),o("el-button",{staticClass:"float-left",attrs:{type:"primary",size:"medium"},on:{click:e.deleteUserBookSource}},[e._v("删除用户书源")]),o("span",{staticClass:"check-tip"},[e._v("已选择 "+e._s(e.manageUserSelection.length)+" 个")]),o("el-button",{attrs:{size:"medium"},on:{click:e.cancel}},[e._v("取消")])],1)]):e._e()},K=[],J={model:{prop:"show",event:"setShow"},name:"UserManage",data:function(){return{manageUserSelection:[]}},props:["show"],computed:Object(s["a"])(Object(s["a"])({},Object(p["b"])(["dialogWidth","dialogTop","dialogContentHeight"])),{},{userList:{get:function(){return this.$store.state.userList},set:function(e){this.$store.commit("setUserList",e)}}}),watch:{show:function(e){e&&(this.manageUserSelection=[])}},methods:{cancel:function(){this.$emit("setShow",!1)},showAddUserDialog:function(){l["a"].$emit("showAddUserDialog")},clearInactiveUser:function(){var e=this;return Object(c["a"])(Object(i["a"])().mark((function t(){var o;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$prompt("请输入需要清理的未登录天数","清理不活跃用户",{inputValue:31,confirmButtonText:"确定",cancelButtonText:"取消",inputValidator:function(e){return e?!isNaN(parseInt(e))||"天数必须是数字":"天数不能为空"}})["catch"]((function(){return!1}));case 2:if(o=t.sent,o&&o.value){t.next=5;break}return t.abrupt("return");case 5:u["a"].post(e.api+"/clearInactiveUsers",{inactiveDay:parseInt(o.value)}).then((function(t){t.data.isSuccess&&(e.$message.success("清理不活跃用户成功"),e.userList=t.data.data.map((function(e){return Object(s["a"])(Object(s["a"])({},e),{},{userNS:e.username})})))}),(function(t){e.$message.error("清理不活跃用户失败 "+(t&&t.toString()))}));case 6:case"end":return t.stop()}}),t)})))()},formatTableField:function(e,t,o){switch(t.property){case"createdAt":case"lastLoginAt":case"lastModified":return o?new Date(o).format("yy-MM-dd hh:mm"):"";case"size":return e.isDirectory?"":Object(E["d"])(o);default:return o}},isUserSelectable:function(e){return"default"!==e.userNS},deleteUserList:function(){var e=this;return Object(c["a"])(Object(i["a"])().mark((function t(){var o;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.manageUserSelection.length){t.next=3;break}return e.$message.error("请选择需要删除的用户"),t.abrupt("return");case 3:return t.next=5,e.$confirm("确认要删除所选择的用户吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})["catch"]((function(){return!1}));case 5:if(o=t.sent,o){t.next=8;break}return t.abrupt("return");case 8:u["a"].post(e.api+"/deleteUsers",e.manageUserSelection.map((function(e){return e.username}))).then((function(t){t.data.isSuccess&&(e.manageUserSelection=[],e.$message.success("删除用户成功"),e.userList=t.data.data.map((function(e){return Object(s["a"])(Object(s["a"])({},e),{},{userNS:e.username})})))}),(function(t){e.$message.error("删除用户失败 "+(t&&t.toString()))}));case 9:case"end":return t.stop()}}),t)})))()},deleteUserBookSource:function(){var e=this;return Object(c["a"])(Object(i["a"])().mark((function t(){var o;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.manageUserSelection.length){t.next=3;break}return e.$message.error("请选择需要删除书源的用户"),t.abrupt("return");case 3:return t.next=5,e.$confirm("确认要删除所选择的用户书源吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})["catch"]((function(){return!1}));case 5:if(o=t.sent,o){t.next=8;break}return t.abrupt("return");case 8:u["a"].post(e.api+"/deleteUserBookSource",e.manageUserSelection.map((function(e){return e.username}))).then((function(t){t.data.isSuccess&&(e.manageUserSelection=[],e.$message.success("操作成功"))}),(function(t){e.$message.error("操作失败 "+(t&&t.toString()))}));case 9:case"end":return t.stop()}}),t)})))()},toggleUserWebdav:function(e,t){var o=this;u["a"].post(this.api+"/updateUser",{username:e.username,enableWebdav:t}).then((function(e){e.data.isSuccess&&(o.$message.success("修改成功"),o.userList=e.data.data.map((function(e){return Object(s["a"])(Object(s["a"])({},e),{},{userNS:e.username})})))}),(function(e){o.$message.error("修改失败 "+(e&&e.toString()))}))},toggleUserLocalStore:function(e,t){var o=this;u["a"].post(this.api+"/updateUser",{username:e.username,enableLocalStore:t}).then((function(e){e.data.isSuccess&&(o.$message.success("修改成功"),o.userList=e.data.data.map((function(e){return Object(s["a"])(Object(s["a"])({},e),{},{userNS:e.username})})))}),(function(e){o.$message.error("修改失败 "+(e&&e.toString()))}))},setAsDefaultBookSources:function(e){var t=this;return Object(c["a"])(Object(i["a"])().mark((function o(){var n;return Object(i["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,t.$confirm("确认要将用户".concat(e.username,"的书源设为默认书源（新用户有效）吗?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})["catch"]((function(){return!1}));case 2:if(n=o.sent,n){o.next=5;break}return o.abrupt("return");case 5:return o.abrupt("return",u["a"].post(t.api+"/setAsDefaultBookSources",{username:e.username}).then((function(e){e.data.isSuccess&&t.$message.success("设置成功")}),(function(e){t.$message.error("设置失败 "+(e&&e.toString()))})));case 6:case"end":return o.stop()}}),o)})))()},resetPassword:function(e){var t=this;return Object(c["a"])(Object(i["a"])().mark((function o(){var n;return Object(i["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,t.$prompt("","重置密码",{inputValue:"",confirmButtonText:"确定",cancelButtonText:"取消",inputValidator:function(e){return!!e||"密码不能为空"}})["catch"]((function(){return!1}));case 2:if(n=o.sent,n){o.next=5;break}return o.abrupt("return");case 5:u["a"].post(t.api+"/resetPassword",{username:e.username,password:n.value}).then((function(e){e.data.isSuccess&&t.$message.success("重置密码成功")}),(function(e){t.$message.error("重置密码失败 "+(e&&e.toString()))}));case 6:case"end":return o.stop()}}),o)})))()}}},q=J,Z=(o("95cc"),Object(b["a"])(q,H,K,!1,null,"a21d3b60",null)),Y=Z.exports,X=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.$store.getters.isNormalPage?o("el-dialog",{class:e.isWebApp&&!e.$store.getters.isNight?"status-bar-light-bg-dialog":"",attrs:{title:"新增用户",visible:e.show,width:e.dialogSmallWidth,top:e.dialogTop,fullscreen:e.$store.state.miniInterface,"before-close":e.cancel},on:{"update:visible":function(t){e.show=t}}},[o("el-form",{attrs:{model:e.addUserForm}},[o("el-form-item",{attrs:{label:"用户名"}},[o("el-input",{attrs:{autocomplete:"on"},model:{value:e.addUserForm.username,callback:function(t){e.$set(e.addUserForm,"username",t)},expression:"addUserForm.username"}})],1),o("el-form-item",{attrs:{label:"密码"}},[o("el-input",{attrs:{type:"password",autocomplete:"on","show-password":""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)}},model:{value:e.addUserForm.password,callback:function(t){e.$set(e.addUserForm,"password",t)},expression:"addUserForm.password"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"medium"},on:{click:e.cancel}},[e._v("取 消")]),o("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)],1):e._e()},ee=[],te={username:"",password:""},oe={model:{prop:"show",event:"setShow"},name:"AddUser",data:function(){return{addUserForm:Object(s["a"])({},te)}},props:["show","rule","isAdd"],computed:Object(s["a"])({},Object(p["b"])(["dialogSmallWidth","dialogTop"])),watch:{show:function(e){e&&(this.addUserForm=Object(s["a"])({},te))}},methods:{cancel:function(){this.$emit("setShow",!1)},save:function(){var e=this;this.addUserForm.username?this.addUserForm.password?u["a"].post(this.api+"/addUser",this.addUserForm).then((function(t){if(t.data.isSuccess){e.$message.success("新增成功"),e.cancel();var o=t.data.data.map((function(e){return Object(s["a"])(Object(s["a"])({},e),{},{userNS:e.username})}));e.$store.commit("setUserList",o)}}),(function(t){e.$message.error("新增失败 "+(t&&t.toString()))})):this.$message.success("密码不能为空"):this.$message.success("用户名不能为空")}}},ne=oe,re=Object(b["a"])(ne,X,ee,!1,null,"cd0e66e8",null),ae=re.exports,se=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.$store.getters.isNormalPage?o("el-dialog",{class:e.isWebApp&&!e.$store.getters.isNight?"status-bar-light-bg-dialog":"",attrs:{title:e.isShowBookGroupSettingDialog?"设置分组":"分组管理",visible:e.show,width:e.dialogWidth,top:e.dialogTop,fullscreen:e.$store.state.miniInterface,"before-close":e.cancel},on:{"update:visible":function(t){e.show=t},opened:e.opened}},[o("div",{staticClass:"source-container table-container"},[o("el-table",{key:e.isShowBookGroupSettingDialog,ref:"bookGroupTableRef",attrs:{data:e.showBookGroupList,height:e.dialogContentHeight},on:{"selection-change":function(t){e.bookGroupSelection=t}}},[e.isShowBookGroupSettingDialog?o("el-table-column",{attrs:{type:"selection",width:"25"}}):e._e(),o("el-table-column",{attrs:{property:"groupName",label:"分组名","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",{staticClass:"drag-icon"},[o("i",{staticClass:"el-icon-rank"})]),o("span",[e._v(" "+e._s(e.displayBookGroupName(t.row)))])]}}],null,!1,4111896031)}),e.isShowBookGroupSettingDialog?e._e():o("el-table-column",{attrs:{property:"show",label:"显示","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":!0,"inactive-value":!1},on:{change:function(o){return e.toggleBookGroupShow(t.row,o)}},model:{value:t.row.show,callback:function(o){e.$set(t.row,"show",o)},expression:"scope.row.show"}})]}}],null,!1,3235955515)}),o("el-table-column",{attrs:{label:"操作",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"text"},on:{click:function(o){return e.saveBookGroup(t.row)}}},[e._v("编辑")]),!e.isShowBookGroupSettingDialog&&t.row.groupId>0&&!e.getShowShelfBooks(t.row.groupId).length?o("el-button",{staticStyle:{color:"#f56c6c"},attrs:{type:"text"},on:{click:function(o){return e.deleteBookGroup(t.row)}}},[e._v("删除")]):e._e()]}}],null,!1,1414828911)})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{staticClass:"float-left",attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.saveBookGroup()}}},[e._v("添加分组")]),e.isShowSaveOrderButton?o("el-button",{staticClass:"float-left",attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.saveOrder()}}},[e._v("保存排序")]):e._e(),e.isShowBookGroupSettingDialog?o("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.setBookGroup}},[e._v("确认")]):e._e(),o("el-button",{attrs:{size:"medium"},on:{click:e.cancel}},[e._v("取消")])],1)]):e._e()},ie=[],ce=o("2909"),ue=(o("13d5"),o("aa47")),le={model:{prop:"show",event:"setShow"},name:"BookGroup",data:function(){return{isShowBookGroupSettingDialog:!1,showBookGroupList:[],sortedBookGroupList:[],refreshCounter:0,bookGroupSelection:[]}},props:["show","isSet"],computed:Object(s["a"])(Object(s["a"])({},Object(p["b"])(["dialogWidth","dialogTop","dialogContentHeight"])),{},{bookGroupList:function(){return this.$store.state.bookGroupList},shelfBooks:function(){return this.$store.getters.shelfBooks},showBookInfo:{get:function(){return this.$store.state.showBookInfo},set:function(e){this.$store.commit("setShowBookInfo",e)}},isShowSaveOrderButton:function(){return this.showBookGroupList.reduce((function(e,t){return e+""+t.groupId}),"")!==this.sortedBookGroupList.reduce((function(e,t){return e+""+t.groupId}),"")}}),watch:{show:function(e){var t=this;e&&(this.isShowBookGroupSettingDialog=this.isSet,this.bookGroupSelection=[],this.computeBookGroupList(),this.isSet&&this.$nextTick((function(){t.$refs.bookGroupTableRef.clearSelection(),t.getBookGroupListForBook(t.showBookInfo.group).forEach((function(e){t.$refs.bookGroupTableRef.toggleRowSelection(e,!0)}))})))},isSet:function(e){this.dragableElement&&this.dragableElement.option("disabled",e)},bookGroupList:function(){this.computeBookGroupList()}},methods:{cancel:function(){this.isShowBookGroupSettingDialog=!1,this.$emit("setShow",!1)},computeBookGroupList:function(){var e=this;this.showBookGroupList=[],this.$nextTick((function(){e.showBookGroupList=e.isSet?e.$store.state.bookGroupList.filter((function(e){return e.groupId>0})):e.$store.state.bookGroupList,e.sortedBookGroupList=e.showBookGroupList}))},opened:function(){this.$refs.bookGroupTableRef.doLayout(),this.setDragable()},loadBookGroup:function(e){return this.$root.$children[0].loadBookGroup(e)},getShowShelfBooks:function(e){return-1===e?this.shelfBooks:-2===e?this.shelfBooks.filter((function(e){return"loc_book"===e.origin})):-3===e?this.shelfBooks.filter((function(e){return 1===e.type})):-4===e?this.shelfBooks.filter((function(e){return 0===e.group})):this.shelfBooks.filter((function(t){return 0===e||t.group&e}))},toggleBookGroupShow:function(e,t){var o=this;u["a"].post(this.api+"/saveBookGroup",Object(s["a"])(Object(s["a"])({},e),{},{show:t})).then((function(e){e.data.isSuccess&&(o.$message.success("修改成功"),o.loadBookGroup(!0))}),(function(e){o.$message.error("修改失败 "+(e&&e.toString()))}))},deleteBookGroup:function(e){var t=this;return Object(c["a"])(Object(i["a"])().mark((function o(){var n;return Object(i["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,t.$confirm("确认要删除该分组吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})["catch"]((function(){return!1}));case 2:if(n=o.sent,n){o.next=5;break}return o.abrupt("return");case 5:u["a"].post(t.api+"/deleteBookGroup",{groupId:e.groupId}).then((function(e){e.data.isSuccess&&(t.$message.success("删除分组成功"),t.loadBookGroup(!0))}),(function(e){t.$message.error("删除分组失败 "+(e&&e.toString()))}));case 6:case"end":return o.stop()}}),o)})))()},saveBookGroup:function(e){var t=this;return Object(c["a"])(Object(i["a"])().mark((function o(){var n;return Object(i["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,t.$prompt("","".concat(e?"编辑分组":"添加分组"),{inputValue:e?e.groupName:"",confirmButtonText:"确定",cancelButtonText:"取消",inputValidator:function(e){return!!e||"分组名不能为空"}})["catch"]((function(){return!1}));case 2:if(n=o.sent,n){o.next=5;break}return o.abrupt("return");case 5:u["a"].post(t.api+"/saveBookGroup",Object(s["a"])(Object(s["a"])({},e),{},{groupName:n.value})).then((function(o){o.data.isSuccess&&(t.$message.success(e?"修改成功":"添加成功"),t.loadBookGroup(!0))}),(function(o){t.$message.error((e?"修改失败":"添加失败")+(o&&o.toString()))}));case 6:case"end":return o.stop()}}),o)})))()},displayBookGroupName:function(e){return e.groupName+(e.groupId<0?"("+this.$store.getters.builtInBookGroupMap[e.groupId]+")":"")},setBookGroup:function(){var e=this;this.bookGroupSelection.length?u["a"].post(this.api+"/saveBookGroupId",{bookUrl:this.showBookInfo.bookUrl,groupId:this.bookGroupSelection.reduce((function(e,t){return e|t.groupId}),0)}).then((function(t){t.data.isSuccess&&(e.$message.success("设置成功"),e.cancel(),e.showBookInfo=t.data.data,e.$store.commit("updateShelfBook",t.data.data))}),(function(t){e.$message.error("设置失败"+(t&&t.toString()))})):this.$message.error("请选择书籍分组")},getBookGroupListForBook:function(e){var t=[];return this.$store.state.bookGroupList.forEach((function(o){o.groupId>0&&0!==(o.groupId&e)&&t.push(o)})),t},setDragable:function(){var e=this,t=this.$el.querySelectorAll(".el-table__body-wrapper > table > tbody")[0];this.dragableElement=ue["a"].create(t,{handler:".drag-icon",setData:function(e){e.setData("Text","")},onEnd:function(t){if(t.oldIndex!==t.newIndex){var o=Object(ce["a"])(e.showBookGroupList),n=o.splice(t.oldIndex,1)[0];o.splice(t.newIndex,0,n),e.sortedBookGroupList=o}}}),window.bookGroupComp=this,this.dragableElement.option("disabled",this.isSet)},saveOrder:function(){var e=this;return Object(c["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:u["a"].post(e.api+"/saveBookGroupOrder",{order:e.sortedBookGroupList.map((function(e,t){return{groupId:e.groupId,order:t}}))}).then((function(t){t.data.isSuccess&&(e.$message.success("保存成功"),e.loadBookGroup(!0))}),(function(t){e.$message.error("保存失败"+(t&&t.toString()))}));case 1:case"end":return t.stop()}}),t)})))()}}},fe=le,de=(o("d7aa"),Object(b["a"])(fe,se,ie,!1,null,"23c914c0",null)),he=de.exports,pe=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{class:e.isWebApp&&!e.$store.getters.isNight?"status-bar-light-bg-dialog":"",attrs:{visible:e.show,width:e.dialogSmallWidth,fullscreen:e.$store.state.miniInterface,"before-close":e.cancel},on:{"update:visible":function(t){e.show=t}}},[o("div",{staticClass:"custom-dialog-title",attrs:{slot:"title"},slot:"title"},[o("span",{staticClass:"el-dialog__title"},[e._v("RSS订阅("+e._s(e.rssSourceList.length)+") "),o("span",{staticClass:"float-right span-btn",on:{click:function(t){e.showRssSourceEditButton=!e.showRssSourceEditButton}}},[e._v(e._s(e.showRssSourceEditButton?"取消":"编辑"))]),o("span",{staticClass:"float-right span-btn",on:{click:e.uploadRssSource}},[e._v("导入")]),o("span",{staticClass:"float-right span-btn",on:{click:function(t){return e.editRssSource(!1)}}},[e._v("新增")])]),o("input",{ref:"rssInputRef",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:function(t){return e.onSourceFileChange(t,!0)}}})]),o("div",{staticClass:"rss-source-list-container"},e._l(e.rssSourceList,(function(t,n){return o("div",{key:"rss-"+n,staticClass:"rss-source",on:{click:function(o){return e.showRssArticleListDialog(t)}}},[e.showRssSourceEditButton?o("i",{staticClass:"el-icon-close",on:{click:function(o){return o.stopPropagation(),e.deleteRssSource(t)}}}):e._e(),e.showRssSourceEditButton?o("i",{staticClass:"el-icon-edit",on:{click:function(o){return o.stopPropagation(),e.editRssSource(t)}}}):e._e(),o("el-image",{staticClass:"rss-icon",attrs:{src:e.getImage(t.sourceIcon,!0),fit:"cover",lazy:""}}),o("div",{staticClass:"rss-title"},[e._v(e._s(t.sourceName))])],1)})),0)])},me=[],ge=(o("4e82"),o("e9c4"),{model:{prop:"show",event:"setShow"},name:"RssSourceList",data:function(){return{showRssSourceEditButton:!1}},props:["show","rssSource"],computed:Object(s["a"])(Object(s["a"])({},Object(p["b"])(["dialogSmallWidth","dialogTop"])),{},{rssSourceList:function(){return[].concat(this.$store.state.rssSourceList).sort((function(e,t){return e.customOrder-t.customOrder}))}}),watch:{show:function(e){}},methods:{cancel:function(){this.$emit("setShow",!1)},deleteRssSource:function(e){var t=this;return Object(c["a"])(Object(i["a"])().mark((function o(){var n;return Object(i["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,t.$confirm("确认要删除该RSS订阅源吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})["catch"]((function(){return!1}));case 2:if(n=o.sent,n){o.next=5;break}return o.abrupt("return");case 5:u["a"].post(t.api+"/deleteRssSource",e).then((function(e){e.data.isSuccess&&(t.$message.success("删除成功"),t.loadRssSources(!0))}),(function(e){t.$message.error("删除失败 "+(e&&e.toString()))}));case 6:case"end":return o.stop()}}),o)})))()},uploadRssSource:function(){this.$refs.rssInputRef.dispatchEvent(new MouseEvent("click"))},onSourceFileChange:function(e,t){l["a"].$emit("onSourceFileChange",e,t)},showRssArticleListDialog:function(e){l["a"].$emit("showRssArticleListDialog",e)},editRssSource:function(e){var t=this;e=e||{sourceName:"新增RSS源",sourceUrl:"",sourceIcon:"",sourceGroup:"",enabled:!0,singleUrl:!0,articleStyle:0,ruleArticles:"",ruleTitle:"",rulePubDate:"",ruleImage:"",ruleLink:"",ruleContent:"",enableJs:!0},l["a"].$emit("showEditor","编辑RSS源",JSON.stringify(e,null,4),(function(e,o){try{var n=JSON.parse(e);if(!n.sourceName)return void t.$message.error("RSS源名称不能为空");if(!n.sourceUrl)return void t.$message.error("RSS源链接不能为空");u["a"].post(t.api+"/saveRssSource",n).then((function(e){e.data.isSuccess&&(o(),t.$message.success("保存RSS源成功"),t.loadRssSources(!0))}),(function(e){t.$message.error("保存RSS源失败 "+(e&&e.toString()))}))}catch(r){t.$message.error("RSS源必须是JSON格式")}}))},loadRssSources:function(e){return this.$root.$children[0].loadRssSources(e)}}}),be=ge,ke=(o("e454"),o("7323"),Object(b["a"])(be,pe,me,!1,null,"35986089",null)),we=ke.exports,ve=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{class:e.isWebApp&&!e.$store.getters.isNight?"status-bar-light-bg-dialog":"",attrs:{title:e.rssSource.sourceName,visible:e.show,width:e.dialogSmallWidth,fullscreen:e.$store.state.miniInterface,"before-close":e.cancel},on:{"update:visible":function(t){e.show=t}}},[e.sortUrls.length>1?o("el-tabs",{on:{"tab-click":e.onTabClick},model:{value:e.sortName,callback:function(t){e.sortName=t},expression:"sortName"}},e._l(e.sortUrls,(function(e,t){return o("el-tab-pane",{key:"sort-"+t+e.name,attrs:{label:e.name,name:e.name}})})),1):e._e(),o("div",{ref:"rssArticleListRef",staticClass:"rss-article-list-container"},[e._l(e.rssArticleList,(function(t,n){return o("div",{key:"rss-article-"+n,staticClass:"rss-article",on:{click:function(o){return e.getRssArticleContent(t)}}},[o("div",{staticClass:"rss-article-info"},[o("div",{staticClass:"rss-article-title"},[e._v(e._s(t.title))]),o("div",{staticClass:"rss-article-date"},[e._v(e._s(t.pubDate))])]),t.image?o("div",{staticClass:"rss-article-image"},[o("div",{staticClass:"image-wrapper"},[o("el-image",{staticClass:"rss-article-img",attrs:{src:e.getCover(t.image,!0,!0),"preview-src-list":e.rssArticleImageList,fit:"cover",lazy:""},on:{click:function(t){return t.stopPropagation(),e.noop.apply(null,arguments)}}})],1)]):e._e()])})),o("div",{staticClass:"load-more-rss",on:{click:function(t){e.hasMoreRssArticles&&e.getRssArticles(e.page+1)}}},[e._v(" "+e._s(e.hasMoreRssArticles?"加载更多":"没有更多啦")+" ")])],2)],1)},Ae=[],Se=(o("9911"),{model:{prop:"show",event:"setShow"},name:"RssArticleList",data:function(){return{rssArticleList:[],sourceUrl:"",sortUrls:[],sortName:"",sortUrl:"",hasMoreRssArticles:!0,page:1}},props:["show","rssSource"],computed:Object(s["a"])(Object(s["a"])({},Object(p["b"])(["dialogSmallWidth","dialogTop"])),{},{rssArticleImageList:function(){var e=this;return this.rssArticleList.filter((function(e){return e.image})).map((function(t){return e.getImage(t.image,!0,!0)}))}}),watch:{show:function(e){if(e)try{this.parseSourceUrl(),this.getRssArticles()}catch(t){this.$message.error("解析失败: "+t)}else this.sortUrls=[],this.rssArticleList=[],this.page=1,this.sortName="",this.sortUrl="",this.hasMoreRssArticles=!0}},methods:{cancel:function(){this.$emit("setShow",!1)},parseSourceUrl:function(){if(this.sourceUrl=this.rssSource.sourceUrl,!this.rssSource.singleUrl&&this.rssSource.sortUrl){var e=[];this.rssSource.sortUrl.replace(/\r\n/g,"\n").split("\n").forEach((function(t){t&&(t=t.split("::"),e.push({name:t[0],url:t[1]}))})),this.sortUrls=e,this.sortName=e[0].name,this.sortUrl=e[0].url}},onTabClick:function(e){this.sortUrl=this.sortUrls.find((function(t){return t.name===e.name})).url,this.page=1,this.hasMoreRssArticles=!0,this.getRssArticles()},getRssArticles:function(e){var t=this;this.page=e||1,u["a"].post(this.api+"/getRssArticles",{sourceUrl:this.sourceUrl,sortName:this.sortName,sortUrl:this.sortUrl,page:this.page}).then((function(e){if(e.data.isSuccess){var o=e.data.data.first;if(!o.length)return t.$message.error("没有数据"),void(t.hasMoreRssArticles=!1);t.page>1?t.rssArticleList=[].concat(t.rssArticleList).concat(o):t.rssArticleList=o}}),(function(e){t.$message.error("加载RSS文章列表失败 "+(e&&e.toString()))}))},noop:function(){},showRssArticle:function(){},getRssArticleContent:function(e){var t=this;u["a"].post(this.api+"/getRssContent",{sourceUrl:this.rssSource.sourceUrl,link:e.link,origin:e.origin}).then((function(t){t.data.isSuccess&&l["a"].$emit("showRssArticleDialog",Object(s["a"])(Object(s["a"])({},e),{},{content:t.data.data}))}),(function(e){t.$message.error("加载RSS文章内容失败 "+(e&&e.toString()))}))}}}),Be=Se,Ce=(o("d821"),o("b93d"),Object(b["a"])(Be,ve,Ae,!1,null,"3672581d",null)),ye=Ce.exports,xe=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{class:e.isWebApp&&!e.$store.getters.isNight?"status-bar-light-bg-dialog":"",attrs:{title:e.rssArticleInfo.title,visible:e.show,width:e.dialogSmallWidth,fullscreen:e.$store.state.miniInterface,"before-close":e.cancel},on:{"update:visible":function(t){e.show=t}}},[e.show?o("div",{staticClass:"rss-article-info-container"},[o("div",{ref:"rssArticleContentRef",staticClass:"rss-article-content",domProps:{innerHTML:e._s(e.rssArticleInfo.content||e.rssArticleInfo.description)},on:{click:e.rssArticleClickHandler}})]):e._e()])},Oe=[],Ie={model:{prop:"show",event:"setShow"},name:"RssArticle",data:function(){return{rssArticleList:[],sourceUrl:"",sortUrls:[],sortName:"",hasMoreRssArticles:!0,page:1}},props:["show","rssArticleInfo"],computed:Object(s["a"])(Object(s["a"])({},Object(p["b"])(["dialogSmallWidth","dialogTop"])),{},{rssArticleImageList:function(){var e=this;return this.rssArticleList.filter((function(e){return e.image})).map((function(t){return e.getImage(t.image,!0,!0)}))}}),watch:{show:function(e){e&&this.$nextTick(this.runScript)}},methods:{cancel:function(){this.$emit("setShow",!1)},rssArticleClickHandler:function(e){if(e.target&&e.target.nodeName&&"img"===e.target.nodeName.toLowerCase()){var t=this.$refs.rssArticleContentRef.querySelectorAll("img");if(t.length){for(var o=[],n=0,r=0;r<t.length;r++)o.push(t[r].src),t[r]===e.target&&(n=r);this.$store.commit("setPreviewImageIndex",n),this.$store.commit("setPreviewImgList",o)}}},runScript:function(){try{var e=this.$refs.rssArticleContentRef.querySelectorAll("script");if(e.length)for(var t=0;t<e.length;t++){var o=e[t].innerText;new Function(o)()}}catch(n){this.$message.error("执行脚本出错: "+n)}}}},je=Ie,Re=(o("728d"),o("454b"),Object(b["a"])(je,xe,Oe,!1,null,"12878b5b",null)),Ue=Re.exports,Le=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.$store.getters.isNormalPage?o("el-dialog",{class:e.isWebApp&&!e.$store.getters.isNight?"status-bar-light-bg-dialog":"",attrs:{visible:e.show,width:e.dialogWidth,top:e.dialogTop,fullscreen:e.$store.state.miniInterface,"before-close":e.cancel},on:{"update:visible":function(t){e.show=t},opened:e.opend}},[o("div",{staticClass:"custom-dialog-title",attrs:{slot:"title"},slot:"title"},[o("span",{staticClass:"el-dialog__title"},[o("span",{staticClass:"title-input"},[o("el-input",{staticClass:"search-input",attrs:{size:"mini",placeholder:"搜索书籍内容"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchBookContent(-1)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}},[o("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1)])]),o("div",{staticClass:"source-container table-container"},[o("el-table",{ref:"resultTable",attrs:{data:e.searchResultList,height:e.dialogContentHeight},on:{"row-click":e.clickRow}},[o("el-table-column",{attrs:{property:"chapterTitle","min-width":"100px",label:"章节"}}),o("el-table-column",{attrs:{property:"resultText","min-width":"250px",label:"搜索结果"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{staticClass:"float-left",attrs:{type:"primary",size:"medium",disabled:e.loading},on:{click:function(t){return e.searchBookContent(e.lastIndex)}}},[e._v(e._s(e.loading?"加载中":"加载更多"))]),e.lastScrollTop>0?o("el-button",{staticClass:"float-left",attrs:{type:"primary",size:"medium"},on:{click:e.restoreScrollTop}},[e._v("跳转上次位置")]):e._e(),o("el-button",{attrs:{size:"medium"},on:{click:e.cancel}},[e._v("取消")])],1)]):e._e()},Te=[],Fe={model:{prop:"show",event:"setShow"},name:"SearchBookContent",data:function(){return{lastScrollTop:0,keyword:"",lastIndex:0,searchResultList:[],loading:!1}},computed:Object(s["a"])({},Object(p["b"])(["dialogWidth","dialogTop","dialogContentHeight"])),props:["show","book"],watch:{show:function(e){},book:{deep:!0,handler:function(e,t){e.bookUrl!==t.bookUrl&&(this.keyword="",this.lastIndex=-1,this.searchResultList=[])}}},created:function(){window.searchBookComp=this},methods:{formatTableField:function(e,t,o){switch(t.property){default:return o}},opend:function(){var e=this;this.$nextTick((function(){e.restoreScrollTop()}))},restoreScrollTop:function(){var e=this;if(this.$refs.resultTable&&this.$refs.resultTable.$ready)try{this.$refs.resultTable.bodyWrapper.scrollTop=this.lastScrollTop}catch(t){setTimeout((function(){e.restoreScrollTop()}),10)}else this.$nextTick((function(){e.restoreScrollTop()}))},cancel:function(){this.$emit("setShow",!1)},searchBookContent:function(e){var t=this;return Object(c["a"])(Object(i["a"])().mark((function o(){return Object(i["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(!t.loading){o.next=2;break}return o.abrupt("return");case 2:t.loading=!0,u["a"].post(t.api+"/searchBookContent",{url:t.book.bookUrl,keyword:t.keyword,lastIndex:e}).then((function(o){t.loading=!1,o.data.isSuccess&&(t.lastIndex=o.data.data.lastIndex,t.searchResultList=-1===e?o.data.data.list:[].concat(t.searchResultList).concat(o.data.data.list))}),(function(e){t.loading=!1,t.$message.error("加载失败 "+(e&&e.toString()))}));case 4:case"end":return o.stop()}}),o)})))()},clickRow:function(e){this.lastScrollTop=this.$refs.resultTable.bodyWrapper.scrollTop,l["a"].$emit("showSearchContent",e),this.cancel()}}},Ee=Fe,$e=(o("2465"),Object(b["a"])(Ee,Le,Te,!1,null,"6e24e744",null)),Me=$e.exports,De=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.$store.getters.isNormalPage?o("el-dialog",{class:e.isWebApp&&!e.$store.getters.isNight?"status-bar-light-bg-dialog":"",attrs:{visible:e.show,width:e.dialogWidth,top:e.dialogTop,fullscreen:e.$store.state.miniInterface,"before-close":e.cancel},on:{"update:visible":function(t){e.show=t}}},[o("div",{staticClass:"custom-dialog-title",attrs:{slot:"title"},slot:"title"},[o("span",{staticClass:"el-dialog__title"},[e._v(e._s(this.book?this.book.name:"")+" 书签管理 "),o("span",{staticClass:"float-right span-btn",on:{click:e.uploadFile}},[e._v("导入")]),o("input",{ref:"fileRef",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:function(t){return e.onFileChange(t)}}})])]),o("div",{staticClass:"source-container table-container"},[o("el-table",{attrs:{data:e.bookmarkList,height:e.dialogContentHeight},on:{"selection-change":function(t){e.localSelection=t}}},[o("el-table-column",{attrs:{type:"selection",width:"25",fixed:e.$store.state.miniInterface}}),o("el-table-column",{attrs:{"min-width":"150px",label:"书籍",fixed:e.$store.state.miniInterface},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.bookName)+" - "+e._s(t.row.bookAuthor)+" ")]}}],null,!1,3213026799)}),o("el-table-column",{attrs:{property:"chapterName",label:"章节","min-width":"150px"}}),o("el-table-column",{attrs:{property:"bookText",label:"内容","min-width":"150px"}}),o("el-table-column",{attrs:{property:"content",label:"备注","min-width":"150px"}}),o("el-table-column",{attrs:{label:"操作",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"text"},on:{click:function(o){return e.showBookmark(t.row)}}},[e._v("跳转")]),o("el-button",{attrs:{type:"text"},on:{click:function(o){return e.editBookmark(t.row)}}},[e._v("编辑")])]}}],null,!1,3222725587)})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{staticClass:"float-left",attrs:{type:"primary",size:"medium"},on:{click:e.deleteBookmarks}},[e._v("批量删除")]),o("span",{staticClass:"check-tip"},[e._v("已选择 "+e._s(e.localSelection.length)+" 个")]),o("el-button",{attrs:{size:"medium"},on:{click:e.cancel}},[e._v("取消")])],1)]):e._e()},Ne=[],Ge={model:{prop:"show",event:"setShow"},name:"Bookmark",data:function(){return{localSelection:[]}},computed:Object(s["a"])(Object(s["a"])({},Object(p["b"])(["dialogWidth","dialogTop","dialogContentHeight"])),{},{bookmarkList:function(){var e=this;return this.book&&this.book.name?this.$store.state.bookmarks.filter((function(t){return t.bookName===e.book.name&&t.bookAuthor===e.book.author})):this.$store.state.bookmarks}}),props:["show","book"],watch:{show:function(e){}},methods:{formatTableField:function(e,t,o){switch(t.property){default:return o}},cancel:function(){this.$emit("setShow",!1)},deleteBookmarks:function(){var e=this;return Object(c["a"])(Object(i["a"])().mark((function t(){var o;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.localSelection.length){t.next=3;break}return e.$message.error("请选择需要删除的书签"),t.abrupt("return");case 3:return t.next=5,e.$confirm("确认要删除所选择的书签吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})["catch"]((function(){return!1}));case 5:if(o=t.sent,o){t.next=8;break}return t.abrupt("return");case 8:u["a"].post(e.api+"/deleteBookmarks",e.localSelection).then((function(t){t.data.isSuccess&&(e.localSelection=[],e.$message.success("删除书签成功"),e.$root.$children[0].loadBookmarks(!0))}),(function(t){e.$message.error("删除书签失败 "+(t&&t.toString()))}));case 9:case"end":return t.stop()}}),t)})))()},editBookmark:function(e){l["a"].$emit("showBookmarkForm",Object(s["a"])({},e),!1)},uploadFile:function(){this.$refs.fileRef.dispatchEvent(new MouseEvent("click"))},onFileChange:function(e){var t=this,o=e.target.files&&e.target.files[0],n=new FileReader;n.onload=function(e){var o=e.target.result;try{var n=JSON.parse(o);Array.isArray(n)&&n.length&&t.comfirmImport(n)}catch(r){t.$message.error("书签文件错误")}},n.onerror=function(){var e=new FormData;e.append("file",o),u["a"].post(t.api+"/readSourceFile",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){if(e.data.isSuccess){var o=[];e.data.data.forEach((function(e){try{var t=JSON.parse(e);Array.isArray(t)&&(o=o.concat(t))}catch(n){}})),o.length?t.comfirmImport(o):t.$message.error("书签文件错误")}}),(function(e){t.$message.error("读取书签文件内容失败 "+(e&&e.toString()))}))},n.readAsText(o),this.$refs.fileRef.value=null},comfirmImport:function(e){var t=this;return Object(c["a"])(Object(i["a"])().mark((function o(){var n;return Object(i["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,t.$confirm("确认要导入文件中的".concat(e.length,"条书签吗?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})["catch"]((function(){return!1}));case 2:if(n=o.sent,n){o.next=5;break}return o.abrupt("return");case 5:u["a"].post(t.api+"/saveBookmarks",e).then((function(e){e.data.isSuccess&&(t.$message.success("导入书签成功"),t.$root.$children[0].loadBookmarks(!0))}),(function(e){t.$message.error("导入书签失败 "+(e&&e.toString()))}));case 6:case"end":return o.stop()}}),o)})))()},showBookmark:function(e){l["a"].$emit("showBookmark",e),this.cancel()}}},Pe=Ge,We=(o("7731"),Object(b["a"])(Pe,De,Ne,!1,null,"4d97092f",null)),Ve=We.exports,Qe=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.$store.getters.isNormalPage?o("el-dialog",{class:e.isWebApp&&!e.$store.getters.isNight?"status-bar-light-bg-dialog":"",attrs:{title:"书签",visible:e.show,width:e.dialogWidth,top:e.dialogTop,fullscreen:e.$store.state.miniInterface,"before-close":e.cancel},on:{"update:visible":function(t){e.show=t}}},[o("el-form",{attrs:{model:e.bookmarkForm}},[o("el-form-item",{attrs:{label:"书名"}},[o("el-input",{attrs:{readonly:""},model:{value:e.bookmarkForm.bookName,callback:function(t){e.$set(e.bookmarkForm,"bookName",t)},expression:"bookmarkForm.bookName"}})],1),o("el-form-item",{attrs:{label:"作者"}},[o("el-input",{attrs:{readonly:""},model:{value:e.bookmarkForm.bookAuthor,callback:function(t){e.$set(e.bookmarkForm,"bookAuthor",t)},expression:"bookmarkForm.bookAuthor"}})],1),o("el-form-item",{attrs:{label:"章节"}},[o("el-input",{attrs:{readonly:""},model:{value:e.bookmarkForm.chapterName,callback:function(t){e.$set(e.bookmarkForm,"chapterName",t)},expression:"bookmarkForm.chapterName"}})],1),o("el-form-item",{attrs:{label:"内容"}},[o("el-input",{attrs:{type:"textarea",rows:5,readonly:""},model:{value:e.bookmarkForm.bookText,callback:function(t){e.$set(e.bookmarkForm,"bookText",t)},expression:"bookmarkForm.bookText"}})],1),o("el-form-item",{attrs:{label:"备注"}},[o("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.bookmarkForm.content,callback:function(t){e.$set(e.bookmarkForm,"content",t)},expression:"bookmarkForm.content"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"medium"},on:{click:e.cancel}},[e._v("取 消")]),o("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.save}},[e._v("确 定")])],1)],1):e._e()},ze=[],_e={model:{prop:"show",event:"setShow"},name:"BookmarkForm",data:function(){return{bookmarkForm:Object(s["a"])({},S["c"])}},props:["show","bookmark","isAdd"],computed:Object(s["a"])({},Object(p["b"])(["dialogWidth","dialogTop","dialogContentHeight"])),watch:{show:function(e){e&&(this.bookmarkForm=this.bookmark||Object(s["a"])({},S["c"]))}},methods:{cancel:function(){this.$emit("setShow",!1)},save:function(){var e=this;if(this.bookmarkForm.bookName||this.bookmarkForm.bookAuthor)if(this.bookmarkForm.bookText){var t=Object(s["a"])({},this.bookmarkForm);u["a"].post("/saveBookmark",t).then((function(t){t.data.isSuccess&&(e.$message.success((e.isAdd?"新增":"编辑")+"书签成功"),e.$root.$children[0].loadBookmarks(!0),e.cancel())}),(function(t){e.$message.error((e.isAdd?"新增":"编辑")+"书签失败 "+(t&&t.toString()))}))}else this.$message.error("书籍内容不能为空");else this.$message.error("书籍信息错误")}}},He=_e,Ke=(o("039b"),Object(b["a"])(He,Qe,ze,!1,null,"b4d6c7ce",null)),Je=Ke.exports,qe=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.$store.getters.isNormalPage?o("el-dialog",{class:e.isWebApp&&!e.$store.getters.isNight?"status-bar-light-bg-dialog":"",attrs:{title:e.title,visible:e.show,width:e.dialogWidth,top:e.dialogTop,fullscreen:e.$store.state.miniInterface,"before-close":e.cancel},on:{"update:visible":function(t){e.show=t}}},[o("div",{staticClass:"source-container table-container"},[o("el-table",{attrs:{data:e.fileList,height:e.dialogContentHeight},on:{"selection-change":function(t){e.fileSelection=t}}},[o("el-table-column",{attrs:{type:"selection",width:"25",fixed:e.$store.state.miniInterface,selectable:function(e){return!e.toParent}}}),o("el-table-column",{attrs:{property:"name","min-width":"150px",label:"文件名",sortable:"","sort-method":e.sortMethod,fixed:e.$store.state.miniInterface},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isDirectory?e._e():o("span",[e._v(e._s(t.row.name))]),t.row.isDirectory?o("el-link",{attrs:{type:"primary"},on:{click:function(o){return e.showFileList(t.row.path)}}},[e._v(e._s(t.row.name))]):e._e()]}}],null,!1,2968821452)}),o("el-table-column",{attrs:{property:"size",label:"大小",formatter:e.formatTableField,"min-width":"100px"}}),o("el-table-column",{attrs:{property:"lastModified",label:"修改时间",formatter:e.formatTableField,width:"120px"}}),o("el-table-column",{attrs:{label:"操作",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isDirectory?e._e():o("el-dropdown",{attrs:{trigger:e.$store.state.touchable?"click":"hover"},on:{command:function(o){return e.operateFile(t.row,o)}}},[o("el-button",{staticClass:"text-button",attrs:{type:"text",size:"medium"}},[e._v(" 操作"),o("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t.row.isDirectory?e._e():o("el-dropdown-item",{attrs:{command:"downloadFile"}},[e._v("下载")]),!t.row.isDirectory&&t.row.name.endsWith(".zip")?o("el-dropdown-item",{attrs:{command:"restoreFromFile"}},[e._v("还原")]):e._e(),!t.row.isDirectory&&t.row.name.endsWith(".json")?o("el-dropdown-item",{attrs:{command:"editFile"}},[e._v("编辑")]):e._e(),e.canImport(t.row)?o("el-dropdown-item",{attrs:{command:"importFromFile"}},[e._v("加入书架")]):e._e()],1)],1),t.row.toParent?e._e():o("el-button",{staticStyle:{color:"#f56c6c"},attrs:{type:"text"},on:{click:function(o){return e.deleteFile(t.row)}}},[e._v("删除")])]}}],null,!1,268748123)})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-dropdown",{staticClass:"float-left",attrs:{trigger:e.$store.state.touchable?"click":"hover"},on:{command:e.operate}},[o("el-button",{attrs:{type:"primary",size:"medium"}},[e._v(" 操作"),o("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",{attrs:{command:"deleteFileList"}},[e._v("批量删除")]),o("el-dropdown-item",{attrs:{command:"importFromFile"}},[e._v("批量加入书架")]),o("el-dropdown-item",{attrs:{command:"mkdir"}},[e._v("新建目录")]),o("el-dropdown-item",{attrs:{command:"upload"}},[e._v("上传文件")])],1)],1),o("input",{ref:"bookRef",staticStyle:{display:"none"},attrs:{type:"file",multiple:"multiple"},on:{change:e.onFileChange}}),o("span",{staticClass:"check-tip"},[e._v("已选择 "+e._s(e.fileSelection.length)+" 个")]),o("el-button",{attrs:{size:"medium"},on:{click:e.cancel}},[e._v("取消")])],1)]):e._e()},Ze=[],Ye=(o("8a79"),o("30b5")),Xe={model:{prop:"show",event:"setShow"},name:"FileManager",data:function(){return{currentPath:"/",fileList:[],fileSelection:[]}},props:["show","home","title"],computed:Object(s["a"])({},Object(p["b"])(["dialogWidth","dialogTop","dialogContentHeight"])),watch:{show:function(e){e&&this.showFileList("/")}},methods:{formatTableField:function(e,t,o){switch(t.property){case"createdAt":case"lastLoginAt":case"lastModified":return o?new Date(o).format("yy-MM-dd hh:mm"):"";case"size":return e.isDirectory?"":Object(E["d"])(o);default:return o}},canImport:function(e){var t=e.path.toLowerCase();return t.endsWith(".txt")||t.endsWith(".epub")||t.endsWith(".umd")||t.endsWith(".cbz")},cancel:function(){this.$emit("setShow",!1)},showFileList:function(e){var t=this;this.currentPath=e||"/",u["a"].get(this.api+"/file/list",{params:{path:this.currentPath,home:this.home}}).then((function(e){if(e.data.isSuccess){if(e.data.data=e.data.data||[],"/"!==t.currentPath){var o=t.currentPath.split("/").filter((function(e){return e}));o.pop(),e.data.data.unshift({name:"..",isDirectory:!0,toParent:!0,path:"/"+o.join("/")})}e.data.data.sort(t.sortMethod),t.fileList=e.data.data,t.showLocalStoreManageDialog=!0}}),(function(e){t.$message.error("加载文件列表失败 "+(e&&e.toString()))}))},sortMethod:function(e,t){return".."===e.name?-1:".."===t.name?1:e.isDirectory&&!t.isDirectory?-1:!e.isDirectory&&t.isDirectory||e.name>t.name?1:-1},operate:function(e){if("importFromFile"===e)return this.importFromFile(!0);this[e].call(this)},operateFile:function(e,t){this[t].call(this,e)},deleteFileList:function(){var e=this;return Object(c["a"])(Object(i["a"])().mark((function t(){var o;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.fileSelection.length){t.next=3;break}return e.$message.error("请选择需要删除的文件"),t.abrupt("return");case 3:return t.next=5,e.$confirm("确认要删除所选择的文件吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})["catch"]((function(){return!1}));case 5:if(o=t.sent,o){t.next=8;break}return t.abrupt("return");case 8:u["a"].post(e.api+"/file/deleteMulti",{path:e.fileSelection.map((function(e){return e.path})),home:e.home}).then((function(t){t.data.isSuccess&&(e.fileSelection=[],e.$message.success("删除文件成功"),e.showFileList(e.currentPath))}),(function(t){e.$message.error("删除文件失败 "+(t&&t.toString()))}));case 9:case"end":return t.stop()}}),t)})))()},deleteFile:function(e){var t=this;return Object(c["a"])(Object(i["a"])().mark((function o(){var n;return Object(i["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,t.$confirm("确认要删除该".concat(e.isDirectory?"目录":"文件","吗?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})["catch"]((function(){return!1}));case 2:if(n=o.sent,n){o.next=5;break}return o.abrupt("return");case 5:u["a"].post(t.api+"/file/delete",{path:e.path,home:t.home}).then((function(e){e.data.isSuccess&&(t.$message.success("删除成功"),t.showFileList(t.currentPath))}),(function(e){t.$message.error("删除失败 "+(e&&e.toString()))}));case 6:case"end":return o.stop()}}),o)})))()},editFile:function(e){var t=this;return Object(c["a"])(Object(i["a"])().mark((function o(){return Object(i["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:u["a"].get(t.api+"/file/get",{params:{path:e.path,home:t.home}}).then((function(o){if(o.data.isSuccess){var n=o.data.data;try{n=JSON.stringify(JSON.parse(n),null,4)}catch(r){n=o.data.data}l["a"].$emit("showEditor","编辑 "+e.name,n,function(){var o=Object(c["a"])(Object(i["a"])().mark((function o(n,r){var a;return Object(i["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,t.$confirm("随意修改内容有可能会造成数据错乱，确认要保存编辑后的内容吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})["catch"]((function(){return!1}));case 3:if(a=o.sent,a){o.next=6;break}return o.abrupt("return");case 6:u["a"].post(t.api+"/file/save",{path:e.path,home:t.home,content:n}).then((function(e){e.data.isSuccess&&r()}),(function(e){t.$message.error("保存文件内容失败 "+(e&&e.toString()))})),o.next=12;break;case 9:o.prev=9,o.t0=o["catch"](0),t.$message.error("内容必须是JSON格式");case 12:case"end":return o.stop()}}),o,null,[[0,9]])})));return function(e,t){return o.apply(this,arguments)}}())}}),(function(e){t.$message.error("获取文件内容失败 "+(e&&e.toString()))}));case 1:case"end":return o.stop()}}),o)})))()},mkdir:function(){var e=this;return Object(c["a"])(Object(i["a"])().mark((function t(){var o;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$prompt("","新建目录",{inputValue:"",confirmButtonText:"确定",cancelButtonText:"取消",inputValidator:function(e){return!!e||"目录名不能为空"}})["catch"]((function(){return!1}));case 2:if(o=t.sent,o){t.next=5;break}return t.abrupt("return");case 5:u["a"].post(e.api+"/file/mkdir",{path:e.currentPath,name:o.value,home:e.home}).then((function(t){t.data.isSuccess&&(e.$message.success("操作成功"),e.showFileList(e.currentPath))}),(function(t){e.$message.error("操作失败"+(t&&t.toString()))}));case 6:case"end":return t.stop()}}),t)})))()},importFromFile:function(e){var t=this;return Object(c["a"])(Object(i["a"])().mark((function o(){return Object(i["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(!0!==e){o.next=4;break}if(t.fileSelection.length){o.next=4;break}return t.$message.error("请选择需要加入书架的书籍"),o.abrupt("return");case 4:u["a"].post(t.api+"/file/importPreview",{path:!0===e?t.fileSelection.map((function(e){return e.path})):[e.path],home:t.home}).then((function(e){if(e.data.isSuccess){if(!e.data.data||!e.data.data.length)return void t.$message.error("没有选择可导入的书籍");setTimeout((function(){l["a"].$emit("importPreview",e.data.data)}),0)}}),(function(e){t.$message.error("请求失败 "+(e&&e.toString()))}));case 5:case"end":return o.stop()}}),o)})))()},upload:function(){this.$refs.bookRef.dispatchEvent(new MouseEvent("click"))},downloadFile:function(e){var t=Ye(this.api+"/file/download",{home:this.home,path:e.path,accessToken:this.$store.state.token});window.open(t,"__blank")},onFileChange:function(e){var t=this;if(e.target&&e.target.files&&e.target.files.length){for(var o=new FormData,n=0;n<e.target.files.length;n++){var r=e.target.files[n];o.append("file"+n,r)}o.append("home",this.home),o.append("path",this.currentPath),u["a"].post(this.api+"/file/upload",o,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){e.data.isSuccess&&(t.$message.success("上传文件成功"),t.showFileList(t.currentPath))}),(function(e){t.$message.error("上传文件 "+(e&&e.toString()))})),this.$refs.bookRef.value=null}},restoreFromFile:function(e){var t=this;return Object(c["a"])(Object(i["a"])().mark((function o(){var n;return Object(i["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,t.$confirm("确认要从该压缩文件恢复书源、书架、分组、RSS订阅数据、替换规则、书签、用户配置和Webdav书籍吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})["catch"]((function(){return!1}));case 2:if(n=o.sent,n){o.next=5;break}return o.abrupt("return");case 5:u["a"].post(t.api+"/file/restore",{path:e.path,home:t.home}).then((function(e){e.data.isSuccess&&(t.$message.success("恢复成功"),t.$root.$children[0].init(!0))}),(function(e){t.$message.error("恢复失败 "+(e&&e.toString()))}));case 6:case"end":return o.stop()}}),o)})))()}}},et=Xe,tt=(o("d589"),Object(b["a"])(et,qe,Ze,!1,null,"6e04f6d2",null)),ot=tt.exports,nt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{class:e.isWebApp&&!e.$store.getters.isNight?"status-bar-light-bg-dialog":"",attrs:{title:"书籍封面",visible:e.show,width:e.dialogSmallWidth,fullscreen:e.$store.state.miniInterface,"before-close":e.cancel},on:{"update:visible":function(t){e.show=t}}},[o("div",{staticClass:"custom-dialog-title",attrs:{slot:"title"},slot:"title"},[o("span",{staticClass:"el-dialog__title"},[e._v("书籍封面 "),o("span",{staticClass:"float-right span-btn",class:{loading:e.loadingMore},on:{click:e.searchBookSourceByEventStream}},[e.loadingMore?o("i",{staticClass:"el-icon-loading"}):e._e(),e._v(" "+e._s(e.loadingMore?"加载中...":"加载更多")+" ")])])]),e.show?o("div",{staticClass:"book-cover-container"},[e.coverList.length?o("div",{staticClass:"cover-list"},e._l(e.coverList,(function(t,n){return o("div",{key:"cover-"+n,staticClass:"book-cover-wrapper",on:{click:function(o){return e.setCover(t)}}},[o("el-image",{staticClass:"book-cover",attrs:{src:t,fit:"cover",lazy:""}},[o("img",{staticClass:"el-image__inner",staticStyle:{"object-fit":"cover"},attrs:{slot:"error",src:e.noCover,alt:""},slot:"error"})])],1)})),0):o("div",{staticClass:"empty-notice"},[e._v(" 暂无其它来源 ")])]):e._e()])},rt=[],at=o("7e43"),st=o.n(at),it=o("30b5"),ct={model:{prop:"show",event:"setShow"},name:"BookCover",data:function(){return{coverList:[],lastIndex:-1,loadingMore:!1,noCover:st.a}},props:["show","book"],computed:Object(s["a"])(Object(s["a"])({},Object(p["b"])(["dialogSmallWidth","dialogTop"])),{},{showBookInfo:{get:function(){return this.$store.state.showBookInfo},set:function(e){this.$store.commit("setShowBookInfo",e)}},coverListMap:function(){return this.coverList.reduce((function(e,t){return e[t]=t,e}),{})}}),watch:{show:function(e){e&&(this.coverList=[],this.lastIndex=-1,this.loadingMore=!1,this.getBookSource())}},methods:{cancel:function(){this.$emit("setShow",!1)},getBookCoverUrl:function(e){return e.customCoverUrl||e.coverUrl},getBookSource:function(e){var t=this;u["a"].post(this.api+"/getAvailableBookSource",{url:this.book.bookUrl,refresh:e?1:0}).then((function(e){t.loading=!1,e.data.isSuccess&&(t.coverList=(e.data.data||[]).map((function(e){return e.coverUrl})))}),(function(e){throw t.loading=!1,t.$message.error("获取书籍来源信息失败 "+(e&&e.toString())),e}))},searchBookSourceByEventStream:function(){var e=this,t=function(){try{e.searchEventSource&&e.searchEventSource.readyState!=e.searchEventSource.CLOSED&&e.searchEventSource.close(),e.searchEventSource=null}catch(t){}};if(this.loadingMore)return t(),void(this.loadingMore=!1);var o={accessToken:this.$store.state.token,concurrentCount:this.$store.state.searchConfig.concurrentCount,url:this.book.bookUrl,lastIndex:this.lastIndex};this.loadingMore=!0;var n=it(this.api+"/searchBookSourceSSE",o);t(),this.searchEventSource=new EventSource(n,{withCredentials:!0}),this.searchEventSource.addEventListener("error",(function(o){e.loadingMore=!1,t();try{if(o.data){var n=JSON.parse(o.data);n&&n.errorMsg&&e.$message.error(n.errorMsg)}}catch(r){}}));var r=this.coverList.length;this.searchEventSource.addEventListener("end",(function(o){e.loadingMore=!1,t();try{if(o.data){var n=JSON.parse(o.data);n&&n.lastIndex&&(e.lastIndex=n.lastIndex)}e.coverList.length===r&&e.$message.error("没有更多啦")}catch(a){}})),this.searchEventSource.addEventListener("message",(function(t){try{if(t.data){var o=JSON.parse(t.data);o&&o.lastIndex&&(e.lastIndex=o.lastIndex),o.data&&(e.coverList=[].concat(e.coverList,o.data.filter((function(t){return!e.coverListMap[t.coverUrl]})).map((function(e){return e.coverUrl}))))}}catch(n){}}))},setCover:function(e){var t=this;return Object(c["a"])(Object(i["a"])().mark((function o(){var n,r;return Object(i["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,t.$confirm("确认要将封面设置为所选择的图片吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})["catch"]((function(){return!1}));case 2:if(n=o.sent,n){o.next=5;break}return o.abrupt("return",!1);case 5:r=Object(s["a"])(Object(s["a"])({},t.book),{},{coverUrl:e}),t.saveBook(r);case 7:case"end":return o.stop()}}),o)})))()},saveBook:function(e){var t=this;return u["a"].post(this.api+"/saveBook",e).then((function(o){o.data.isSuccess&&(t.$message.success("操作成功"),t.showBookInfo.bookUrl===e.bookUrl&&(t.showBookInfo=o.data.data),t.$store.commit("updateShelfBook",o.data.data))}),(function(e){t.$message.error("操作失败"+(e&&e.toString()))}))}}},ut=ct,lt=(o("c83b"),o("9075"),Object(b["a"])(ut,nt,rt,!1,null,"5b61cc65",null)),ft=lt.exports,dt=o("0377"),ht=o("c197"),pt=o.n(ht);o("f393"),o("a878"),o("82da");Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var o in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+o+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[o]:("00"+t[o]).substr((""+t[o]).length)));return e},String.prototype.getBytesLength=function(){for(var e,t=0,o=0;o<this.length;o++)e=this.charCodeAt(o),e<127?t++:t+=128<=e&&e<=2047?2:2048<=e&&e<=65535?3:4;return t};var mt={name:"app",components:{ImageViewer:f["a"],ReplaceRule:w,ReplaceRuleForm:x,MPCode:L,BookManage:G,BookInfo:_,UserManage:Y,AddUser:ae,BookGroup:he,RssSourceList:we,RssArticleList:ye,RssArticle:Ue,SearchBookContent:Me,Bookmark:Ve,BookmarkForm:Je,FileManager:ot,BookCover:ft},data:function(){return{remember:!0,loginForm:{username:"",password:"",code:""},showEditor:!1,editorTitle:"编辑器",editorContent:"",showReplaceRuleDialog:!1,showReplaceRuleForm:!1,replaceRule:{},isAddReplaceRule:!0,showMPCodeDialog:!1,showBookManageDialog:!1,showBookInfoDialog:!1,showUserManageDialog:!1,showAddUserDialog:!1,showBookGroupDialog:!1,isSetBookGroup:!1,showRssSourceListDialog:!1,showRssArticleListDialog:!1,rssSource:{},showRssArticleDialog:!1,rssArticleInfo:{},showSearchBookContentDialog:!1,searchBook:{},isLogin:!0,showBookmarkDialog:!1,showBookmarkForm:!1,bookmark:{},isAddBookmark:!0,bookmarkInBook:{},showFileManager:!1,fileManagerHome:"",fileManagerTitle:"文件管理",showBookCoverDialog:!1,bookCoverBook:{}}},beforeCreate:function(){var e=this;this.$store.dispatch("syncFromLocalStorage"),this.$store.commit("setMiniInterface",Object(E["e"])()),document.documentElement.style.setProperty("--vh","".concat(.01*window.innerHeight,"px")),window.onresize=function(){document.documentElement.style.setProperty("--vh","".concat(.01*window.innerHeight,"px")),e.$store.commit("setMiniInterface",Object(E["e"])()),e.$store.commit("setWindowSize",{width:window.innerWidth,height:window.innerHeight}),e.$store.commit("setTouchable","ontouchstart"in document)};var t=window.getQueryString("api");t&&this.$store.commit("setApi",t),(window.navigator.userAgent.indexOf("iPhone")>=0||window.navigator.userAgent.indexOf("iPad")>=0)&&(document.documentElement.style.setProperty("height","100vh"),document.body.style.setProperty("height","100vh"));try{var o=getComputedStyle(document.documentElement);this.$store.commit("setSafeArea",{top:0|o.getPropertyValue("--sat"),bottom:0|o.getPropertyValue("--sab"),left:0|o.getPropertyValue("--sal"),right:0|o.getPropertyValue("--sar")})}catch(n){}},created:function(){var e=this;return Object(c["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$route&&e.$route.query&&e.$route.query.api&&e.$store.commit("setApi",e.$route.query.api),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(function(){e.autoSetTheme(e.autoTheme)})),e.autoSetTheme(e.autoTheme),t.next=5,e.tauriInit()["catch"]((function(){}));case 5:e.getUserInfo().then((function(){e.$store.dispatch("syncFromLocalStorage"),e.init()})),e.loadTxtTocRules();case 7:case"end":return t.stop()}}),t)})))()},beforeMount:function(){var e=this;this.setTheme(this.isNight),this.setMiniInterfaceClass(),this.setPageTypeClass(),this.setDocumentProperty(),this.eventBus=l["a"],l["a"].$on("showEditor",this.showEditorListener),l["a"].$on("showReplaceRuleForm",this.showReplaceRuleFormListener),l["a"].$on("showReplaceRuleDialog",(function(){e.showReplaceRuleDialog=!0})),l["a"].$on("showMPCodeDialog",(function(){e.showMPCodeDialog=!0})),l["a"].$on("showBookManageDialog",(function(){e.showBookManageDialog=!0})),l["a"].$on("showBookInfoDialog",(function(t){e.showBookInfo=t,e.showBookInfoDialog=!0})),l["a"].$on("showUserManageDialog",(function(){e.showUserManageDialog=!0})),l["a"].$on("showAddUserDialog",(function(){e.showAddUserDialog=!0})),l["a"].$on("showBookGroupDialog",(function(t){e.showBookGroupDialog=!0,e.isSetBookGroup=!!t})),l["a"].$on("showRssArticleListDialog",(function(t){e.showRssArticleListDialog=!0,e.rssSource=t})),l["a"].$on("showRssSourceListDialog",(function(){e.showRssSourceListDialog=!0})),l["a"].$on("showRssArticleDialog",(function(t){e.showRssArticleDialog=!0,e.rssArticleInfo=t})),l["a"].$on("showSearchBookContentDialog",(function(t){e.showSearchBookContentDialog=!0,e.searchBook=t})),l["a"].$on("showBookmarkForm",(function(t,o,n){e.bookmark=t,e.isAddBookmark=o,e.bookmarkCallback=n,e.showBookmarkForm=!0})),l["a"].$on("showBookmarkDialog",(function(t){e.showBookmarkDialog=!0,e.bookmarkInBook=t})),l["a"].$on("showFileManagerDialog",(function(t,o){e.fileManagerHome=t,e.fileManagerTitle=o,e.showFileManager=!0})),l["a"].$on("showBookCoverDialog",(function(t){e.showBookCoverDialog=!0,e.bookCoverBook=t}))},mounted:function(){document.documentElement.style.setProperty("--vh","".concat(.01*window.innerHeight,"px")),window.reader=this},computed:{isNight:function(){return this.$store.getters.isNight},autoTheme:function(){return this.$store.getters.config.autoTheme},dialogWidth:function(){return this.$store.getters.dialogSmallWidth},dialogTop:function(){return this.$store.getters.dialogTop},showLogin:{get:function(){return this.$store.state.showLogin},set:function(e){this.$store.commit("setShowLogin",e)}},connected:function(){return this.$store.state.connected},showBookInfo:{get:function(){return this.$store.state.showBookInfo},set:function(e){this.$store.commit("setShowBookInfo",e)}}},watch:{isNight:function(e){this.setTheme(e)},autoTheme:function(e){this.autoSetTheme(e)},miniInterface:function(){this.setMiniInterfaceClass()},connected:function(e){e&&(window.customCSSLoad||window.loadLink(this.$store.getters.customCSSUrl,(function(){window.customCSSLoad=!0})))},"$store.state.config.pageType":function(){this.setPageTypeClass()},"$store.state.config.horizontalPadding":function(){this.setDocumentProperty()},"$store.state.config.topPadding":function(){this.setDocumentProperty()},"$store.state.config.bottomPadding":function(){this.setDocumentProperty()},showReplaceRuleForm:function(e){e||this.replaceRuleCallback&&(this.replaceRuleCallback(),this.replaceRuleCallback=null)},showBookmarkForm:function(e){e||this.bookmarkCallback&&(this.bookmarkCallback(),this.bookmarkCallback=null)},showLogin:function(e){e||(this.isLogin=!0)}},methods:{tauriInit:function(){var e=this;return Object(c["a"])(Object(i["a"])().mark((function t(){var o,n,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!window.__TAURI__||!window.__TAURI__.invoke){t.next=14;break}return t.next=3,window.__TAURI__.invoke("is_server_running")["catch"]((function(){return!1}));case 3:if(o=t.sent,n=function(){var t=Object(c["a"])(Object(i["a"])().mark((function t(){var o;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,window.__TAURI__.invoke("get_server_port")["catch"]((function(){return!1}));case 2:o=t.sent,o&&e.$store.commit("setApi","http://localhost:".concat(o,"/reader3/"));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o){t.next=12;break}return r=e.$loading({lock:!0,text:"正在启动服务...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),t.next=9,window.__TAURI__.invoke("start_server")["catch"]((function(t){e.$message.error(t),e.$nextTick((function(){e.$router.push("/setting")}))})).then(n);case 9:r.close(),t.next=14;break;case 12:return t.next=14,n();case 14:case"end":return t.stop()}}),t)})))()},autoSetTheme:function(e){e&&(window.matchMedia("(prefers-color-scheme: dark)").matches?this.$store.commit("setNightTheme",!0):this.$store.commit("setNightTheme",!1))},setTheme:function(e){document.body.className=e?(document.body.className||"").replace("night-theme","")+" night-theme":(document.body.className||"").replace("night-theme","")},setMiniInterfaceClass:function(){this.$store.state.miniInterface?document.body.className=(document.body.className||"").replace("mini-interface","")+" mini-interface":document.body.className=(document.body.className||"").replace("mini-interface","")},setPageTypeClass:function(){this.$store.getters.isKindlePage?document.body.className=(document.body.className||"").replace("kindle-page","")+" kindle-page":document.body.className=(document.body.className||"").replace("kindle-page","")},setDocumentProperty:function(){document.documentElement.style.setProperty("--horizontal-padding","".concat(0|this.$store.state.config.horizontalPadding,"px")),document.documentElement.style.setProperty("--top-padding","".concat(0|this.$store.state.config.topPadding,"px")),document.documentElement.style.setProperty("--bottom-padding","".concat(0|this.$store.state.config.bottomPadding,"px"))},cancel:function(){this.showLogin=!1,this.loginForm={username:"",password:"",code:""}},login:function(){var e=this;return Object(c["a"])(Object(i["a"])().mark((function t(){var o;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u["a"].post("/login",Object(s["a"])(Object(s["a"])({},e.loginForm),{},{isLogin:e.isLogin}));case 2:o=t.sent,o.data.isSuccess&&(e.$store.commit("setShowLogin",!1),e.$nextTick((function(){e.$store.commit("setLoginAuth",!0)})),e.remember&&o.data.data&&o.data.data.accessToken&&e.$store.commit("setToken",o.data.data.accessToken),e.getUserInfo().then((function(){e.$store.dispatch("syncFromLocalStorage"),e.init(!0)})));case 4:case"end":return t.stop()}}),t)})))()},init:function(e){var t=this;return Object(c["a"])(Object(i["a"])().mark((function o(){return Object(i["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(!t.initing){o.next=3;break}return e&&setTimeout((function(){t.init(e)}),100),o.abrupt("return");case 3:if(t.initing=!0,!e&&t.$store.state.shelfBooks.length){o.next=7;break}return o.next=7,t.loadBookShelf()["catch"]((function(){t.initing=!1}));case 7:return o.next=9,Promise.all([t.loadBookSource(e),t.loadBookGroup(e),t.loadRssSources(e),t.loadReplaceRules(e),t.loadBookmarks(e)]);case 9:t.initing=!1;case 10:case"end":return o.stop()}}),o)})))()},getUserInfo:function(){var e=this;return Object(E["g"])((function(){return u["a"].get(e.api+"/getUserInfo")}),"userInfo").then((function(t){e.$store.commit("setConnected",!0),t.data.isSuccess&&(e.$store.commit("setIsSecureMode",t.data.data.secure),t.data.data.secure&&t.data.data.secureKey&&e.$store.commit("setShowManagerMode",!0),t.data.data.userInfo&&e.$store.commit("setUserInfo",t.data.data.userInfo))}),(function(t){e.$message.error("加载用户信息失败 "+(t&&t.toString()))}))},loadTxtTocRules:function(e){var t=this,o=function(e){e.data.isSuccess&&t.$store.commit("setTxtTocRules",e.data.data||[])};return Object(E["i"])((function(){return u["a"].get("/getTxtTocRules")}),"txtTocRules",e,o).then(o,(function(e){t.$message.error("加载txt章节规则失败 "+(e&&e.toString()))}))},showEditorListener:function(e,t,o){var n=this;this.editorTitle=e,this.editorContent=t,this.showEditor=!0,this.callback=o,this.$nextTick((function(){n.initEditor()}))},showReplaceRuleFormListener:function(e,t,o){this.replaceRule=e,this.isAddReplaceRule=t,this.replaceRuleCallback=o,this.showReplaceRuleForm=!0},loadBookShelf:function(e,t){var o=this;return t=t||this.api,Object(E["g"])((function(){return u["a"].get(t+"/getBookshelf?refresh="+(e?1:0))}),"getBookshelf@"+this.currentUserName).then((function(e){o.$store.commit("setConnected",!0),e.data.isSuccess&&o.$store.commit("setShelfBooks",e.data.data)}))["catch"]((function(e){throw o.$store.commit("setConnected",!1),o.$message.error("后端连接失败 "+(e&&e.toString())),e}))},loadBookGroup:function(e){var t=this,o=function(e){e.data.isSuccess&&t.$store.commit("setBookGroupList",e.data.data||[])};return Object(E["i"])((function(){return u["a"].get(t.api+"/getBookGroups")}),"bookGroup@"+this.currentUserName,e,o).then(o,(function(e){t.$message.error("加载分组列表失败 "+(e&&e.toString()))}))},loadRssSources:function(e){var t=this,o=function(e){e.data.isSuccess&&t.$store.commit("setRssSourceList",e.data.data||[])};return Object(E["i"])((function(){return u["a"].get(t.api+"/getRssSources",{params:{simple:1}})}),"rssSources@"+this.currentUserName,e).then(o,(function(e){t.$message.error("加载RSS订阅列表失败 "+(e&&e.toString()))}))},loadBookSource:function(e){var t=this,o=function(e){e.data.isSuccess&&t.$store.commit("setBookSourceList",e.data.data||[])};return Object(E["i"])((function(){return u["a"].get(t.api+"/getBookSources",{params:{simple:1}})}),"bookSourceList@"+this.currentUserName,e,o).then(o,(function(e){t.$message.error("加载书源列表失败 "+(e&&e.toString()))}))},loadReplaceRules:function(e){var t=this,o=function(e){e.data.isSuccess&&t.$store.commit("setFilterRules",e.data.data||[])};return Object(E["i"])((function(){return u["a"].get(t.api+"/getReplaceRules")}),"replaceRule@"+this.currentUserName,e,o).then(o,(function(e){t.$message.error("加载替换规则失败 "+(e&&e.toString()))}))},loadBookmarks:function(e){var t=this,o=function(e){e.data.isSuccess&&t.$store.commit("setBookmarks",e.data.data||[])};return Object(E["i"])((function(){return u["a"].get(t.api+"/getBookmarks")}),"bookmark@"+this.currentUserName,e,o).then(o,(function(e){t.$message.error("加载书签失败 "+(e&&e.toString()))}))},isInShelf:function(e,t){var o=this;return Object(c["a"])(Object(i["a"])().mark((function n(){var r,a;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e&&e.bookUrl&&e.origin){n.next=3;break}return o.$message.error("书籍信息错误"),n.abrupt("return",!1);case 3:if(r=o.$store.getters.shelfBooks.find((function(t){return t.bookUrl===e.bookUrl})),r){n.next=12;break}if(!t){n.next=12;break}return n.next=8,o.$confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})["catch"]((function(){return!1}));case 8:if(a=n.sent,a){n.next=11;break}return n.abrupt("return",!1);case 11:return n.abrupt("return",u["a"].post(o.api+"/saveBook",e).then((function(e){if(e.data.isSuccess)return!0}),(function(){return o.$message.error("导入书籍失败"),!1})));case 12:return n.abrupt("return",!!r);case 13:case"end":return n.stop()}}),n)})))()},getBookContent:function(e,t,o,n,r){var a=this;r=r||{name:this.$store.getters.readingBook.name,author:this.$store.getters.readingBook.author,bookUrl:this.$store.getters.readingBook.bookUrl};var i={url:r.bookUrl,index:e};return o&&(i.refresh=1),n&&(i.cache=1),Object(E["b"])((function(){return u["a"].post(a.api+"/getBookContent",i,Object(s["a"])({timeout:3e4},t))}),r.name+"_"+r.author+"@"+r.bookUrl+"@chapterContent-"+e,o)},initEditor:function(){var e=this,t=this.$refs.editorRef;t||setTimeout((function(){e.initEditor()}),10);try{this.jar=Object(dt["a"])(t,pt.a.highlightElement,{tab:"\t"}),this.jar.updateCode(this.editorContent),this.jar.onUpdate((function(t){e.editorContent=t}))}catch(o){}},closeEditor:function(){this.jar&&this.jar.destroy&&this.jar.destroy(),this.showEditor=!1,this.editorTitle="",this.editorContent="",this.callback=null},saveEditor:function(){var e=this;this.callback&&this.callback(this.editorContent,(function(){e.closeEditor()}))},closeViewer:function(){this.$store.commit("setPreviewImgList",!1)}}},gt=mt,bt=(o("034f"),o("490c"),Object(b["a"])(gt,r,a,!1,null,null,null)),kt=bt.exports,wt=o("8c4f");n["default"].use(wt["a"]);var vt=wt["a"].prototype.push;wt["a"].prototype.push=function(e){return vt.call(this,e)["catch"]((function(e){return e}))};var At=[{path:"/",name:"index",component:function(){return o.e("index").then(o.bind(null,"d504"))}},{path:"/setting",name:"Setting",component:function(){return o.e("setting").then(o.bind(null,"4ef5"))}},{path:"/reader",name:"Reader",component:function(){return o.e("reader").then(o.bind(null,"968f"))}}],St=new wt["a"]({base:"",routes:At}),Bt=St,Ct=(o("0fb7"),o("450d"),o("f529")),yt=o.n(Ct),xt=(o("9e1f"),o("6ed5")),Ot=o.n(xt),It=(o("960d"),o("defb")),jt=o.n(It),Rt=(o("bd49"),o("18ff")),Ut=o.n(Rt),Lt=(o("cb70"),o("b370")),Tt=o.n(Lt),Ft=(o("e612"),o("dd87")),Et=o.n(Ft),$t=(o("075a"),o("72aa")),Mt=o.n($t),Dt=(o("e2f3"),o("06f9")),Nt=o.n(Dt),Gt=(o("acb6"),o("c673")),Pt=o.n(Gt),Wt=(o("9d4c"),o("e450")),Vt=o.n(Wt),Qt=(o("672e"),o("101e")),zt=o.n(Qt),_t=(o("3c52"),o("0d7b")),Ht=o.n(_t),Kt=(o("fe07"),o("6ac5")),Jt=o.n(Kt),qt=(o("fd71"),o("a447")),Zt=o.n(qt),Yt=(o("e960"),o("b35b")),Xt=o.n(Yt),eo=(o("eca7"),o("3787")),to=o.n(eo),oo=(o("425f"),o("4105")),no=o.n(oo),ro=(o("b5c2"),o("20cf")),ao=o.n(ro),so=(o("a586"),o("7464")),io=o.n(so),co=(o("d4df"),o("7fc1")),uo=o.n(co),lo=(o("560b"),o("dcdc")),fo=o.n(lo),ho=(o("a7cc"),o("df33")),po=o.n(ho),mo=(o("b0ee"),o("d180")),go=o.n(mo),bo=(o("a335"),o("c0bb")),ko=o.n(bo),wo=(o("be4f"),o("896a")),vo=o.n(wo),Ao=(o("cbb5"),o("8bbc")),So=o.n(Ao),Bo=(o("6611"),o("e772")),Co=o.n(Bo),yo=(o("1f1a"),o("4e4b")),xo=o.n(yo),Oo=(o("10cb"),o("f3ad")),Io=o.n(Oo),jo=(o("06f1"),o("6ac9")),Ro=o.n(jo),Uo=(o("5466"),o("ecdf")),Lo=o.n(Uo),To=(o("38a0"),o("ad41")),Fo=o.n(To),Eo=(o("b84d"),o("c216")),$o=o.n(Eo),Mo=(o("8f24"),o("76b9")),Do=o.n(Mo),No=(o("e3ea"),o("7bc3")),Go=o.n(No),Po=(o("1951"),o("eedf")),Wo=o.n(Po);o("cca6");n["default"].use(Wo.a),n["default"].use(Go.a),n["default"].use(Do.a),n["default"].use($o.a),n["default"].use(Fo.a),n["default"].use(Lo.a),n["default"].use(Ro.a),n["default"].use(Io.a),n["default"].use(xo.a),n["default"].use(Co.a),n["default"].use(So.a),n["default"].use(vo.a.directive),n["default"].use(ko.a),n["default"].use(go.a),n["default"].use(po.a),n["default"].use(fo.a),n["default"].use(uo.a),n["default"].use(io.a),n["default"].use(ao.a),n["default"].use(no.a),n["default"].use(to.a),n["default"].use(Xt.a),n["default"].use(Zt.a),n["default"].use(Jt.a),n["default"].use(Ht.a),n["default"].use(zt.a),n["default"].use(Vt.a),n["default"].use(Pt.a),n["default"].use(Nt.a),n["default"].use(Mt.a),n["default"].use(Et.a),n["default"].use(Tt.a),n["default"].use(Ut.a),n["default"].use(jt.a),n["default"].prototype.$msgbox=Ot.a,n["default"].prototype.$message=Object.assign({},yt.a,{info:function(e,t){var o="string"===typeof e?{message:e}:e;o.duration=t||1e3,yt.a.info(o)},error:function(e,t){var o="string"===typeof e?{message:e}:e;o.duration=t||2e3,yt.a.error(o)},success:function(e,t){var o="string"===typeof e?{message:e}:e;o.duration=t||1e3,yt.a.success(o)}}),n["default"].prototype.$ELEMENT={zIndex:2100},n["default"].prototype.$alert=Ot.a.alert,n["default"].prototype.$confirm=Ot.a.confirm,n["default"].prototype.$prompt=Ot.a.prompt,n["default"].prototype.$loading=vo.a.service;var Vo=o("1a58"),Qo=(o("be72"),o("9483"));function zo(){try{window.getQueryString("nopwa")||Object(Qo["a"])("".concat("","service-worker.js"),{ready:function(){window.serviceWorkerReady=!0},registered:function(e){if(window.localStorage){var t=window.localStorage.getItem("READER_APP_BUILD_VERSION"),o="v2.7.1-09270950";t!==o&&(e.active.postMessage({type:"SKIP_WAITING"}),window.localStorage.setItem("READER_APP_BUILD_VERSION",o))}}})}catch(e){}}var _o=o("3e1c"),Ho=o.n(_o),Ko=o("caf9"),Jo=o("53ca"),qo=(o("f4b3"),o("bf19"),Object.prototype.hasOwnProperty);function Zo(e){return"[Throws: "+(e?e.message:"?")+"]"}function Yo(e,t){if(qo.call(e,t))try{return e[t]}catch(o){return Zo(o)}return e[t]}function Xo(e){var t=[];function o(e){if(null===e||"object"!==Object(Jo["a"])(e))return e;if(-1!==t.indexOf(e))return"[Circular]";if(t.push(e),"function"===typeof e.toJSON)try{var n=o(e.toJSON());return t.pop(),n}catch(s){return Zo(s)}if(Array.isArray(e)){var r=e.map(o);return t.pop(),r}var a=Object.keys(e).reduce((function(t,n){return t[n]=o(Yo(e,n)),t}),{});return t.pop(),a}return o(e)}var en=function(e,t,o){return JSON.stringify(Xo(e),t,o)},tn=o("a002"),on=o.n(tn),nn=o("d28e");try{window.location.href.indexOf("errorAlert")>0&&(window.errorAlert=!0),window.onerror=function(e,t,o,n,r){window.errorAlert&&window.alert(en({event:e,source:t,lineno:o,colno:n,error:r}))},window.addEventListener("unhandledrejection",(function(e){window.errorAlert&&window.alert(en(e))})),n["default"].config.errorHandler=function(e){window.errorAlert&&window.alert(en(e))},window.$cacheStorage=on.a.createInstance({name:"cacheStorage"}),zo(),n["default"].config.productionTip=!1,n["default"].use(nn["a"]),n["default"].use(Ko["a"],{observer:!0,preLoad:1.8}),n["default"].mixin({computed:{api:function(){return this.$store.getters.api},isWebApp:function(){return window.navigator.standalone},isPWA:function(){return["fullscreen","standalone","minimal-ui"].some((function(e){return window.matchMedia("(display-mode: "+e+")").matches}))},isNightTheme:function(){return this.$store.getters.isNight},currentUserName:function(){return this.$store.getters.currentUserName}},methods:{getImagePath:function(e,t){return e&&(e.startsWith("http://")||e.startsWith("https://")||e.startsWith("//"))?t&&window.serviceWorkerReady?e:this.api+"/cover?path="+e:!!e&&this.$store.getters.apiRoot+e},getCover:function(e,t,o){return e=this.getImagePath(e,o),e?t?e:{src:e,error:st.a}:st.a},getImage:function(e,t,o){return e=this.getImagePath(e,o),e?t?e:{src:e,error:st.a}:Ho.a}}}),new n["default"]({router:Bt,store:Vo["a"],render:function(e){return e(kt)}}).$mount("#app")}catch(rn){alert(rn.stack)}},"5aa8":function(e,t,o){},"63f0":function(e,t,o){"use strict";o.d(t,"b",(function(){return n})),o.d(t,"a",(function(){return r}));o("e9c4");var n=function(e,t){t="string"===typeof t?t:JSON.stringify(t),window.localStorage&&window.localStorage.setItem(e,t)},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=t;try{if(o=window.localStorage&&window.localStorage.getItem(e),null===o)return t;if(o){var n=JSON.parse(o);if(null!==n)return n}return o}catch(r){return o}}},7286:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAgMAAABjUWAiAAAADFBMVEXr5djn4dTp49bt59rT6LKxAAACnElEQVQozw3NUUwScRzA8d8R6MF8YMIx8uk47hDSJbj14IPzOGc7jPLvwTGg5uAYDbe2tt56cLtznvEnS6yDqCcEaWi91DvrbLJZz7b1aFtz1aO+2OZWvn+/+4CHeB6BMYaqBLfjPNRY6RFT2JJYby+uAk4WUTrtlmJ4hgPYb2q1XGDQjaK8pgJHvqNaAX+KyuIkDXpgQinb46nOulnn4b5laUHTxLfseeArAoNOeJlOIjdoal0n1FA7tKFv5roK+YaHOqP3P0XyKHPHY+MhTRe5uCZnKhtJKw2eSrSoBDPLtpZuNcFNJcFyiCMxOaaHIfXz1e8HQbWLySrBQ4x0x1qlhnHlnz2HQEC6TNb0gTHXa7IKhcaHqkE015hk9whA0YeWiLIXf7Fa2CZo3DjqjB4tTuF8jIcbfcEx5z/w4sXpQhXW+ju0cqh7icTFmRMaG+v6CIvTjcSpHcH8JEsF3EPh3fRthYdVLLgI2fWXm85/pGFE4l046s70L+yKCcirGFR+jbpy3kMmiCGHrSezVONsn1RBixncyk2PcVWk7DlgxHo8iZwDyq5uAUD854dZhdIFYzKoQig2haUKi1lVufz2RZUZPZ41n/hrOQB6h0Hhg8I367FNoEHgeM/KY7szSeQwD8q2WE3HM35ZLl0K1MJiOtHIkBclRQUwZnyOWcNsRQQgVLj1PSqkjF9DsoOSaSg3iinKzvfmgsNFFfpP/2T3GLGvL4fHEfwIX1sVvXcPqLztehWGcfn9nI2U9nTfCgJPe/jFPLZwgVEzimBgAm0VIyK2tt1cE/AzQdLK+SxLSQ4aDCZnnId94OG2S1XwvnTbNk/ZnhyRCQT+sZM6z9g6LXL1BOBe+zJySiFkHAINCtnQokbCJ/apCv0foqPiZVfhpywAAAAASUVORK5CYII="},"728d":function(e,t,o){"use strict";o("ba71")},7323:function(e,t,o){"use strict";o("c623")},7513:function(e,t,o){"use strict";o.d(t,"d",(function(){return s})),o.d(t,"a",(function(){return i})),o.d(t,"g",(function(){return c})),o.d(t,"b",(function(){return u})),o.d(t,"i",(function(){return l})),o.d(t,"e",(function(){return f})),o.d(t,"c",(function(){return d})),o.d(t,"f",(function(){return h})),o.d(t,"h",(function(){return p}));var n=o("c7eb"),r=o("1da1"),a=(o("b680"),o("d9e2"),o("d401"),o("99af"),o("63f0")),s=function(e,t){if(null==e||""==e)return"0 Bytes";var o=new Array("Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"),n=0;n=Math.floor(Math.log(e)/Math.log(1024));var r=e/Math.pow(1024,n);return r=r.toFixed(t||2),r+" "+o[n]},i=function(e,t){var o=0,a=[];function s(){return i.apply(this,arguments)}function i(){return i=Object(r["a"])(Object(n["a"])().mark((function e(){var r,i,u;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,++o,c.leftCount=a.length,u=a.shift(),e.next=6,u();case 6:i=e.sent,e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),r=e.t0,c.errorCount++;case 13:return e.prev=13,--o,c.requestCount++,c.leftCount=a.length,t&&t(c,i,r),a.length>0&&s(),e.finish(13);case 20:case"end":return e.stop()}}),e,null,[[0,9,13,20]])}))),i.apply(this,arguments)}var c=function t(n){n&&n instanceof Function&&(a.push(n),t.leftCount=a.length,o<e&&s())};return c.requestCount=0,c.leftCount=0,c.errorCount=0,c.cancel=function(){a=[]},c.isEnd=function(){return!c.leftCount&&!o},c},c=function(){var e=Object(r["a"])(Object(n["a"])().mark((function e(t,o){var r;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o="localCache@"+o,e.next=3,t()["catch"]((function(){return window.$cacheStorage.getItem(o).then((function(e){if(e)return{data:e}}))["catch"]((function(e){var t=Object(a["a"])(o);if(t)return{data:t};throw e}))}));case 3:return r=e.sent,r.data&&r.data.isSuccess&&window.$cacheStorage.setItem(o,r.data)["catch"]((function(){})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,o){return e.apply(this,arguments)}}(),u=function(){var e=Object(r["a"])(Object(n["a"])().mark((function e(t,o,r){var s,i;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o="localCache@"+o,!0===r){e.next=8;break}return e.next=4,window.$cacheStorage.getItem(o).then((function(e){if(e)return e;throw new Error("Cache not found")}))["catch"]((function(){var e=Object(a["a"])(o);return e}));case 4:if(s=e.sent,!s){e.next=8;break}if(!(!r||r&&r(s))){e.next=8;break}return e.abrupt("return",{data:s});case 8:return e.next=10,t();case 10:return i=e.sent,i.data&&i.data.isSuccess&&window.$cacheStorage.setItem(o,i.data)["catch"]((function(){})),e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)})));return function(t,o,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(r["a"])(Object(n["a"])().mark((function e(t,o,s,i){var c,u;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o="localCache@"+o,c=function(){var e=Object(r["a"])(Object(n["a"])().mark((function e(){var r;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return r=e.sent,r.data&&r.data.isSuccess&&window.$cacheStorage.setItem(o,r.data)["catch"]((function(){})),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),!0===s){e.next=10;break}return e.next=5,window.$cacheStorage.getItem(o).then((function(e){if(e)return e;throw new Error("Cache not found")}))["catch"]((function(){var e=Object(a["a"])(o);return e}));case 5:if(u=e.sent,!u){e.next=10;break}if(!(!s||s&&s(u))){e.next=10;break}return c().then(i||function(){}),e.abrupt("return",{data:u});case 10:return e.next=12,c();case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})));return function(t,o,n,r){return e.apply(this,arguments)}}(),f=function(){return window.innerWidth<=750},d=function(e,t){if(e===t)return 1;if(!e||!t)return 0;for(var o=new Array(e.length+1),n=0;n<=e.length;n++)o[n]=new Array(t.length+1);for(var r=0;r<=e.length;r++)for(var a=0;a<=t.length;a++)0===r?o[0][a]=a:0===a?o[r][0]=r:e.charAt(r-1)===t.charAt(a-1)?o[r][a]=o[r-1][a-1]:o[r][a]=1+Math.min(o[r-1][a-1],Math.min(o[r][a-1],o[r-1][a]));return 1-o[e.length][t.length]/Math.max(e.length,t.length)},h=function(e,t){if(window.customFonts=window.customFonts||{},!window.customFonts[e]||window.customFonts[e]!==t){var o=document.createElement("style");o.textContent='\n    @font-face {\n      font-family: "'.concat(e,'";\n      src: url("').concat(t,'");\n    }'),o.id="custom-font-"+e,document.head.appendChild(o),window.customFonts[e]=t}},p=function(e){window.customFonts=window.customFonts||{},delete window.customFonts[e];for(var t=document.querySelectorAll("#custom-font-"+e),o=0;o<t.length;o++){var n=t[o];n.remove()}}},7731:function(e,t,o){"use strict";o("dae5")},"7abd":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAgMAAABjUWAiAAAADFBMVEXm9PXq+Pno9vfs+vttWKBGAAACPElEQVQozw3RQWrbQACF4TfCMjPqZgIj4RRaxsZKE0PuMBZ2cLKaCI9RDAXFmJJknUWWI1O1UlamOMHJSjGkuFn3AD2Cr9CepDrAg+/xIxK4QwIqHHQkUhQ/WuphInVIFBojl8QXc012Tgq4RTtVHWVLZVFh1tEoI91uiN4joCqde8Ukn/zGM1B2W4ari2PtTwyw55Ld+Wways54qhGPyS6FzbIT3lIY8WwWdCq56Yolx6KmSKzoqrsCB5heAp4TGNQWJ1Pc6XlE5jQD5OlIX9I47A9uiUQcPQxcury/ToyxWJG/za6ki88crxKPocKS59Sl3EtBG7C89fCGflpfqoSzCeC4crioJA7F0V5+8MaSIk4qSCdwzpogmbqzEirVpGiS2dOVJvUuuqFEmhHao06KEpq+8lvHI14NJk3Qrmi9vBuRLwAz0qZB4hsDXQFXgtnlpDX3C6ug9BquSw/CYtwAzuTz5vuQNdr/YibhR68378ehZH30FSpjh71LpQkrsj+Q062h5WwZ5wlRoD6uQJy1DqvSYuCUapMBqT5YA4ZFw4KlWapxoUGlKWrx0eDQvmigu4WMYt97ruru98fYL8/0lG6CTOFcFWBhFK5gKw19h2JN808nh7xhkU6sWKLXdtkqBL6h+lULK5k19wFB/FldnGYf3LDeuf6IC2/MzJOSOP0qPxLqzaGIqtBcFIItrstkazONOkrc1D1czjuwEGESB4JJnjgSMN7PXAu7fZQpl1C236C+9mM4Af8P98Ch4R2TRl8AAAAASUVORK5CYII="},"7b53":function(e,t,o){},"7c0e":function(e,t,o){"use strict";o("999f")},"7e43":function(e,t,o){e.exports=o.p+"img/noCover.b5c48bc1.jpeg"},"7ea0":function(e,t,o){"use strict";o("c72b")},"7f59":function(e,t,o){},"802e":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAgMAAABjUWAiAAAADFBMVEUWGBkYGhsdHyAfISI1t/v6AAAB5ElEQVQozxXQsYoTURSA4f/EeycZsDgDdySDjihk38Hy3GWi2J2BCaziQhaiaB+tt9AFu1kwvYUPsIXNPoB9BAUfwAfwEUzKv/v4odGrroyp9/rUaC6rZ5skv5F8qPsfYYP+yKUMymmAEEeW55oUR4o8jr05KNzJ07yvB7w0KKfLwcQUSjfmMU0PJfPHFoEVU+ohNrcKMEzMQ23FDnVSI2dqtYWI7KlLu6vE4UnyvKc3SJuL7lBbeEEl42ItpGLjzIT8PRJCmkRjVpVpsbJFVN0687okJNZiHAr5Z7MV0BnGIDc+THM1zlbieBc1Fq+tH5BH+OpnbWkj40hSqC8Lw2TvFuF0SUFJCk2IytXbjeqcRAt6NHpnrUkUU4KRzZs8RCK8N/Akn2W04LwxMU/V7XK0bDyN2RxfDyx7I4h5vjZby72V8UnOWumZL3qtYc+8DTE0siSBMXGhywx2dMYPnQHbxdFZ7deiNGxCCtD/QWnbwDoGhRYPDzUdUA3krjpnkvdAgDN4ddLkEQSov9qjd42HaDjI34gEqS9TUueAk+sc4qg5ws407KQYKs8G1jv4xBlqBVk6cb4dISZIwVi1Jzu4+HLk6lyfUxkXvwy+1Q+4WVdHIhwfybZ6CWVhxMEhShOgsP/HOW0MvZJeFwAAAABJRU5ErkJggg=="},"82da":function(e,t,o){},8552:function(e,t,o){"use strict";var n=o("2b0e");t["a"]=new n["default"]},"85ec":function(e,t,o){},"879f":function(e,t,o){},9075:function(e,t,o){"use strict";o("5aa8")},"950f":function(e,t,o){},"95cc":function(e,t,o){"use strict";o("7b53")},"999f":function(e,t,o){},a98d:function(e,t,o){},b165:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAgMAAABjUWAiAAAADFBMVEXe3t7a2trc3Nzg4OCXP9lCAAACoklEQVQozwXBzU/TYBwA4N+QEr4CNbSFwcFuowSqMRvEAwShHWAYNsu7dS0dLnGUSWT4kZB4lGzE4VtcwgIDJqcOWLJxcv4BOoQZuCPxSNSD4WSWLJGL8XmAIiyo2RgJ4A1pxQQlOxRAszLTdnPu2oQGb05RC5slJld7ZAIfo4O44Bn1ud59F0BcjnYOa17Jhwc6EdiKettncsXjT1f8KUBZUW41pK0Jc1Az4dEV3rkkPBtDSZ83Blyt0kSf2PRjzIykoBwINisPbPPtljdVE9iAXRfUPkXLVIgYrCccp5g687NdZbcJ+xa5VE/HhTtT23IKsN5jj/pcUd0dTZNAqCVw72n4gOwnTOC0vvHfaauT8d9zAoRRfPpISZRVyUiw8ELzOG1b2DZpFzkSrHLhq52twDEdyZHwvp2j4uv/bjvOf23/AcEtTuJbY5Cp4YcAer1IGkUzOo2rn8LQOKjFJw3NTw24nprQXY5aF4wxcqcSdbFQ00H4xFl8Drx4X4CikvAM1tuR8bKIBCBoLnKN10KJG4zKAsc7c9WEB9gnCi6BhVjqoco6t20ILAJuVctvaEZK732cRHDRmGfuihOam0o2CHByUZ/epCcVlRs2wmCnMqsd6aSim3ibBJtm1LGyXW3Bb7tJCPlFtUG+SvPdeEUAB60lNdo+VQbLcwRNVtT68FsLcr1+NotgNihlpExS1V2SFgNbeC8bEhgm8sM17wSi6Us2gxVWJU/5GKBpandvfyYbU1yHCLpCgWGbbPXn40rehEsUXKIJr9DMKgICfjc4bl1YfvUhE/YIECGRqjCxSM9hrybAIkND5OeWfFZsXkxB+qDzb7pUQ3EfQ3Ml6EChEt3D+iS01VqC7EQ/Z/DuPQcz4yChoFQJce2Qr+NNAv0HxofmpXGqgHkAAAAASUVORK5CYII="},b5ed:function(e,t,o){"use strict";o("d207")},b671:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyBAMAAADsEZWCAAAAD1BMVEX48dr48Nf58tv379X17NJtIBxUAAACFUlEQVQ4y1XRUZakMAgF0Af2AiDWApDZgHZqAV1nZv9rGh7Rj7Y8McUFEg1wvcMESMNVD/neU8Xcaz7nYYkYlYO6Ti82PBI4BvIEg1aj3wKwRvIMgZsUy5LdhCawPFh1sZs4SrlyN9fQKpv8s5dgZ2eLyqqJiu+WkCmUEybXkm3INS01WAiv0PapJ0CZc0SJQUzcWnZYbOOY20iFD8Bk+/j2A3wNxH7GdShFYS5ff237kXh9I9zSkQmIAhOsOSVfJ6DIXTMDaPnzkRJ92S1BQQmXl5LdirgRLLDdcYqcGPwe3QN4xCBiGNbrqq9wpW1XCecChwaQdVOsRDpPCpeoolPdxeXp3WNB9PHVzWBHlygy4NJCCrFHREv6bDt0VGwJZASkpONmm1UseGeFKAQexgaAkrfYWl3AGxWOLL2AIMBNbCXpktmS3k3vHeYjGCPBa43wJTurO3ZFVpQSJdAZGLoHTyk1upkjxMEaIxum3iIARcCa5kSkFAW5fi1mUlL9eyOsaanFmOMruwvEdE3ZYzsRSzo5ewRLXyVPPEvknt8ij4DvCg2O7xOgBCUprEzV4z1WekSpUgI8DT2mrnSOXKRfQavwuKA1F+tFnMKdJSUpMA7wQAifWRkMgjUKKZE4lBl6MCM4B1pq1P4uIjDE6Pq6rL0FnW1nIFmta5vrSvq/Ch4tpqG/ZNyyWa5jZPktq81eYv8Bt5s4iFITOp4AAAAASUVORK5CYII="},b93d:function(e,t,o){"use strict";o("f98e")},ba71:function(e,t,o){},be3b:function(e,t,o){"use strict";var n=o("c7eb"),r=(o("9e1f"),o("450d"),o("6ed5")),a=o.n(r),s=(o("0fb7"),o("f529")),i=o.n(s),c=o("5530"),u=o("1da1"),l=(o("d3b7"),o("0d03"),o("d401"),o("25f0"),o("c975"),o("4795"),o("bc3a")),f=o.n(l),d=o("bfff"),h=o("1a58"),p=f.a.create({baseURL:h["a"].getters.api,withCredentials:!0,timeout:3e5});h["a"].watch((function(e){return e.api}),(function(){p.defaults.baseURL=h["a"].getters.api})),p.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),p.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var m=!1,g=function(){var e=Object(u["a"])(Object(n["a"])().mark((function e(t){var o,r,s,u,l,f,b,k,w,v,A,S,B,C,y,x,O,I,j;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=t.url,r=t.method,s=void 0===r?"get":r,u=t.params,l=void 0===u?{}:u,f=t.data,b=void 0===f?{}:f,k=t.headers,w=void 0===k?{}:k,v=t.options,A=void 0===v?{}:v,S=t.alert,void 0===S&&(S="post"===s),h["a"].state.token&&(l.accessToken=h["a"].state.token),h["a"].state.isManagerMode&&h["a"].state.secureKey&&(l.secureKey=h["a"].state.secureKey,l.userNS=h["a"].state.userNS),l.v=(new Date).getTime(),B=Object(c["a"])({url:o,method:s,headers:w,params:l,data:b},A),e.next=8,p(B)["catch"]((function(e){if(l.bookSourceUrl&&h["a"].state.failureIncludeTimeout){var t=e.toString();window.errorMsgList=window.errorMsgList||[],window.errorMsgList.push(t),t.indexOf("timeout")>=0&&h["a"].commit("addFailureBookSource",{bookSourceUrl:l.bookSourceUrl,errorMsg:t})}throw e}));case 8:if(C=e.sent,C){e.next=11;break}return e.abrupt("return");case 11:if(y=C.data,x=y.isSuccess,O=y.errorMsg,x){e.next=46;break}e.t0=y.data,e.next="NEED_LOGIN"===e.t0?17:"NEED_SECURE_KEY"===e.t0?20:30;break;case 17:return h["a"].commit("setShowLogin",!0),m||(m=!0,setTimeout((function(){O&&i.a.error({message:O,duration:2e3}),setTimeout((function(){m=!1}),2e3)}),200)),e.abrupt("break",44);case 20:return e.next=22,a.a.prompt("请输入管理密码后继续操作","操作确认");case 22:if(I=e.sent,!I||"confirm"!==I.action||!I.value){e.next=29;break}return l.secureKey=I.value,h["a"].commit("setSecureKey",I.value),e.next=28,g({url:o,method:s,params:l,data:b,headers:w,alert:S});case 28:return e.abrupt("return",e.sent);case 29:return e.abrupt("break",44);case 30:if(!l.bookSourceUrl){e.next=42;break}if(!O){e.next=42;break}window.errorMsgList=window.errorMsgList||[],window.errorMsgList.push(O),j=0;case 35:if(!(j<d["e"].length)){e.next=42;break}if(!(O.indexOf(d["e"][j])>=0)){e.next=39;break}return h["a"].commit("addFailureBookSource",{bookSourceUrl:l.bookSourceUrl,errorMsg:O}),e.abrupt("break",42);case 39:j++,e.next=35;break;case 42:return A.silent||O&&i.a.error({message:O,duration:2e3}),e.abrupt("break",44);case 44:e.next=47;break;case 46:S&&O&&i.a.success({message:O,duration:1500});case 47:return e.abrupt("return",C);case 48:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();g.get=function(){var e=Object(u["a"])(Object(n["a"])().mark((function e(t,o){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=o||{},e.next=3,g({url:t,method:"get",params:o.params||{},options:o});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,o){return e.apply(this,arguments)}}(),g.post=function(){var e=Object(u["a"])(Object(n["a"])().mark((function e(t,o,r){return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,g({url:t,data:o,method:"post",options:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,o,n){return e.apply(this,arguments)}}(),t["a"]=g},be72:function(e,t,o){o("d401"),o("0d03"),o("d3b7"),o("25f0"),o("e323"),String.prototype.MD5=function(e){var t=this;function o(e,t){return e<<t|e>>>32-t}function n(e,t){var o,n,r,a,s;return r=2147483648&e,a=2147483648&t,o=1073741824&e,n=1073741824&t,s=(1073741823&e)+(1073741823&t),o&n?2147483648^s^r^a:o|n?1073741824&s?3221225472^s^r^a:1073741824^s^r^a:s^r^a}function r(e,t,o){return e&t|~e&o}function a(e,t,o){return e&o|t&~o}function s(e,t,o){return e^t^o}function i(e,t,o){return t^(e|~o)}function c(e,t,a,s,i,c,u){return e=n(e,n(n(r(t,a,s),i),u)),n(o(e,c),t)}function u(e,t,r,s,i,c,u){return e=n(e,n(n(a(t,r,s),i),u)),n(o(e,c),t)}function l(e,t,r,a,i,c,u){return e=n(e,n(n(s(t,r,a),i),u)),n(o(e,c),t)}function f(e,t,r,a,s,c,u){return e=n(e,n(n(i(t,r,a),s),u)),n(o(e,c),t)}function d(e){var t,o=e.length,n=o+8,r=(n-n%64)/64,a=16*(r+1),s=Array(a-1),i=0,c=0;while(c<o)t=(c-c%4)/4,i=c%4*8,s[t]=s[t]|e.charCodeAt(c)<<i,c++;return t=(c-c%4)/4,i=c%4*8,s[t]=s[t]|128<<i,s[a-2]=o<<3,s[a-1]=o>>>29,s}function h(e){var t,o,n="",r="";for(o=0;o<=3;o++)t=e>>>8*o&255,r="0"+t.toString(16),n+=r.substr(r.length-2,2);return n}var p,m,g,b,k,w,v,A,S,B=Array(),C=7,y=12,x=17,O=22,I=5,j=9,R=14,U=20,L=4,T=11,F=16,E=23,$=6,M=10,D=15,N=21;for(B=d(t),w=1732584193,v=4023233417,A=2562383102,S=271733878,p=0;p<B.length;p+=16)m=w,g=v,b=A,k=S,w=c(w,v,A,S,B[p+0],C,3614090360),S=c(S,w,v,A,B[p+1],y,3905402710),A=c(A,S,w,v,B[p+2],x,606105819),v=c(v,A,S,w,B[p+3],O,3250441966),w=c(w,v,A,S,B[p+4],C,4118548399),S=c(S,w,v,A,B[p+5],y,1200080426),A=c(A,S,w,v,B[p+6],x,2821735955),v=c(v,A,S,w,B[p+7],O,4249261313),w=c(w,v,A,S,B[p+8],C,1770035416),S=c(S,w,v,A,B[p+9],y,2336552879),A=c(A,S,w,v,B[p+10],x,4294925233),v=c(v,A,S,w,B[p+11],O,2304563134),w=c(w,v,A,S,B[p+12],C,1804603682),S=c(S,w,v,A,B[p+13],y,4254626195),A=c(A,S,w,v,B[p+14],x,2792965006),v=c(v,A,S,w,B[p+15],O,1236535329),w=u(w,v,A,S,B[p+1],I,4129170786),S=u(S,w,v,A,B[p+6],j,3225465664),A=u(A,S,w,v,B[p+11],R,643717713),v=u(v,A,S,w,B[p+0],U,3921069994),w=u(w,v,A,S,B[p+5],I,3593408605),S=u(S,w,v,A,B[p+10],j,38016083),A=u(A,S,w,v,B[p+15],R,3634488961),v=u(v,A,S,w,B[p+4],U,3889429448),w=u(w,v,A,S,B[p+9],I,568446438),S=u(S,w,v,A,B[p+14],j,3275163606),A=u(A,S,w,v,B[p+3],R,4107603335),v=u(v,A,S,w,B[p+8],U,1163531501),w=u(w,v,A,S,B[p+13],I,2850285829),S=u(S,w,v,A,B[p+2],j,4243563512),A=u(A,S,w,v,B[p+7],R,1735328473),v=u(v,A,S,w,B[p+12],U,2368359562),w=l(w,v,A,S,B[p+5],L,4294588738),S=l(S,w,v,A,B[p+8],T,2272392833),A=l(A,S,w,v,B[p+11],F,1839030562),v=l(v,A,S,w,B[p+14],E,4259657740),w=l(w,v,A,S,B[p+1],L,2763975236),S=l(S,w,v,A,B[p+4],T,1272893353),A=l(A,S,w,v,B[p+7],F,4139469664),v=l(v,A,S,w,B[p+10],E,3200236656),w=l(w,v,A,S,B[p+13],L,681279174),S=l(S,w,v,A,B[p+0],T,3936430074),A=l(A,S,w,v,B[p+3],F,3572445317),v=l(v,A,S,w,B[p+6],E,76029189),w=l(w,v,A,S,B[p+9],L,3654602809),S=l(S,w,v,A,B[p+12],T,3873151461),A=l(A,S,w,v,B[p+15],F,530742520),v=l(v,A,S,w,B[p+2],E,3299628645),w=f(w,v,A,S,B[p+0],$,4096336452),S=f(S,w,v,A,B[p+7],M,1126891415),A=f(A,S,w,v,B[p+14],D,2878612391),v=f(v,A,S,w,B[p+5],N,4237533241),w=f(w,v,A,S,B[p+12],$,1700485571),S=f(S,w,v,A,B[p+3],M,2399980690),A=f(A,S,w,v,B[p+10],D,4293915773),v=f(v,A,S,w,B[p+1],N,2240044497),w=f(w,v,A,S,B[p+8],$,1873313359),S=f(S,w,v,A,B[p+15],M,4264355552),A=f(A,S,w,v,B[p+6],D,2734768916),v=f(v,A,S,w,B[p+13],N,1309151649),w=f(w,v,A,S,B[p+4],$,4149444226),S=f(S,w,v,A,B[p+11],M,3174756917),A=f(A,S,w,v,B[p+2],D,718787259),v=f(v,A,S,w,B[p+9],N,3951481745),w=n(w,m),v=n(v,g),A=n(A,b),S=n(S,k);return 32==e?h(w)+h(v)+h(A)+h(S):h(v)+h(A)}},bfff:function(e,t,o){"use strict";o.d(t,"e",(function(){return P})),o.d(t,"d",(function(){return W})),o.d(t,"c",(function(){return V})),o.d(t,"f",(function(){return Q})),o.d(t,"a",(function(){return z}));var n=o("5530"),r=(o("99af"),o("b64b"),o("7286")),a=o.n(r),s=o("477e"),i=o.n(s),c=o("e160"),u=o.n(c),l=o("df5e"),f=o.n(l),d=o("ec0f"),h=o.n(d),p=o("b671"),m=o.n(p),g=o("5629"),b=o.n(g),k=o("d0e3"),w=o.n(k),v=o("4039"),A=o.n(v),S=o("1e75"),B=o.n(S),C=o("1632"),y=o.n(C),x=o("7abd"),O=o.n(x),I=o("356c"),j=o.n(I),R=o("b165"),U=o.n(R),L=o("cf68"),T=o.n(L),F=o("4400"),E=o.n(F),$=o("802e"),M=o.n($),D={configDefaultType:"白天默认",name:"内置白天",theme:0,font:0,chineseFont:"简体",fontSize:18,fontWeight:400,fontColor:"#262626",bodyColor:"#eadfca",contentColor:"#fff",popupColor:"#ede7da",themeType:"day",readMethod:"上下滑动",clickMethod:"自动",animateMSTime:300,readWidth:800,lineHeight:1.8,paragraphSpace:.2,autoReadingMethod:"像素滚动",autoReadingPixel:1,autoReadingLineTime:1e3,pageMode:"自适应",selectionAction:"操作弹窗",topPadding:0,bottomPadding:0,horizontalPadding:0},N={configDefaultType:"黑夜默认",name:"内置黑夜",theme:6,font:0,chineseFont:"简体",fontSize:18,fontWeight:400,fontColor:"#666666",bodyColor:"#121212",contentColor:"#171717",popupColor:"#121212",themeType:"night",readMethod:"上下滑动",clickMethod:"自动",animateMSTime:300,readWidth:800,lineHeight:1.8,paragraphSpace:.2,autoReadingMethod:"像素滚动",autoReadingPixel:1,autoReadingLineTime:1e3,pageMode:"自适应",selectionAction:"操作弹窗",topPadding:0,bottomPadding:0,horizontalPadding:0},G={shelfConfig:{showBookGroup:-1},searchConfig:{searchType:"multi",bookSourceGroup:"",bookSourceUrl:"",concurrentCount:24},customConfigList:[Object(n["a"])({},D),Object(n["a"])({},N)],config:Object(n["a"])(Object(n["a"])({},D),{},{customConfig:"内置白天",autoTheme:!0,pageType:"正常"}),speechVoiceConfig:{voiceName:"",speechRate:1,speechPitch:1},defaultNightTheme:6,themes:[{body:"url("+a.a+") repeat",content:"url("+i.a+") repeat",popup:"url("+u.a+") repeat"},{body:"url("+f.a+") repeat",content:"url("+h.a+") repeat",popup:"url("+m.a+") repeat"},{body:"url("+b.a+") repeat",content:"url("+w.a+") repeat",popup:"url("+A.a+") repeat"},{body:"url("+B.a+") repeat",content:"url("+y.a+") repeat",popup:"url("+O.a+") repeat"},{body:"#ebcece repeat",content:"#f5e4e4 repeat",popup:"#faeceb repeat"},{body:"url("+j.a+") repeat",content:"url("+U.a+") repeat",popup:"url("+T.a+") repeat"},{body:"url("+E.a+") repeat",content:"url("+M.a+") repeat",popup:"#121212"},{body:"#f7f7f7 repeat",content:"#fff repeat",popup:"#f7f7f7 repeat"}],fonts:[{fontFamily:"custom-system"},{fontFamily:"custom-ht, reader-ht"},{fontFamily:"custom-kt, reader-kt"},{fontFamily:"custom-st, reader-st"},{fontFamily:"custom-fs, reader-fs"}]},P=["UnknownHostException","ConnectException: Failed to connect","SocketException: Connection reset","SSLHandshakeException","responseCode: 307","responseCode: 400","responseCode: 403","responseCode: 404","responseCode: 500","responseCode: 502","responseCode: 503","responseCode: 504","responseCode: 513"],W={name:"",pattern:"",replacement:"",scope:"",isRegex:!1,isEnabled:!0},V={bookName:"",bookAuthor:"",chapterIndex:0,chapterPos:0,chapterName:"",bookText:"",content:""},Q=Object.keys(D).concat(["contentBGImg"]),z=["custom-system","custom-ht","custom-kt","custom-st","custom-fs"];t["b"]=G},c623:function(e,t,o){},c72b:function(e,t,o){},c83b:function(e,t,o){"use strict";o("e86d")},cf68:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyBAMAAADsEZWCAAAAD1BMVEXm5ubo6Ojp6enr6+vt7e1FnZagAAACrklEQVQ4yx1SixUbMQgT3AKAFwDcAfzpBN1/qMrJS5w7bCQhC6IGSUGYQJd6Ox9ZPXi1AGJBavhUTT0JjYPGAab9WcDYIxsmlnxkayX8mhxCmKHA75az5cfRbWybEExiu08xDSgGym0mwuf3j4SvHeQxDJJzh2zp4iOlrD8iOb4SXyC1wiOLRTcnrje+nGamFeXVKWkmzbFIPChkmJ6Fg7mBpV8n+JGOVCd4jv1thThkjeQGNeafpeV3rsEWLfyWc8tC9jOv6FQ8rRzHOOVB+jCYEUAJpDvh8xHNFm/Tm5p5lw94Pp3NhtKEfQsGvnXhowdZE73hPwxKvjDd4i4PCdd0fe3W5fO8ktAsUAacLgstpUw60JCiPLg2XpkgiqPIYYXJd9ksGIT3q+LlevypzItvO+s0F1dBzVr2QDMUkYmuyGcrIS44mVJ7JVKwQXjYuBYp0Uetecbswzsikzu3gUR8bJC/C8Gd/NAzI/xdUGOYQQHDZ8X2d5XuzGRUiXAi9si5CRgoiToRZPtzLJkd0FUHRHZwJf0BHT1sE7gcnh0jmKKlSSF4/GBirGk5+K9NKlGDCfc9JtPhg78JdabH0YQRKNZnJ8tFnPfXHJb4xum1TTCeEmyEdbyEJLjznMLHuFD2Y9NEkSleIBs7SiCbblhgctVi9ch++kDYnn1C9DA5TvdPsToXM55wI6k+8eKT1blwPTqWb5CFJ+7dTBmab+KHy+xwNtItXhZNSpHD2fxnynrxG3ZBKRe8KBpXk11AnadlccEhr9w1nBBvBylNkv7A8eqpGBCDqhitmWQXBjjdS6idr/QjXWLDeMzMbVDoJuM8zN7WenMZWXgZ2vX3F01J3jHZbwk1LRP+DWEvDJtOUoh/AIaBUz5VpWyhuyx4QtgL/NmgC6kM/JvNe+R/C/5aL7BKIbYAAAAASUVORK5CYII="},d0e3:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAgMAAABjUWAiAAAADFBMVEXh7eHl8eXj7+Pn8+eTbH1KAAACPElEQVQozxWPQWrbQABF/0xn3JFKQRTZOIuUsbCCbOgdRoYEOauxkYPcTRyTlPQWIxEltrsRwQ6hK9nEQek6F+gNTE/Q3qLLusv34cN7SH3mFicdYW4gNIhJWXPBRVXzjcFD0IqeU4o4PRbAIVjyico0vJpIifqPfL80QN9DAQY5ucRHE/hpHxBldXe9GilaHKcKMlj6pho2zXgkNdBl0oJ8kiF1DSiJF1ZHBJkQr0Dbux/5I42Zp4cFahJDFGeW6/QjBwmFY/Q7vZ2SnoOdW2parv/Cnm81+m0xrEfiVXQ3W4nOXIqVYi3l6AAQBwMFkViVBANMto4enXHPNTkHBB0oVj4r5vHzCWayrgBvxtygDlDB2CNDjd80ZInY69aKVYZcfJ8DW+fWuc+syEODALx+ojqoafHsthTI+ZW27PGpIeo/cR6YKcbqIuIFhHmBrzAovzIOOJk1ucvcDzrMRYGVBH2yvcAOf0KiKwfRovBI3tm/kW1eemtfNWwIIXE2mJNhvoszfmMBfRCv0OPwd2321uDW3nx2q/BDxFVeoN1g7a6Im8yRnoawa8kbdXnU0cHeTMxKfZGlJgvLb3sKsxgglQnDdAfvj9LUnqWRDo0GiUmPwyU7TAsD7wHeIW3Nfy1qVGKoE9NgJCdYCAexNRob9yCn4DAQmXtQuUtera6bEmTTXhZy6h856xi4mnEl6BI9mfISkLbtJyZIMJIAUd5ZOBEu88KRAk71yxfItj/hpIB0Errv4gO1os4/UICf+o3kkqwAAAAASUVORK5CYII="},d207:function(e,t,o){},d589:function(e,t,o){"use strict";o("516e")},d7aa:function(e,t,o){"use strict";o("950f")},d821:function(e,t,o){"use strict";o("e877")},dae5:function(e,t,o){},de97:function(e,t,o){},df5e:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAATlBMVEXdzaHh0KPgz6LdzKDezqLczJ7ezZ/fz6Dcy5zi0aXdzZ3fz6Tfz57h0KDg0aLcyZrg0KXi0qPfzZ3j06bh0qbdyJbfzJrhz5/cxpLZwo0vDconAAAFn0lEQVRIxxyPW5LjMAwDAT5FybLl2JnM3P+i6+wXWVC1GoQGaD0h4XM3Q5o4T0HgABHBi6pZ4CDXXcUOFd6VhqC3Kch4EI8w9oMXwvU6m5LOOvcxKMOhuu8i5+5cMjcgb0t4F2uvOoeI3/MlT4IqsbtM9UG2AGSXUOsxzPevnXzK1CSHytZLvx7VdQmUcJsJCxJh2nmHW12Qod1qPjt8pih47uQ9aGpoNWF+yElCt60oH7vdIU/MnlRPSBLC/VwqxcKR8PFqnADN9ih5ufqnTlG9KwCofvs7kKYqOPHTNMQ93j9qNImFw9vjHPZ0F1m8hUUVB/Q/TrRYDMXr9++APMFARAt6sPh6wVAXzxUGhZsFUwCNfPZ8/72TAHebAhvuOuT3gO1Vn5d9Jd5sBRkg0p2seL9B7ulkjFJFIt9HPpLzdSzzMP3UcodAfMqC6pBuET2heHK1itZf1GZ1bi0BwOSxiCS8f/JBHMPMM4XCu3Mt1uz9lJbDJRqsKDZuikzkvskQEz6hanfDfO494azY5JpqPqOF1RhxD9XYEdaNxiqWqakKgmPfmrsta8KAiwF4HBxGVUJAgeSqQaiRRZJ7D2jedhw5t1CIAKxag0CBA60BpoBE6DcUi8O5AuM4pLfN0kHLmeu2B4e6HofqbgxsTWUw3PAODqa1oDtyzgXBlusi1KFdclMPE8O3jvLJ8RNi5/RxDQVzVmXA233XQ4KummunfxvLOZo+iH37964YjP06995CTdu9hsvErqJNzmf4wTrZ5DL7+qW9EoLnadrx67b8dUtrJnBXaT1N1uvPaYRKpWkq52xNsMN7vv4Sdryt/f4MhQoMCKnvVxikai1CQ6ZsnwJDc8+3Y/z8HcfvYQNq66pnAu1Hwa+3KNSwbNu8h3nDPqTl9fl7tx8fBhFfdS0o0F3JUKEZtZG9b/LZEM95lzaR30OnWPzroMxyZYdBIMoMnpN0J+m7/40+/P4soFSUjgzE7yY5zrMJuoZv0CmpVguYx1pprfb5HOviRVhHUVi/352shxCYrYBZxGtVaxiAz/MsaGSIsB7R1t4zJXH//n7RTTQQwxqcGEqEvklFHUgiO2GvJV+jAIPR+N29usWDoiSOVrN3XuqT1egQJAAU9EwslVJC8u0rGcy+WPqktJhjfMpatIG6CDAb0v5H34MGKqiVRue7GGLZ9Otxtt4JIrAhxBDwDuqI9JavcO0A7GlqFt219tH/bln9jBXzaKWAEqJV0CBxs5TwM8EvUPHaa8S86vN303MVWOsl3goDBHPWSoQ9c0kQmCKljfsKNH1+ofEOHW8a9a7glZGS8fPieL/SRSs0LAhI4FDTnXs1QYtubv2+IXPZpHB4bhivRexBkYKsSrYXNjvMUbVXpVJ+N6haV72c1k2zrnv5IYBMJBYTSZx0KTkoM3vY93rU/qs7zHplc/3d2ACadhFWByrn9LUk2IWb5JywvawTQc3F0iz+lgsBmInAIemBJtft2plKIlAFOgcroigrG2XlDsAzywQECNyaI8yr2ogoh7D4qJOYmZBzQgoZAM1PAcB8sDrr1uE5CDMR+nWSSVUGUCHAs8Vd21HOE0FzNj37pX0sLp9p3K8k++xxpkmzDxK64rmTSJnDUuIgTeslui6lg92jonZXI4jqNiUuzN4IagcKMjCniMGCODoo8T4tGDprn2hRww+NrnYiCwokd9iiWrkmbRfXYGLAoZrjO1lVQKExjUy5fIkgJURmz2uGFdASwwlWx5gDVTMK7hP6ISRVsFbYNmqtZL9MQtio285PaekyzDhZmtdexCYB0SZcTmBdhvdbmAEonk8hwcHQuZN1kVqrhyKoHHsnQhQAjF7SG533Da2S4LGjx1LoZqp7XeKQLDUBmYmydG0NQHpMeR5lRIRQc1PQ2ASMQflF4YBDMt0/GFlEHeRwCcEAAAAASUVORK5CYII="},e11d:function(e,t,o){},e160:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAgMAAABjUWAiAAAADFBMVEX6+fP8+/X+/ff///kbczPAAAACeElEQVQozxXHQUgUUQAG4P8936yzs6VvZNZmN9QxVxiF9OLBoOjtOC6rQq6ygXjI2fCQBdXBg4egtzFGdqkoI+zgBFbqkm3hQSxhFYLotOcubeKhOnVYoqQy+m4f5g5TvpX0xHLbLY9j8SMhJp+Jk4LfAUS2kVRIjILmnwGBTX42PhCVlDJQkIiy2nWAvaJ1h+oFIpJ0hMSYVbyyrgDWshcMpMyL1brPDQKWmduO+KTJ6XeXAMK9Yc3FpD7atyNwg6kt5XgFpLPhjUTFSYVn2abDiugGShwD8JTVRJVo/2ecuKtRb/qc4BK+9TboFfokog4T2Fn6Oqdnsjk90NMS76Rji6E0NmwkPBAZ4Xbkw8KoDAkAbEhkc78e9omxxgxg6qa5HvMv+UZbCV0qmHnSHKl5TxeA2XTCGWekR581mwC5crBH81PznASqB9va3TbkYAjJPLfg5uBfXaJgIgIBv9eessRIhxe7PA7kj6uUMeMaQ/OEQOYRaaHlqH2Gxwsl6E/pwVY5FH7uCypBZPKvDQyVziYBrAkMURe2MOOOxG/eQpp5PF+bFzUV5HtPj9GeiVSNZDELleifYTp9NAjsoiXg4cW+4ZORkdSMB/B74aAdjhsVakhgkugsbmqcDSLEoWp8zRjrux3tli6Q5uM3E+maT99Wy0RiP7tboiuRZle2c6CYeL2kcUc1KvPtQKucogMadKVTQOJYCeyCYlhQQ/Q7Etfd/vBygy9iqy+LyHeF46saCYvW6ingsbA9RBWtdi8GgUXW+oQx9/wP6bAAX1TWeV+CbShZDlQ9xT6SoSxZmKRAkmXb60kzEzkRF+Ccb94BGspGJoN/UzmyR4wjXHAAAAAASUVORK5CYII="},e454:function(e,t,o){"use strict";o("45c8")},e86d:function(e,t,o){},e877:function(e,t,o){},ec0f:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyBAMAAADsEZWCAAAALVBMVEXx58b168ny6Mjz6sn06sf27Mvw5sTz6cbw5cLy58T37svv47/168v37s7t4Ltrv0//AAAEjUlEQVQ4yw2Ty2sTURxGf3dmOqmPxb0zmaStCnfmZpL6gpmbxIpUSMZGrSJkxsZiVZimNVaqMklrUnWTRq2KIDFWWx+IFrIRFxXEB4KIgqu6EBdu7M6FIPg32PW3+DhwDmBaYrK56KP4HGIsvg/uvOV0wK+qgBMlO9BujuH4DSJlOseqV5a/BEF97gt0ChyIPqBhXI9BtqtIB8vJB/LdCQ3OVjaLNX0g7+OmoI4e7nkemAqX6o8vg0yyQAyQS7IfgvFbI+6QyI3R4KELxw7kwM2ooQfyQigYnwY5MZbMlHI1DvnQVCoVcrt+R+bO7vPDif3ybNajwqAAe443dpfDsPt379VMWZzGRuqM79mQF+DUz9nt74bQ8J/O80MtVR51U02JKKmTCvTzLVf+vuxP/aHnPo9+2bW+zVsJ0Y630/CrfzX+b+UL+7O68Rczv+7lrMh5etfKXvhc2rk6KforxuoO2xB2tcxKfeXHt18rHOiHI/0RRjW/YGRDkHiwo3nzqL60o58C/bgRuaj7vk+QOwOhpnFNdjuWpKMCGP8Yapu9Ty5FTHKQLGSEFikjd9ADwP9ciaNNjc5qMH6w50AF/LKOsOYqsOG9GjKgc7ZXolqntm6fysJ6Ma6ll2CiqmOgE6O7x1wXExklbeqMYcwsmJmOoigt8SBg2WfilDSsAZJcBxDcrqtBXzFQJqZNHfscyIhoZlygAtyYAceah+elrFbI+46gEHDGiW878Kj7JpWyfhg6iyRMymV1MKBSeVpfgLHIohyTojI6sRyK1VpcqzVZeEBLOnA9unhGKUXPJDYtV9Dxuz4iA5xSkSWhCJdAiJR9PHlvfvbntbrR14FDqUNRAYDJmSnv3oKxuz5+7fiblgVJyYLTbgUM05P7LESkoXvyWNfb0aUU6FZizgQIa25VqKQZqFrk6v6BsqqIHlQmkQ9KrBhkC20/DrFsAFEEYLjM+lj2wYHXCwnNvZQR42XJ2iVK+UBXnI+OBE6oXpUUHiQ1yg0MhA03iwGbnOdQYc1CMiPIPQrCQJFH4L4BMFktAtKd9PN5gnU2Gra4KuK+V+mjtBRpAGIqDVe4wnSnajiFGO5d7smvhVQEMEYwqshrENIEaY7YeblJYtsb3QhAHWZCEKK67swwPMKw0If1Ta+6DgHmlgPzcUTSbi3rrv1Y64/BYEMPQ5SDHUOR022B4QRF6xLUPAaPX/V4IDI5N2BMwx4LqO1uO4j6uW7NvM7lATqGAxY/ZHVgoGZbu7SvkNR75x6qGSB23FdouENVwN7sCbewTdsXGrrnQ5ZZKOCOFtMTIzxlPu6eYmtL+nMFmoK7OeXajn86r9sqWbfmvHC4IagE5qfCPGZvLSq5F55hHIxJFa4/vRxHBlz0og4TojU1l/MOHJX17lybdF0mQhFO44JYUNt3UA473IXw/iPfDWtKG5oFSXIF5iU/VnyDSjxxeDk3jAXRyVyGTNB9FxH9qcFDNJpVbt2y9LytUXkK7Py6+z1RezHQqnoY8XcLimmd8dCnBhQCuaGpJCq3SoIlmYvLz8UkWhJw7T8k+Db/DYEKwgAAAABJRU5ErkJggg=="},ed5d:function(e,t,o){"use strict";o("a98d")},f894:function(e,t,o){"use strict";o("7f59")},f98e:function(e,t,o){},fa3b:function(e,t,o){}});