(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["index"],{"0d3b":function(e,t,o){var r=o("d039"),s=o("b622"),i=o("c430"),n=s("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,o="";return e.pathname="c%20d",t.forEach((function(e,r){t["delete"]("b"),o+=r+e})),i&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[n]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==o||"x"!==new URL("http://x",void 0).host}))},"0d98":function(e,t){e.exports="data:image/png;base64,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"},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"1c59":function(e,t,o){"use strict";var r=o("6d61"),s=o("6566");r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),s)},"2b3d":function(e,t,o){o("4002")},4002:function(e,t,o){"use strict";o("3ca3");var r,s=o("23e7"),i=o("83ab"),n=o("0d3b"),a=o("da84"),c=o("0366"),u=o("e330"),l=o("cb2d"),h=o("edd0"),f=o("19aa"),p=o("1a2d"),g=o("60da"),d=o("4df4"),k=o("4dae"),m=o("6547").codeAt,v=o("5fb2"),S=o("577e"),b=o("d44e"),w=o("d6d6"),C=o("5352"),B=o("69f3"),x=B.set,y=B.getterFor("URL"),L=C.URLSearchParams,A=C.getState,R=a.URL,I=a.TypeError,N=a.parseInt,$=Math.floor,_=Math.pow,T=u("".charAt),U=u(/./.exec),E=u([].join),M=u(1..toString),O=u([].pop),G=u([].push),P=u("".replace),j=u([].shift),F=u("".split),D=u("".slice),z=u("".toLowerCase),H=u([].unshift),W="Invalid authority",J="Invalid scheme",q="Invalid host",Q="Invalid port",V=/[a-z]/i,Z=/[\d+-.a-z]/i,K=/\d/,X=/^0x/i,Y=/^[0-7]+$/,ee=/^\d+$/,te=/^[\da-f]+$/i,oe=/[\0\t\n\r #%/:<>?@[\\\]^|]/,re=/[\0\t\n\r #/:<>?@[\\\]^|]/,se=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,ie=/[\t\n\r]/g,ne=function(e){var t,o,r,s,i,n,a,c=F(e,".");if(c.length&&""==c[c.length-1]&&c.length--,t=c.length,t>4)return e;for(o=[],r=0;r<t;r++){if(s=c[r],""==s)return e;if(i=10,s.length>1&&"0"==T(s,0)&&(i=U(X,s)?16:8,s=D(s,8==i?1:2)),""===s)n=0;else{if(!U(10==i?ee:8==i?Y:te,s))return e;n=N(s,i)}G(o,n)}for(r=0;r<t;r++)if(n=o[r],r==t-1){if(n>=_(256,5-t))return null}else if(n>255)return null;for(a=O(o),r=0;r<o.length;r++)a+=o[r]*_(256,3-r);return a},ae=function(e){var t,o,r,s,i,n,a,c=[0,0,0,0,0,0,0,0],u=0,l=null,h=0,f=function(){return T(e,h)};if(":"==f()){if(":"!=T(e,1))return;h+=2,u++,l=u}while(f()){if(8==u)return;if(":"!=f()){t=o=0;while(o<4&&U(te,f()))t=16*t+N(f(),16),h++,o++;if("."==f()){if(0==o)return;if(h-=o,u>6)return;r=0;while(f()){if(s=null,r>0){if(!("."==f()&&r<4))return;h++}if(!U(K,f()))return;while(U(K,f())){if(i=N(f(),10),null===s)s=i;else{if(0==s)return;s=10*s+i}if(s>255)return;h++}c[u]=256*c[u]+s,r++,2!=r&&4!=r||u++}if(4!=r)return;break}if(":"==f()){if(h++,!f())return}else if(f())return;c[u++]=t}else{if(null!==l)return;h++,u++,l=u}}if(null!==l){n=u-l,u=7;while(0!=u&&n>0)a=c[u],c[u--]=c[l+n-1],c[l+--n]=a}else if(8!=u)return;return c},ce=function(e){for(var t=null,o=1,r=null,s=0,i=0;i<8;i++)0!==e[i]?(s>o&&(t=r,o=s),r=null,s=0):(null===r&&(r=i),++s);return s>o&&(t=r,o=s),t},ue=function(e){var t,o,r,s;if("number"==typeof e){for(t=[],o=0;o<4;o++)H(t,e%256),e=$(e/256);return E(t,".")}if("object"==typeof e){for(t="",r=ce(e),o=0;o<8;o++)s&&0===e[o]||(s&&(s=!1),r===o?(t+=o?":":"::",s=!0):(t+=M(e[o],16),o<7&&(t+=":")));return"["+t+"]"}return e},le={},he=g({},le,{" ":1,'"':1,"<":1,">":1,"`":1}),fe=g({},he,{"#":1,"?":1,"{":1,"}":1}),pe=g({},fe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ge=function(e,t){var o=m(e,0);return o>32&&o<127&&!p(t,e)?e:encodeURIComponent(e)},de={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ke=function(e,t){var o;return 2==e.length&&U(V,T(e,0))&&(":"==(o=T(e,1))||!t&&"|"==o)},me=function(e){var t;return e.length>1&&ke(D(e,0,2))&&(2==e.length||"/"===(t=T(e,2))||"\\"===t||"?"===t||"#"===t)},ve=function(e){return"."===e||"%2e"===z(e)},Se=function(e){return e=z(e),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},be={},we={},Ce={},Be={},xe={},ye={},Le={},Ae={},Re={},Ie={},Ne={},$e={},_e={},Te={},Ue={},Ee={},Me={},Oe={},Ge={},Pe={},je={},Fe=function(e,t,o){var r,s,i,n=S(e);if(t){if(s=this.parse(n),s)throw I(s);this.searchParams=null}else{if(void 0!==o&&(r=new Fe(o,!0)),s=this.parse(n,null,r),s)throw I(s);i=A(new L),i.bindURL(this),this.searchParams=i}};Fe.prototype={type:"URL",parse:function(e,t,o){var s,i,n,a,c=this,u=t||be,l=0,h="",f=!1,g=!1,m=!1;e=S(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=P(e,se,"")),e=P(e,ie,""),s=d(e);while(l<=s.length){switch(i=s[l],u){case be:if(!i||!U(V,i)){if(t)return J;u=Ce;continue}h+=z(i),u=we;break;case we:if(i&&(U(Z,i)||"+"==i||"-"==i||"."==i))h+=z(i);else{if(":"!=i){if(t)return J;h="",u=Ce,l=0;continue}if(t&&(c.isSpecial()!=p(de,h)||"file"==h&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=h,t)return void(c.isSpecial()&&de[c.scheme]==c.port&&(c.port=null));h="","file"==c.scheme?u=Te:c.isSpecial()&&o&&o.scheme==c.scheme?u=Be:c.isSpecial()?u=Ae:"/"==s[l+1]?(u=xe,l++):(c.cannotBeABaseURL=!0,G(c.path,""),u=Ge)}break;case Ce:if(!o||o.cannotBeABaseURL&&"#"!=i)return J;if(o.cannotBeABaseURL&&"#"==i){c.scheme=o.scheme,c.path=k(o.path),c.query=o.query,c.fragment="",c.cannotBeABaseURL=!0,u=je;break}u="file"==o.scheme?Te:ye;continue;case Be:if("/"!=i||"/"!=s[l+1]){u=ye;continue}u=Re,l++;break;case xe:if("/"==i){u=Ie;break}u=Oe;continue;case ye:if(c.scheme=o.scheme,i==r)c.username=o.username,c.password=o.password,c.host=o.host,c.port=o.port,c.path=k(o.path),c.query=o.query;else if("/"==i||"\\"==i&&c.isSpecial())u=Le;else if("?"==i)c.username=o.username,c.password=o.password,c.host=o.host,c.port=o.port,c.path=k(o.path),c.query="",u=Pe;else{if("#"!=i){c.username=o.username,c.password=o.password,c.host=o.host,c.port=o.port,c.path=k(o.path),c.path.length--,u=Oe;continue}c.username=o.username,c.password=o.password,c.host=o.host,c.port=o.port,c.path=k(o.path),c.query=o.query,c.fragment="",u=je}break;case Le:if(!c.isSpecial()||"/"!=i&&"\\"!=i){if("/"!=i){c.username=o.username,c.password=o.password,c.host=o.host,c.port=o.port,u=Oe;continue}u=Ie}else u=Re;break;case Ae:if(u=Re,"/"!=i||"/"!=T(h,l+1))continue;l++;break;case Re:if("/"!=i&&"\\"!=i){u=Ie;continue}break;case Ie:if("@"==i){f&&(h="%40"+h),f=!0,n=d(h);for(var v=0;v<n.length;v++){var b=n[v];if(":"!=b||m){var w=ge(b,pe);m?c.password+=w:c.username+=w}else m=!0}h=""}else if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()){if(f&&""==h)return W;l-=d(h).length+1,h="",u=Ne}else h+=i;break;case Ne:case $e:if(t&&"file"==c.scheme){u=Ee;continue}if(":"!=i||g){if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()){if(c.isSpecial()&&""==h)return q;if(t&&""==h&&(c.includesCredentials()||null!==c.port))return;if(a=c.parseHost(h),a)return a;if(h="",u=Me,t)return;continue}"["==i?g=!0:"]"==i&&(g=!1),h+=i}else{if(""==h)return q;if(a=c.parseHost(h),a)return a;if(h="",u=_e,t==$e)return}break;case _e:if(!U(K,i)){if(i==r||"/"==i||"?"==i||"#"==i||"\\"==i&&c.isSpecial()||t){if(""!=h){var C=N(h,10);if(C>65535)return Q;c.port=c.isSpecial()&&C===de[c.scheme]?null:C,h=""}if(t)return;u=Me;continue}return Q}h+=i;break;case Te:if(c.scheme="file","/"==i||"\\"==i)u=Ue;else{if(!o||"file"!=o.scheme){u=Oe;continue}if(i==r)c.host=o.host,c.path=k(o.path),c.query=o.query;else if("?"==i)c.host=o.host,c.path=k(o.path),c.query="",u=Pe;else{if("#"!=i){me(E(k(s,l),""))||(c.host=o.host,c.path=k(o.path),c.shortenPath()),u=Oe;continue}c.host=o.host,c.path=k(o.path),c.query=o.query,c.fragment="",u=je}}break;case Ue:if("/"==i||"\\"==i){u=Ee;break}o&&"file"==o.scheme&&!me(E(k(s,l),""))&&(ke(o.path[0],!0)?G(c.path,o.path[0]):c.host=o.host),u=Oe;continue;case Ee:if(i==r||"/"==i||"\\"==i||"?"==i||"#"==i){if(!t&&ke(h))u=Oe;else if(""==h){if(c.host="",t)return;u=Me}else{if(a=c.parseHost(h),a)return a;if("localhost"==c.host&&(c.host=""),t)return;h="",u=Me}continue}h+=i;break;case Me:if(c.isSpecial()){if(u=Oe,"/"!=i&&"\\"!=i)continue}else if(t||"?"!=i)if(t||"#"!=i){if(i!=r&&(u=Oe,"/"!=i))continue}else c.fragment="",u=je;else c.query="",u=Pe;break;case Oe:if(i==r||"/"==i||"\\"==i&&c.isSpecial()||!t&&("?"==i||"#"==i)){if(Se(h)?(c.shortenPath(),"/"==i||"\\"==i&&c.isSpecial()||G(c.path,"")):ve(h)?"/"==i||"\\"==i&&c.isSpecial()||G(c.path,""):("file"==c.scheme&&!c.path.length&&ke(h)&&(c.host&&(c.host=""),h=T(h,0)+":"),G(c.path,h)),h="","file"==c.scheme&&(i==r||"?"==i||"#"==i))while(c.path.length>1&&""===c.path[0])j(c.path);"?"==i?(c.query="",u=Pe):"#"==i&&(c.fragment="",u=je)}else h+=ge(i,fe);break;case Ge:"?"==i?(c.query="",u=Pe):"#"==i?(c.fragment="",u=je):i!=r&&(c.path[0]+=ge(i,le));break;case Pe:t||"#"!=i?i!=r&&("'"==i&&c.isSpecial()?c.query+="%27":c.query+="#"==i?"%23":ge(i,le)):(c.fragment="",u=je);break;case je:i!=r&&(c.fragment+=ge(i,he));break}l++}},parseHost:function(e){var t,o,r;if("["==T(e,0)){if("]"!=T(e,e.length-1))return q;if(t=ae(D(e,1,-1)),!t)return q;this.host=t}else if(this.isSpecial()){if(e=v(e),U(oe,e))return q;if(t=ne(e),null===t)return q;this.host=t}else{if(U(re,e))return q;for(t="",o=d(e),r=0;r<o.length;r++)t+=ge(o[r],le);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return p(de,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&ke(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,o=e.username,r=e.password,s=e.host,i=e.port,n=e.path,a=e.query,c=e.fragment,u=t+":";return null!==s?(u+="//",e.includesCredentials()&&(u+=o+(r?":"+r:"")+"@"),u+=ue(s),null!==i&&(u+=":"+i)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?n[0]:n.length?"/"+E(n,"/"):"",null!==a&&(u+="?"+a),null!==c&&(u+="#"+c),u},setHref:function(e){var t=this.parse(e);if(t)throw I(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new De(e.path[0]).origin}catch(o){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+ue(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(S(e)+":",be)},getUsername:function(){return this.username},setUsername:function(e){var t=d(S(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var o=0;o<t.length;o++)this.username+=ge(t[o],pe)}},getPassword:function(){return this.password},setPassword:function(e){var t=d(S(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var o=0;o<t.length;o++)this.password+=ge(t[o],pe)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?ue(e):ue(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Ne)},getHostname:function(){var e=this.host;return null===e?"":ue(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,$e)},getPort:function(){var e=this.port;return null===e?"":S(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(e=S(e),""==e?this.port=null:this.parse(e,_e))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+E(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Me))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=S(e),""==e?this.query=null:("?"==T(e,0)&&(e=D(e,1)),this.query="",this.parse(e,Pe)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){e=S(e),""!=e?("#"==T(e,0)&&(e=D(e,1)),this.fragment="",this.parse(e,je)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var De=function(e){var t=f(this,ze),o=w(arguments.length,1)>1?arguments[1]:void 0,r=x(t,new Fe(e,!1,o));i||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},ze=De.prototype,He=function(e,t){return{get:function(){return y(this)[e]()},set:t&&function(e){return y(this)[t](e)},configurable:!0,enumerable:!0}};if(i&&(h(ze,"href",He("serialize","setHref")),h(ze,"origin",He("getOrigin")),h(ze,"protocol",He("getProtocol","setProtocol")),h(ze,"username",He("getUsername","setUsername")),h(ze,"password",He("getPassword","setPassword")),h(ze,"host",He("getHost","setHost")),h(ze,"hostname",He("getHostname","setHostname")),h(ze,"port",He("getPort","setPort")),h(ze,"pathname",He("getPathname","setPathname")),h(ze,"search",He("getSearch","setSearch")),h(ze,"searchParams",He("getSearchParams")),h(ze,"hash",He("getHash","setHash"))),l(ze,"toJSON",(function(){return y(this).serialize()}),{enumerable:!0}),l(ze,"toString",(function(){return y(this).serialize()}),{enumerable:!0}),R){var We=R.createObjectURL,Je=R.revokeObjectURL;We&&l(De,"createObjectURL",c(We,R)),Je&&l(De,"revokeObjectURL",c(Je,R))}b(De,"URL"),s({global:!0,constructor:!0,forced:!n,sham:!i},{URL:De})},5352:function(e,t,o){"use strict";o("e260");var r=o("23e7"),s=o("da84"),i=o("c65b"),n=o("e330"),a=o("83ab"),c=o("0d3b"),u=o("cb2d"),l=o("6964"),h=o("d44e"),f=o("9ed3"),p=o("69f3"),g=o("19aa"),d=o("1626"),k=o("1a2d"),m=o("0366"),v=o("f5df"),S=o("825a"),b=o("861d"),w=o("577e"),C=o("7c73"),B=o("5c6c"),x=o("9a1f"),y=o("35a1"),L=o("d6d6"),A=o("b622"),R=o("addb"),I=A("iterator"),N="URLSearchParams",$=N+"Iterator",_=p.set,T=p.getterFor(N),U=p.getterFor($),E=Object.getOwnPropertyDescriptor,M=function(e){if(!a)return s[e];var t=E(s,e);return t&&t.value},O=M("fetch"),G=M("Request"),P=M("Headers"),j=G&&G.prototype,F=P&&P.prototype,D=s.RegExp,z=s.TypeError,H=s.decodeURIComponent,W=s.encodeURIComponent,J=n("".charAt),q=n([].join),Q=n([].push),V=n("".replace),Z=n([].shift),K=n([].splice),X=n("".split),Y=n("".slice),ee=/\+/g,te=Array(4),oe=function(e){return te[e-1]||(te[e-1]=D("((?:%[\\da-f]{2}){"+e+"})","gi"))},re=function(e){try{return H(e)}catch(t){return e}},se=function(e){var t=V(e,ee," "),o=4;try{return H(t)}catch(r){while(o)t=V(t,oe(o--),re);return t}},ie=/[!'()~]|%20/g,ne={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ae=function(e){return ne[e]},ce=function(e){return V(W(e),ie,ae)},ue=f((function(e,t){_(this,{type:$,iterator:x(T(e).entries),kind:t})}),"Iterator",(function(){var e=U(this),t=e.kind,o=e.iterator.next(),r=o.value;return o.done||(o.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),o}),!0),le=function(e){this.entries=[],this.url=null,void 0!==e&&(b(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===J(e,0)?Y(e,1):e:w(e)))};le.prototype={type:N,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,o,r,s,n,a,c,u=y(e);if(u){t=x(e,u),o=t.next;while(!(r=i(o,t)).done){if(s=x(S(r.value)),n=s.next,(a=i(n,s)).done||(c=i(n,s)).done||!i(n,s).done)throw z("Expected sequence with length 2");Q(this.entries,{key:w(a.value),value:w(c.value)})}}else for(var l in e)k(e,l)&&Q(this.entries,{key:l,value:w(e[l])})},parseQuery:function(e){if(e){var t,o,r=X(e,"&"),s=0;while(s<r.length)t=r[s++],t.length&&(o=X(t,"="),Q(this.entries,{key:se(Z(o)),value:se(q(o,"="))}))}},serialize:function(){var e,t=this.entries,o=[],r=0;while(r<t.length)e=t[r++],Q(o,ce(e.key)+"="+ce(e.value));return q(o,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var he=function(){g(this,fe);var e=arguments.length>0?arguments[0]:void 0;_(this,new le(e))},fe=he.prototype;if(l(fe,{append:function(e,t){L(arguments.length,2);var o=T(this);Q(o.entries,{key:w(e),value:w(t)}),o.updateURL()},delete:function(e){L(arguments.length,1);var t=T(this),o=t.entries,r=w(e),s=0;while(s<o.length)o[s].key===r?K(o,s,1):s++;t.updateURL()},get:function(e){L(arguments.length,1);for(var t=T(this).entries,o=w(e),r=0;r<t.length;r++)if(t[r].key===o)return t[r].value;return null},getAll:function(e){L(arguments.length,1);for(var t=T(this).entries,o=w(e),r=[],s=0;s<t.length;s++)t[s].key===o&&Q(r,t[s].value);return r},has:function(e){L(arguments.length,1);var t=T(this).entries,o=w(e),r=0;while(r<t.length)if(t[r++].key===o)return!0;return!1},set:function(e,t){L(arguments.length,1);for(var o,r=T(this),s=r.entries,i=!1,n=w(e),a=w(t),c=0;c<s.length;c++)o=s[c],o.key===n&&(i?K(s,c--,1):(i=!0,o.value=a));i||Q(s,{key:n,value:a}),r.updateURL()},sort:function(){var e=T(this);R(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){var t,o=T(this).entries,r=m(e,arguments.length>1?arguments[1]:void 0),s=0;while(s<o.length)t=o[s++],r(t.value,t.key,this)},keys:function(){return new ue(this,"keys")},values:function(){return new ue(this,"values")},entries:function(){return new ue(this,"entries")}},{enumerable:!0}),u(fe,I,fe.entries,{name:"entries"}),u(fe,"toString",(function(){return T(this).serialize()}),{enumerable:!0}),h(he,N),r({global:!0,constructor:!0,forced:!c},{URLSearchParams:he}),!c&&d(P)){var pe=n(F.has),ge=n(F.set),de=function(e){if(b(e)){var t,o=e.body;if(v(o)===N)return t=e.headers?new P(e.headers):new P,pe(t,"content-type")||ge(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),C(e,{body:B(0,w(o)),headers:B(0,t)})}return e};if(d(O)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return O(e,arguments.length>1?de(arguments[1]):{})}}),d(G)){var ke=function(e){return g(this,j),new G(e,arguments.length>1?de(arguments[1]):{})};j.constructor=ke,ke.prototype=j,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ke})}}e.exports={URLSearchParams:he,getState:T}},"5fb2":function(e,t,o){"use strict";var r=o("e330"),s=2147483647,i=36,n=1,a=26,c=38,u=700,l=72,h=128,f="-",p=/[^\0-\u007E]/,g=/[.\u3002\uFF0E\uFF61]/g,d="Overflow: input needs wider integers to process",k=i-n,m=RangeError,v=r(g.exec),S=Math.floor,b=String.fromCharCode,w=r("".charCodeAt),C=r([].join),B=r([].push),x=r("".replace),y=r("".split),L=r("".toLowerCase),A=function(e){var t=[],o=0,r=e.length;while(o<r){var s=w(e,o++);if(s>=55296&&s<=56319&&o<r){var i=w(e,o++);56320==(64512&i)?B(t,((1023&s)<<10)+(1023&i)+65536):(B(t,s),o--)}else B(t,s)}return t},R=function(e){return e+22+75*(e<26)},I=function(e,t,o){var r=0;e=o?S(e/u):e>>1,e+=S(e/t);while(e>k*a>>1)e=S(e/k),r+=i;return S(r+(k+1)*e/(e+c))},N=function(e){var t=[];e=A(e);var o,r,c=e.length,u=h,p=0,g=l;for(o=0;o<e.length;o++)r=e[o],r<128&&B(t,b(r));var k=t.length,v=k;k&&B(t,f);while(v<c){var w=s;for(o=0;o<e.length;o++)r=e[o],r>=u&&r<w&&(w=r);var x=v+1;if(w-u>S((s-p)/x))throw m(d);for(p+=(w-u)*x,u=w,o=0;o<e.length;o++){if(r=e[o],r<u&&++p>s)throw m(d);if(r==u){var y=p,L=i;while(1){var N=L<=g?n:L>=g+a?a:L-g;if(y<N)break;var $=y-N,_=i-N;B(t,b(R(N+$%_))),y=S($/_),L+=i}B(t,b(R(y))),g=I(p,x,v==k),p=0,v++}}p++,u++}return C(t,"")};e.exports=function(e){var t,o,r=[],s=y(x(L(e),g,"."),".");for(t=0;t<s.length;t++)o=s[t],B(r,v(p,o)?"xn--"+N(o):o);return C(r,".")}},6062:function(e,t,o){o("1c59")},6566:function(e,t,o){"use strict";var r=o("9bf2").f,s=o("7c73"),i=o("6964"),n=o("0366"),a=o("19aa"),c=o("2266"),u=o("7dd0"),l=o("2626"),h=o("83ab"),f=o("f183").fastKey,p=o("69f3"),g=p.set,d=p.getterFor;e.exports={getConstructor:function(e,t,o,u){var l=e((function(e,r){a(e,p),g(e,{type:t,index:s(null),first:void 0,last:void 0,size:0}),h||(e.size=0),void 0!=r&&c(r,e[u],{that:e,AS_ENTRIES:o})})),p=l.prototype,k=d(t),m=function(e,t,o){var r,s,i=k(e),n=v(e,t);return n?n.value=o:(i.last=n={index:s=f(t,!0),key:t,value:o,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=n),r&&(r.next=n),h?i.size++:e.size++,"F"!==s&&(i.index[s]=n)),e},v=function(e,t){var o,r=k(e),s=f(t);if("F"!==s)return r.index[s];for(o=r.first;o;o=o.next)if(o.key==t)return o};return i(p,{clear:function(){var e=this,t=k(e),o=t.index,r=t.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete o[r.index],r=r.next;t.first=t.last=void 0,h?t.size=0:e.size=0},delete:function(e){var t=this,o=k(t),r=v(t,e);if(r){var s=r.next,i=r.previous;delete o.index[r.index],r.removed=!0,i&&(i.next=s),s&&(s.previous=i),o.first==r&&(o.first=s),o.last==r&&(o.last=i),h?o.size--:t.size--}return!!r},forEach:function(e){var t,o=k(this),r=n(e,arguments.length>1?arguments[1]:void 0);while(t=t?t.next:o.first){r(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!v(this,e)}}),i(p,o?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),h&&r(p,"size",{get:function(){return k(this).size}}),l},setStrong:function(e,t,o){var r=t+" Iterator",s=d(t),i=d(r);u(e,t,(function(e,t){g(this,{type:r,target:e,state:s(e),kind:t,last:void 0})}),(function(){var e=i(this),t=e.kind,o=e.last;while(o&&o.removed)o=o.previous;return e.target&&(e.last=o=o?o.next:e.state.first)?"keys"==t?{value:o.key,done:!1}:"values"==t?{value:o.value,done:!1}:{value:[o.key,o.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),o?"entries":"values",!o,!0),l(t)}}},"6d61":function(e,t,o){"use strict";var r=o("23e7"),s=o("da84"),i=o("e330"),n=o("94ca"),a=o("cb2d"),c=o("f183"),u=o("2266"),l=o("19aa"),h=o("1626"),f=o("861d"),p=o("d039"),g=o("1c7e"),d=o("d44e"),k=o("7156");e.exports=function(e,t,o){var m=-1!==e.indexOf("Map"),v=-1!==e.indexOf("Weak"),S=m?"set":"add",b=s[e],w=b&&b.prototype,C=b,B={},x=function(e){var t=i(w[e]);a(w,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(v&&!f(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return v&&!f(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!f(e))&&t(this,0===e?0:e)}:function(e,o){return t(this,0===e?0:e,o),this})},y=n(e,!h(b)||!(v||w.forEach&&!p((function(){(new b).entries().next()}))));if(y)C=o.getConstructor(t,e,m,S),c.enable();else if(n(e,!0)){var L=new C,A=L[S](v?{}:-0,1)!=L,R=p((function(){L.has(1)})),I=g((function(e){new b(e)})),N=!v&&p((function(){var e=new b,t=5;while(t--)e[S](t,t);return!e.has(-0)}));I||(C=t((function(e,t){l(e,w);var o=k(new b,e,C);return void 0!=t&&u(t,o[S],{that:o,AS_ENTRIES:m}),o})),C.prototype=w,w.constructor=C),(R||N)&&(x("delete"),x("has"),m&&x("get")),(N||A)&&x(S),v&&w.clear&&delete w.clear}return B[e]=C,r({global:!0,constructor:!0,forced:C!=b},B),d(C,e),v||o.setStrong(C,e,m),C}},"6f42":function(e,t,o){"use strict";o("aa92")},"716b":function(e,t,o){"use strict";o("da4c")},"841c":function(e,t,o){"use strict";var r=o("c65b"),s=o("d784"),i=o("825a"),n=o("1d80"),a=o("129f"),c=o("577e"),u=o("dc4a"),l=o("14c3");s("search",(function(e,t,o){return[function(t){var o=n(this),s=void 0==t?void 0:u(t,e);return s?r(s,t,o):new RegExp(t)[e](c(o))},function(e){var r=i(this),s=c(e),n=o(t,r,s);if(n.done)return n.value;var u=r.lastIndex;a(u,0)||(r.lastIndex=0);var h=l(r,s);return a(r.lastIndex,u)||(r.lastIndex=u),null===h?-1:h.index}]}))},"8efd":function(e,t,o){"use strict";var r=o("53ca"),s=function(e,t,o,r){return e/=r/2,e<1?o/2*e*e+t:(e--,-o/2*(e*(e-2)-1)+t)},i=function(){var e,t,o,i,n,a,c,u,l,h,f,p,g;function d(){var t=e.scrollTop||e.scrollY||e.pageYOffset;return t="undefined"===typeof t?0:t,t}function k(t){var r=t.getBoundingClientRect().top,s=e.getBoundingClientRect?e.getBoundingClientRect().top:0;return r-s+o}function m(t){e.scrollTo?e.scrollTo(0,t):e.scrollTop=t}function v(e){h||(h=e),f=e-h,p=a(f,o,u,l),m(p),f<l?requestAnimationFrame(v):S()}function S(){m(o+u),t&&c&&(t.setAttribute("tabindex","-1"),t.focus()),"function"===typeof g&&g(),h=!1}function b(h){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(l=f.duration||1e3,n=f.offset||0,g=f.callback,a=f.easing||s,c=f.a11y||!1,Object(r["a"])(f.container)){case"object":e=f.container;break;case"string":e=document.querySelector(f.container);break;default:e=window}switch(o=d(),Object(r["a"])(h)){case"number":t=void 0,c=!1,i=o+h;break;case"object":t=h,i=k(t);break;case"string":t=document.querySelector(h),i=k(t);break}switch(u=i-o+n,Object(r["a"])(f.duration)){case"number":l=f.duration;break;case"function":l=f.duration(u);break}requestAnimationFrame(v)}return b},n=i();t["a"]=n},9861:function(e,t,o){o("5352")},aa92:function(e,t,o){},ad09:function(e,t,o){"use strict";o("bfd0")},bfd0:function(e,t,o){},d504:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"index-wrapper",class:{night:e.isNight,day:!e.isNight}},[e.$store.getters.isNormalPage?r("div",{staticClass:"navigation-wrapper",class:[e.navigationClass,e.isWebApp&&!e.isNight?"status-bar-light-bg":""],style:e.navigationStyle,on:{touchstart:e.handleTouchStart,touchmove:e.handleTouchMove,touchend:e.handleTouchEnd}},[r("div",{staticClass:"navigation-inner-wrapper"},[r("div",{staticClass:"navigation-title"},[e._v(" 阅读 "),r("span",{staticClass:"version-text",on:{click:e.updateForce}},[e._v(e._s(e.$store.state.version))])]),r("div",{staticClass:"navigation-sub-title"},[e._v(" 清风不识字，何故乱翻书 ")]),r("div",{staticClass:"search-wrapper"},[r("el-input",{staticClass:"search-input",attrs:{size:"mini",placeholder:"搜索书籍"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchBook(1)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}},[r("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1),r("div",{staticClass:"setting-wrapper search-setting"},[r("div",{staticClass:"setting-title"},[e._v(" 搜索设置 ")]),r("div",{staticClass:"setting-item"},[r("el-select",{staticClass:"setting-select",attrs:{size:"mini",filterable:"",placeholder:"请选择搜索方式"},model:{value:e.searchConfig.searchType,callback:function(t){e.$set(e.searchConfig,"searchType",t)},expression:"searchConfig.searchType"}},e._l(e.searchTypeList,(function(e,t){return r("el-option",{key:"search-type-"+t,attrs:{label:e.name,value:e.value}})})),1)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:"single"===e.searchConfig.searchType,expression:"searchConfig.searchType === 'single'"}],staticClass:"setting-item"},[r("el-select",{staticClass:"setting-select",attrs:{size:"mini",filterable:"",placeholder:"请选择搜索书源"},model:{value:e.searchConfig.bookSourceUrl,callback:function(t){e.$set(e.searchConfig,"bookSourceUrl",t)},expression:"searchConfig.bookSourceUrl"}},e._l(e.bookSourceList,(function(e,t){return r("el-option",{key:"source-"+t,attrs:{label:e.bookSourceName,value:e.bookSourceUrl}})})),1)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:"single"!==e.searchConfig.searchType,expression:"searchConfig.searchType !== 'single'"}],staticClass:"setting-item"},[r("el-select",{staticClass:"setting-select",attrs:{size:"mini",filterable:"",placeholder:"请选择搜索书源分组"},model:{value:e.searchConfig.bookSourceGroup,callback:function(t){e.$set(e.searchConfig,"bookSourceGroup",t)},expression:"searchConfig.bookSourceGroup"}},e._l(e.bookSourceGroupList,(function(e,t){return r("el-option",{key:"source-group-"+t,attrs:{label:e.name+" ("+e.count+")",value:e.value}})})),1)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:"single"!==e.searchConfig.searchType,expression:"searchConfig.searchType !== 'single'"}],staticClass:"setting-item"},[r("el-select",{staticClass:"setting-select",attrs:{size:"mini",filterable:"",placeholder:"请选择并发线程"},model:{value:e.searchConfig.concurrentCount,callback:function(t){e.$set(e.searchConfig,"concurrentCount",t)},expression:"searchConfig.concurrentCount"}},e._l(e.concurrentList,(function(e,t){return r("el-option",{key:"source-"+t,attrs:{label:e+"并发线程",value:e}})})),1)],1)]),r("div",{staticClass:"recent-wrapper"},[r("div",{staticClass:"recent-title"},[e._v(" 最近阅读 ")]),r("div",{staticClass:"reading-recent"},[r("el-tag",{staticClass:"recent-book",class:{"no-point":""==e.readingRecent.bookUrl},attrs:{type:"warning",effect:e.isNight?"dark":"light"},on:{click:function(t){return e.toDetail(e.readingRecent)}}},[e._v(" "+e._s(e.readingRecent.name)+" ")])],1)]),r("div",{staticClass:"setting-wrapper"},[r("div",{staticClass:"setting-title"},[e._v(" 后端设定 "),e.isTauri?r("span",{staticClass:"right-text",on:{click:function(t){return e.$router.push({path:"/setting"})}}},[e._v("设置")]):e._e()]),r("div",{staticClass:"setting-item"},[r("el-tag",{staticClass:"setting-connect",class:{"no-point":e.connecting},attrs:{type:e.connectType,effect:e.isNight?"dark":"light"},on:{click:e.setIP}},[e._v(" "+e._s(e.connectStatus)+" ")])],1)]),r("div",{staticClass:"setting-wrapper"},[r("div",{staticClass:"setting-title"},[e._v(" 书源设置 ")]),r("div",{staticClass:"setting-item"},[r("el-tag",{staticClass:"setting-btn",attrs:{type:"info",effect:e.isNight?"dark":"light"},on:{click:function(t){e.showBookSourceManageDialog=!0}}},[e._v(" 书源管理 ")]),r("el-popover",{attrs:{placement:"right",width:e.popupWidth,trigger:"click","visible-arrow":!1,"popper-class":"popper-component"},model:{value:e.popExploreVisible,callback:function(t){e.popExploreVisible=t},expression:"popExploreVisible"}},[r("Explore",{ref:"popExplore",staticClass:"popup",attrs:{visible:e.popExploreVisible,bookSourceList:e.bookSourceList},on:{showSearchList:e.showSearchList,close:function(t){e.popExploreVisible=!1}}}),r("el-tag",{ref:"exploreBtn",staticClass:"setting-btn",attrs:{slot:"reference",type:"info",effect:e.isNight?"dark":"light"},on:{click:function(t){e.showNavigation=!1}},slot:"reference"},[e._v(" 探索书源 ")])],1),r("el-tag",{staticClass:"setting-btn",attrs:{type:"info",effect:e.isNight?"dark":"light"},on:{click:e.uploadBookSource}},[e._v(" 导入书源 ")]),r("el-tag",{staticClass:"setting-btn",attrs:{type:"info",effect:e.isNight?"dark":"light"},on:{click:e.loadRemoteBookSource}},[e._v(" 远程书源 ")]),r("el-tag",{staticClass:"setting-btn",attrs:{type:"info",effect:e.isNight?"dark":"light"},on:{click:function(t){return e.showFailureBookSource()}}},[e._v(" 失效书源 ")]),r("el-tag",{staticClass:"setting-btn",attrs:{type:"info",effect:e.isNight?"dark":"light"},on:{click:function(t){return e.debugBookSource()}}},[e._v(" 调试书源 ")]),r("input",{ref:"fileRef",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:e.onSourceFileChange}})],1)]),r("div",{staticClass:"setting-wrapper"},[r("div",{staticClass:"setting-title"},[e._v(" 书架设置 ")]),r("div",{staticClass:"setting-item"},[r("el-tag",{staticClass:"setting-btn",attrs:{type:"info",effect:e.$store.getters.isNight?"dark":"light"},on:{click:e.showBookManage}},[e._v(" 书籍管理 ")]),r("el-tag",{staticClass:"setting-btn",attrs:{type:"info",effect:e.$store.getters.isNight?"dark":"light"},on:{click:e.showManageBookGroup}},[e._v(" 分组管理 ")]),r("el-tag",{staticClass:"setting-btn",attrs:{type:"info",effect:e.$store.getters.isNight?"dark":"light"},on:{click:e.importLocalBook}},[e._v(" 导入书籍 ")]),r("input",{ref:"bookRef",staticStyle:{display:"none"},attrs:{type:"file",multiple:"multiple"},on:{change:e.onBookFileChange}}),!e.$store.state.isSecureMode||e.$store.state.userInfo.enableLocalStore?r("el-tag",{staticClass:"setting-btn",attrs:{type:"info",effect:e.$store.getters.isNight?"dark":"light"},on:{click:function(t){return e.showFileManagerDialog("__LOCAL_STORE__","书仓文件管理")}}},[e._v(" 浏览书仓 ")]):e._e(),r("el-tag",{staticClass:"setting-btn",attrs:{type:"info",effect:e.isNight?"dark":"light"},on:{click:function(t){return e.init(!0)}}},[e._v(" 刷新缓存 ")])],1)]),r("div",{staticClass:"setting-wrapper"},[r("div",{staticClass:"setting-title"},[e._v(" 用户空间 "),e.$store.state.isSecureMode&&e.$store.state.userInfo.username?r("span",{staticClass:"right-text",on:{click:function(t){return e.logout()}}},[e._v("注销")]):r("span",{staticClass:"right-text",on:{click:function(t){return e.$store.commit("setShowLogin",!0)}}},[e._v("登录")])]),e.$store.state.showManagerMode?r("div",{staticClass:"setting-item"},[r("el-select",{staticClass:"setting-select",attrs:{size:"mini",filterable:"",placeholder:"请选择用户空间"},model:{value:e.userNS,callback:function(t){e.userNS=t},expression:"userNS"}},e._l(e.userList,(function(e,t){return r("el-option",{key:"source-"+t,attrs:{label:e.username,value:e.userNS}})})),1)],1):e._e(),r("div",{staticClass:"setting-item"},[e.localStorageAvaliable?r("el-tag",{staticClass:"setting-btn",attrs:{type:"info",effect:e.isNight?"dark":"light"},on:{click:e.saveUserConfig}},[e._v(" 备份用户配置 ")]):e._e(),e.localStorageAvaliable?r("el-tag",{staticClass:"setting-btn",attrs:{type:"info",effect:e.isNight?"dark":"light"},on:{click:e.restoreUserConfig}},[e._v(" 同步用户配置 ")]):e._e(),r("el-tag",{staticClass:"setting-btn",attrs:{type:"info",effect:e.isNight?"dark":"light"},on:{click:function(t){return e.showFileManagerDialog("__HOME__","用户数据管理")}}},[e._v(" 用户数据管理 ")]),e.$store.state.showManagerMode?r("el-tag",{staticClass:"setting-btn",attrs:{type:"info",effect:e.isNight?"dark":"light"},on:{click:e.loadUserList}},[e._v(" 加载用户空间 ")]):e._e(),e.$store.state.isManagerMode?r("el-tag",{staticClass:"setting-btn",attrs:{type:"info",effect:e.isNight?"dark":"light"},on:{click:function(t){return e.showUserManageDialog()}}},[e._v(" 管理用户空间 ")]):e._e(),e.$store.state.isManagerMode?r("el-tag",{staticClass:"setting-btn",attrs:{type:"info",effect:e.isNight?"dark":"light"},on:{click:function(t){return e.showFileManagerDialog("__STORAGE__","数据目录管理")}}},[e._v(" 数据目录管理 ")]):e._e(),e.$store.state.isManagerMode?r("el-tag",{staticClass:"setting-btn",attrs:{type:"info",effect:e.isNight?"dark":"light"},on:{click:e.exitSecureMode}},[e._v(" 退出管理模式 ")]):e._e()],1)]),!e.$store.state.isSecureMode||e.$store.state.userInfo.enableWebdav?r("div",{staticClass:"setting-wrapper"},[r("div",{staticClass:"setting-title"},[e._v(" WebDAV ")]),r("div",{staticClass:"setting-item"},[r("el-tag",{staticClass:"setting-btn",attrs:{type:"info",effect:e.isNight?"dark":"light"},on:{click:function(t){return e.showFileManagerDialog("__WEBDAV__","WebDAV文件管理")}}},[e._v(" 文件管理 ")]),r("el-tag",{staticClass:"setting-btn",attrs:{type:"info",effect:e.isNight?"dark":"light"},on:{click:e.backupToWebdav}},[e._v(" 保存备份 ")])],1)]):e._e(),r("div",{staticClass:"setting-wrapper"},[r("div",{staticClass:"setting-title"},[e._v(" 其它 ")]),r("div",{staticClass:"setting-item"},[r("el-tag",{staticClass:"setting-btn",attrs:{type:"info",effect:e.isNight?"dark":"light"},on:{click:e.showMPCode}},[e._v(" 关注公众号【假装大佬】 ")]),r("el-tag",{staticClass:"setting-btn",attrs:{type:"info",effect:e.isNight?"dark":"light"},on:{click:e.joinTGChannel}},[e._v(" 加入TG频道【假装大佬】 ")])],1)]),r("div",{staticClass:"setting-wrapper"},[r("div",{staticClass:"setting-title"},[e._v(" 本地缓存 "),r("span",{staticClass:"right-text"},[e._v(e._s(e.localCacheStats.total))])]),r("div",{staticClass:"setting-item"},[r("el-tag",{staticClass:"setting-btn",attrs:{type:"info",effect:e.$store.getters.isNight?"dark":"light"},on:{click:function(t){return e.clearCache("bookSourceList")}}},[e._v(" 清空书源缓存 "),r("span",[e._v(e._s(e.localCacheStats.bookSourceList))])]),r("el-tag",{staticClass:"setting-btn",attrs:{type:"info",effect:e.$store.getters.isNight?"dark":"light"},on:{click:function(t){return e.clearCache("rssSources")}}},[e._v(" 清空RSS源缓存 "),r("span",[e._v(e._s(e.localCacheStats.rssSources))])]),r("el-tag",{staticClass:"setting-btn",attrs:{type:"info",effect:e.$store.getters.isNight?"dark":"light"},on:{click:function(t){return e.clearCache("chapterList")}}},[e._v(" 清空章节列表缓存 "),r("span",[e._v(e._s(e.localCacheStats.chapterList))])]),r("el-tag",{staticClass:"setting-btn",attrs:{type:"info",effect:e.$store.getters.isNight?"dark":"light"},on:{click:function(t){return e.clearCache("chapterContent")}}},[e._v(" 清空章节内容缓存 "),r("span",[e._v(e._s(e.localCacheStats.chapterContent))])])],1)])]),r("div",{staticClass:"bottom-icons"},[r("a",{attrs:{href:"https://github.com/hectorqin/reader",target:"_blank"}},[r("div",{staticClass:"bottom-icon"},[e.isNight?r("img",{attrs:{src:o("fa39"),alt:""}}):r("img",{attrs:{src:o("0d98"),alt:""}})])]),r("span",{ref:"themes",staticClass:"theme-item",style:e.themeColor,on:{click:e.toogleNight}},[e.isNight?r("i",{staticClass:"el-icon-sunny"}):r("i",{staticClass:"el-icon-moon"})])])]):e._e(),r("div",{ref:"shelfWrapper",staticClass:"shelf-wrapper",class:e.isWebApp&&!e.isNight?"status-bar-light-bg":"",on:{click:e.hideMenu}},[r("div",{staticClass:"shelf-title"},[e.$store.getters.isNormalPage&&e.collapseMenu?r("i",{staticClass:"el-icon-menu",on:{click:function(t){return t.stopPropagation(),e.toggleMenu.apply(null,arguments)}}}):e._e(),e._v(" "+e._s(e.isSearchResult?e.isExploreResult?"探索":"搜索":"书架")+" ("+e._s(e.bookList.length)+") "),e.$store.getters.isNormalPage&&e.isSearchResult?r("div",{staticClass:"title-btn",on:{click:e.backToShelf}},[e._v(" 书架 ")]):e._e(),e.$store.getters.isNormalPage&&e.isSearchResult?r("div",{staticClass:"title-btn",on:{click:e.loadMore}},[e.loadingMore?r("i",{staticClass:"el-icon-loading"}):e._e(),e._v(" "+e._s(e.loadingMore?"加载中...":"加载更多")+" ")]):e._e(),e.$store.getters.isNormalPage&&!e.isSearchResult?r("div",{staticClass:"title-btn",on:{click:function(t){e.showBookEditButton=!e.showBookEditButton}}},[e._v(" "+e._s(e.showBookEditButton?"取消":"编辑")+" ")]):e._e(),e.isSearchResult?e._e():r("div",{staticClass:"title-btn",on:{click:e.refreshShelf}},[e.refreshLoading?r("i",{staticClass:"el-icon-loading"}):e._e(),e._v(" "+e._s(e.refreshLoading?"刷新中...":"刷新")+" ")]),e.$store.getters.isNormalPage&&!e.isSearchResult?r("div",{staticClass:"title-btn",on:{click:e.showRssDialog}},[e._v(" RSS ")]):e._e(),!e.$store.getters.isNormalPage||e.isSearchResult&&!e.isExploreResult?e._e():r("div",{staticClass:"title-btn",on:{click:e.showExplorePop}},[e._v(" 书海 ")])]),e.isSearchResult?e._e():r("div",{staticClass:"book-group-wrapper"},[r("el-tabs",{staticClass:"book-group-tabs",attrs:{stretch:""},model:{value:e.showBookGroupString,callback:function(t){e.showBookGroupString=t},expression:"showBookGroupString"}},e._l(e.bookGroupDisplayList,(function(e){return r("el-tab-pane",{key:"bookGroup-"+e.groupId,attrs:{label:e.groupName,name:""+e.groupId}})})),1)],1),r("div",{ref:"bookList",staticClass:"books-wrapper",on:{touchstart:e.handleTouchStart,touchmove:e.handleTouchMove,touchend:e.handleTouchEnd,scroll:e.scrollHandler}},[r("div",{staticClass:"wrapper"},e._l(e.bookList,(function(t){return r("div",{key:t.bookUrl,staticClass:"book",style:e.showNavigation?{minWidth:"360px !important"}:{},on:{click:function(o){return e.toDetail(t)}}},[r("div",{staticClass:"cover-img",on:{click:function(o){return o.stopPropagation(),e.showBookInfoDialog(t)}}},[r("el-image",{ref:"bookCoverList",refInFor:!0,staticClass:"cover",attrs:{src:e.getCover(e.getBookCoverUrl(t),!0),fit:"cover",lazy:""}})],1),r("div",{staticClass:"info",on:{click:function(o){return e.toDetail(t)}}},[r("div",{staticClass:"book-operation"},[!e.isSearchResult&&e.showBookEditButton?r("i",{staticClass:"el-icon-close",on:{click:function(o){return o.stopPropagation(),e.deleteBook(t)}}}):e._e(),!e.isSearchResult&&e.showBookEditButton?r("i",{staticClass:"el-icon-edit",on:{click:function(o){return o.stopPropagation(),e.editBook(t)}}}):e._e(),e.isSearchResult?r("i",{staticClass:"el-icon-edit",on:{click:function(o){return o.stopPropagation(),e.editBook(t,!0)}}}):e._e(),!e.isSearchResult&&!e.showBookEditButton&&t.totalChapterNum-1-t.durChapterIndex>0?r("el-badge",{staticClass:"unread-num-badge",attrs:{max:99,value:t.totalChapterNum-1-t.durChapterIndex}}):e._e()],1),r("div",{staticClass:"name",class:e.showBookEditButton?"edit":"",attrs:{slot:"reference"},slot:"reference"},[e._v(" "+e._s(t.name)+" ")]),r("div",{staticClass:"sub"},[r("div",{staticClass:"author"},[e._v(" "+e._s(t.author||"")+" ")]),t.totalChapterNum?r("div",{staticClass:"dot"},[e._v("•")]):e._e(),t.totalChapterNum?r("div",{staticClass:"size"},[e._v(" 共"+e._s(t.totalChapterNum)+"章 ")]):e._e()]),!e.isSearchResult&&t.durChapterTitle?r("div",{staticClass:"dur-chapter"},[e._v(" 已读："+e._s(t.durChapterTitle)+" ")]):e._e(),t.latestChapterTitle?r("div",{staticClass:"last-chapter"},[e._v(" "+e._s(t.lastCheckTime?e.dateFormat(t.lastCheckTime):"最新")+"："+e._s(t.latestChapterTitle)+" ")]):e._e(),e.isSearchResult?r("div",[r("el-tag",{staticClass:"setting-connect",attrs:{type:"success",effect:e.isNight?"dark":"light"},on:{click:function(o){return o.stopPropagation(),e.addBookToShelf(t)}}},[e._v(" 加入书架 ")])],1):e._e()])])})),0)])]),e.$store.getters.isNormalPage?r("el-dialog",{class:e.isWebApp&&!e.isNight?"status-bar-light-bg":"",attrs:{title:e.isImportRssSource?"导入RSS源":"导入书源",visible:e.showImportSourceDialog,width:e.dialogWidth,top:this.collapseMenu?"0":"15vh",fullscreen:e.collapseMenu},on:{"update:visible":function(t){e.showImportSourceDialog=t}}},[r("div",{staticClass:"source-container source-list-container"},[r("el-checkbox-group",{on:{change:e.handleCheckedSourcesChange},model:{value:e.checkedSourceIndex,callback:function(t){e.checkedSourceIndex=t},expression:"checkedSourceIndex"}},e._l(e.importSourceList,(function(t,o){return r("el-checkbox",{key:o,staticClass:"source-checkbox",attrs:{label:o}},[e._v(e._s(e.isImportRssSource?t.sourceName:t.bookSourceName)+" "+e._s(e.isImportRssSource?t.sourceUrl:t.bookSourceUrl)+" "+e._s(e.getSourceTag(t)))])})),1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-checkbox",{staticClass:"float-left",attrs:{indeterminate:e.isIndeterminate,border:"",size:"medium"},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),r("span",{staticClass:"check-tip"},[e._v("已选择 "+e._s(e.checkedSourceIndex.length)+" 个")]),r("el-button",{attrs:{size:"medium"},on:{click:function(t){e.showImportSourceDialog=!1,e.checkedSourceIndex=[]}}},[e._v("取消")]),r("el-button",{attrs:{size:"medium",type:"primary"},on:{click:e.saveSourceList}},[e._v("确定")])],1)]):e._e(),e.$store.getters.isNormalPage?r("el-dialog",{class:e.isWebApp&&!e.isNight?"status-bar-light-bg-dialog":"",attrs:{visible:e.showBookSourceManageDialog,width:e.dialogWidth,top:e.dialogTop,fullscreen:e.collapseMenu},on:{"update:visible":function(t){e.showBookSourceManageDialog=t},closed:function(t){e.isShowFailureBookSource=!1,e.showSourceGroup=""}}},[r("div",{staticClass:"custom-dialog-title",attrs:{slot:"title"},slot:"title"},[r("span",{staticClass:"el-dialog__title"},[e._v(e._s(e.isShowFailureBookSource?"失效书源管理":"书源管理")+" "),e.isShowFailureBookSource?e._e():r("span",{staticClass:"float-right span-btn",on:{click:function(t){return e.deleteAllBookSource()}}},[e._v("清空")]),e.isShowFailureBookSource?e._e():r("span",{staticClass:"float-right span-btn",on:{click:function(t){return e.deleteBookSourceFile()}}},[e._v("恢复默认")]),e.isShowFailureBookSource?e._e():r("span",{staticClass:"float-right span-btn",on:{click:function(t){return e.exportBookSource()}}},[e._v("导出")]),e.isShowFailureBookSource?e._e():r("span",{staticClass:"float-right span-btn",on:{click:function(t){return e.editBookSource(!1)}}},[e._v("新增")])])]),r("div",{staticClass:"source-container table-container"},[e.isShowFailureBookSource?r("div",{staticClass:"check-form"},[r("span",{staticClass:"check-form-label"},[e._v("搜索词：")]),r("el-input",{attrs:{size:"small"},model:{value:e.checkBookSourceConfig.keyword,callback:function(t){e.$set(e.checkBookSourceConfig,"keyword",t)},expression:"checkBookSourceConfig.keyword"}}),r("span",{staticClass:"check-form-label",staticStyle:{"min-width":"68px"}},[e._v(" 超时(ms)： ")]),r("el-input-number",{attrs:{min:1e3,max:15e3,step:500,size:"small"},model:{value:e.checkBookSourceConfig.timeout,callback:function(t){e.$set(e.checkBookSourceConfig,"timeout",t)},expression:"checkBookSourceConfig.timeout"}}),r("span",{staticClass:"check-form-label"},[e._v("并发数：")]),r("el-input-number",{attrs:{min:3,max:15,step:1,size:"small"},model:{value:e.checkBookSourceConfig.concurrent,callback:function(t){e.$set(e.checkBookSourceConfig,"concurrent",t)},expression:"checkBookSourceConfig.concurrent"}})],1):e._e(),r("div",{staticClass:"source-group-wrapper"},e._l(e.bookSourceShowGroup,(function(t){return r("el-tag",{key:"sourceGroup-"+t,staticClass:"source-group-btn",class:e.showSourceGroup===t?"selected":"",attrs:{type:"info",effect:e.$store.getters.isNight?"dark":"light"},on:{click:function(o){return e.setShowSourceGroup(t)}}},[e._v(" "+e._s(t)+" ")])})),1),r("el-table",{key:e.isShowFailureBookSource,attrs:{data:e.bookSourceShowResultPageList,height:e.dialogContentHeight-42-42-(e.isShowFailureBookSource?32:0)},on:{"selection-change":function(t){e.manageSourceSelection=t}}},[r("el-table-column",{attrs:{type:"selection",width:"25",fixed:e.$store.state.miniInterface,selectable:e.isBookSourceSelectable}}),r("el-table-column",{attrs:{property:"bookSourceName",label:"书源名称","min-width":"120",fixed:e.$store.state.miniInterface}}),r("el-table-column",{attrs:{property:"bookSourceUrl",label:"书源链接","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-link",{attrs:{type:"primary",href:t.row.bookSourceUrl,target:"_blank"}},[e._v(e._s(t.row.bookSourceUrl))])]}}],null,!1,2464495659)}),e.isShowFailureBookSource?r("el-table-column",{attrs:{property:"errorMsg",label:"错误信息","min-width":"120"}}):e._e(),r("el-table-column",{attrs:{label:"书架书籍","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("pre",[e._v(e._s(e.showSourceBook(t.row)))])]}}],null,!1,1425242229)}),e.isShowFailureBookSource?e._e():r("el-table-column",{attrs:{label:"操作",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text"},on:{click:function(o){return e.editBookSource(t.row)}}},[e._v("编辑")])]}}],null,!1,3550729950)})],1),r("div",{staticClass:"source-pagination"},[r("el-pagination",{attrs:{"current-page":e.bookSourcePagination.page,"page-sizes":[25,50,100,200,300,400],"page-size":e.bookSourcePagination.size,layout:"total, sizes, prev, pager, next",total:e.bookSourceShowLength,"pager-count":e.collapseMenu?5:7},on:{"update:currentPage":function(t){return e.$set(e.bookSourcePagination,"page",t)},"update:current-page":function(t){return e.$set(e.bookSourcePagination,"page",t)},"update:pageSize":function(t){return e.$set(e.bookSourcePagination,"size",t)},"update:page-size":function(t){return e.$set(e.bookSourcePagination,"size",t)}}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticClass:"float-left",attrs:{type:"primary",size:"medium"},on:{click:e.deleteBookSourceList}},[e._v("批量删除")]),r("span",{staticClass:"check-tip"},[e._v("已选择 "+e._s(e.manageSourceSelection.length)+" 个")]),e.isShowFailureBookSource?r("el-button",{staticStyle:{"margin-bottom":"5px"},attrs:{size:"medium",disabled:e.isCheckingBookSource},on:{click:e.checkBookSource}},[e._v(e._s(e.isCheckingBookSource?"正在":"")+"检测书源 "+e._s(e.checkBookSourceTip))]):e._e(),r("el-button",{attrs:{size:"medium"},on:{click:function(t){e.showBookSourceManageDialog=!1}}},[e._v("取消")])],1)]):e._e(),e.$store.getters.isNormalPage?r("el-dialog",{class:e.isWebApp&&!e.isNight?"status-bar-light-bg-dialog":"",attrs:{title:"导入本地书籍"+e.importMultiBookTip,visible:e.showImportBookDialog,width:e.dialogSmallWidth,top:e.dialogTop,fullscreen:e.collapseMenu},on:{"update:visible":function(t){e.showImportBookDialog=t},closed:e.importBookDialogClosed}},[r("div",{staticClass:"source-container table-container"},[r("div",{staticClass:"check-form"},[r("div",{staticClass:"book-cover"},[r("el-image",{key:e.getBookCoverUrl(e.importBookInfo),staticClass:"cover",attrs:{src:e.getCover(e.getBookCoverUrl(e.importBookInfo),!0),fit:"cover",lazy:""}})],1),r("div",{staticClass:"book-info"},[r("div",[r("span",[e._v("书名：")]),r("el-input",{attrs:{size:"small"},model:{value:e.importBookInfo.name,callback:function(t){e.$set(e.importBookInfo,"name",t)},expression:"importBookInfo.name"}})],1),r("div",[r("span",[e._v("作者：")]),r("el-input",{attrs:{size:"small"},model:{value:e.importBookInfo.author,callback:function(t){e.$set(e.importBookInfo,"author",t)},expression:"importBookInfo.author"}})],1),r("div",[r("span",[e._v("分组：")]),r("el-select",{attrs:{size:"mini",filterable:"",multiple:"",placeholder:"未分组"},model:{value:e.importBookGroup,callback:function(t){e.importBookGroup=t},expression:"importBookGroup"}},e._l(e.bookGroupSetList,(function(e,t){return r("el-option",{key:"bookGroup-"+t,attrs:{label:e.groupName,value:e.groupId}})})),1)],1),e.isShowTocRule?r("div",[r("span",[e._v("规则：")]),r("el-select",{attrs:{size:"mini",filterable:"",placeholder:"内置规则"},model:{value:e.importUsedTxtRule,callback:function(t){e.importUsedTxtRule=t},expression:"importUsedTxtRule"}},e._l(e.tocRuleList,(function(e,t){return r("el-option",{key:"txtTocRule-"+t,attrs:{label:e.name,value:e.rule}})})),1),r("el-button",{staticClass:"toc-refresh-btn",attrs:{type:"text"},on:{click:function(t){return e.getChapterListByRule()}}},[e._v("刷新目录")])],1):e._e(),e.isShowTocRule?r("div",[r("el-input",{attrs:{type:"textarea",rows:2,size:"small"},model:{value:e.importBookInfo.tocUrl,callback:function(t){e.$set(e.importBookInfo,"tocUrl",t)},expression:"importBookInfo.tocUrl"}})],1):e._e()])]),r("div",{staticClass:"chapter-title"},[e._v(" 章节列表("+e._s(e.importBookChapters.length)+") ")]),r("div",{staticClass:"chapter-list",style:{maxHeight:e.dialogContentHeight-40-35+"px"}},e._l(e.importBookChapters,(function(t,o){return r("p",{key:o},[e._v(" "+e._s(o+1)+". "+e._s(t.title)+" ")])})),0)]),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.saveBook(e.importBookInfo,!0)}}},[e._v("确定导入")]),r("el-button",{attrs:{size:"medium"},on:{click:function(t){e.showImportBookDialog=!1}}},[e._v("取消")])],1)]):e._e()],1)},s=[],i=o("c7eb"),n=o("5530"),a=o("1da1"),c=(o("4795"),o("4160"),o("d3b7"),o("159b"),o("ac1f"),o("5319"),o("2ca0"),o("841c"),o("99af"),o("d401"),o("0d03"),o("25f0"),o("b0c0"),o("e9c4"),o("e25e"),o("277d"),o("d81d"),o("4de4"),o("c975"),o("a15b"),o("13d5"),o("e260"),o("3ca3"),o("ddb0"),o("2b3d"),o("9861"),o("6062"),o("a630"),o("fb6a"),o("4e82"),o("8a79"),o("2f62")),u=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"popup-wrapper",style:e.popupTheme},[o("div",{staticClass:"title-zone"},[o("div",{staticClass:"title"},[e._v("书海")]),o("div",{class:{"title-btn":!0}},[o("span",{staticClass:"source-count"},[e._v(" 共"+e._s(e.bookSourceShowLength)+"个可用书源 ")]),e.$store.state.miniInterface?o("i",{staticClass:"el-icon-close close-btn",on:{click:function(t){return t.stopPropagation(),e.close.apply(null,arguments)}}}):e._e()])]),o("div",{staticClass:"source-group-wrapper"},e._l(e.bookSourceGroup,(function(t){return o("el-tag",{key:"sourceGroup-"+t,staticClass:"source-group-btn",class:e.sourceGroup===t?"selected":"",attrs:{type:"info",effect:e.$store.getters.isNight?"dark":"light"},on:{click:function(o){return e.setSourceGroup(t)}}},[e._v(" "+e._s(t)+" ")])})),1),o("div",{ref:"sourceList",staticClass:"data-wrapper",class:{night:e.$store.getters.isNight,day:!e.$store.getters.isNight},on:{scroll:e.scrollHandler}},[o("div",{staticClass:"cata"},[o("el-collapse",{ref:"sourceList",staticClass:"source-collapse",model:{value:e.showCollapse,callback:function(t){e.showCollapse=t},expression:"showCollapse"}},e._l(e.bookSourceListNew,(function(t,r){return o("el-collapse-item",{directives:[{name:"show",rawName:"v-show",value:!e.sourceGroup||"未分组"===e.sourceGroup&&""===t.bookSourceGroup||t.bookSourceGroup===e.sourceGroup,expression:"\n            !sourceGroup ||\n              (sourceGroup === '未分组' && source.bookSourceGroup === '') ||\n              source.bookSourceGroup === sourceGroup\n          "}],key:"source-"+r,ref:"source",refInFor:!0,attrs:{title:t.bookSourceName,name:r}},[e.showCollapse.includes(r)?e._l(t.exploreGroup,(function(r,s){return o("div",{key:"group-"+s,staticClass:"explore-group"},e._l(r,(function(r,s){return o("el-tag",{key:"group-"+s,staticClass:"explore-btn",attrs:{type:"info",effect:e.$store.getters.isNight?"dark":"light"},on:{click:function(o){return e.exploreBookSource(r.url,t.bookSourceUrl,1)}}},[e._v(" "+e._s(r.name)+" ")])})),1)})):e._e()],2)})),1)],1)])])},l=[],h=(o("1276"),o("45fc"),o("8efd")),f=o("be3b"),p={name:"Explore",data:function(){return{page:1,ruleFindUrl:"",bookSourceUrl:"",exploreList:[],showCollapse:[],sourceGroup:""}},props:["visible","bookSourceList"],computed:{theme:function(){return this.$store.getters.config.theme},popupTheme:function(){return{background:this.$store.getters.currentThemeConfig.popup}},bookSourceListNew:function(){var e=this,t=[];return this.bookSourceList.forEach((function(o){var r=e.getExploreGroup(o);r.length&&t.push({bookSourceName:o.bookSourceName,bookSourceGroup:o.bookSourceGroup,exploreGroup:r,bookSourceUrl:o.bookSourceUrl})})),t},bookSourceGroup:function(){var e=new Set;return this.bookSourceListNew.forEach((function(t){t.bookSourceGroup&&e.add(t.bookSourceGroup)})),e.add("未分组"),Array.from(e)},bookSourceShowLength:function(){var e=this;return this.sourceGroup?this.bookSourceListNew.filter((function(t){return"未分组"===e.sourceGroup?!t.bookSourceGroup:t.bookSourceGroup===e.sourceGroup})).length:this.bookSourceListNew.length}},mounted:function(){window.explorePop=this},watch:{visible:function(e){var t=this;e&&this.$nextTick((function(){t.lastScrollTop&&(t.$refs.sourceList.scrollTop=t.lastScrollTop)}))}},methods:{getExploreGroup:function(e){if(!e.exploreUrl)return[];var t=[],o=[],r=[];try{r=JSON.parse(e.exploreUrl)}catch(i){try{r=new Function("return "+e.exploreUrl)()}catch(i){}}if(Array.isArray(r)&&r.length){var s=0;r.forEach((function(e){var r=e.style&&e.style.layout_flexBasisPercent||.25;o.push({name:e.title,url:e.url}),s+=r,s>=1&&(t.push(o),o=[],s=0)}))}else e.exploreUrl.replace(/\r\n/g,"\n").split("\n").forEach((function(e){e?(e=e.split("::"),o.push({name:e[0],url:e[1]})):o.length&&(t.push(o),o=[])}));return o.length&&t.push(o),t},exploreBookSource:function(e,t,o){var r=this;this.page=o||1,this.ruleFindUrl=e,this.bookSourceUrl=t,f["a"].post(this.api+"/exploreBook",{ruleFindUrl:e,bookSourceUrl:t,page:o}).then((function(e){if(e.data.isSuccess){if(1===o)r.exploreList=e.data.data;else{var t=[].concat(r.exploreList),s=t.reduce((function(e,t){return e[t.bookUrl]=t,e}),{}),i=t.length;e.data.data.forEach((function(e){s[e.bookUrl]||t.push(e)})),r.exploreList=t,t.length===i&&r.$message.error("没有更多啦")}r.$emit("showSearchList",r.exploreList)}}),(function(e){throw r.$message.error("探索失败 "+(e&&e.toString())),e}))},loadMore:function(){this.page=this.page+1,this.exploreBookSource(this.ruleFindUrl,this.bookSourceUrl,this.page)},jumpToActive:function(){var e=this;this.$nextTick((function(){var t=-1;if(e.bookSourceListNew.some((function(o,r){if(o.bookSourceUrl==e.bookSourceUrl)return t=r,!0})),!(t<0)){var o=e.$refs.sourceList;Object(h["a"])(e.$refs.source[t],{container:o,duration:0})}}))},close:function(){this.$emit("close")},scrollHandler:function(){this.lastScrollTop=this.$refs.sourceList.scrollTop},setSourceGroup:function(e){this.sourceGroup===e?this.sourceGroup="":this.sourceGroup=e}}},g=p,d=(o("6f42"),o("2877")),k=Object(d["a"])(g,u,l,!1,null,"31572fc0",null),m=k.exports,v=o("bfff"),S=o("63f0"),b=o("8552"),w=o("7513"),C=o("526f"),B=o("2b0e"),x=o("30b5"),y={components:{Explore:m},data:function(){return{search:"",searchTypeList:[{name:"单源搜索",value:"single"},{name:"多源搜索(过滤书名/作者名)",value:"multi"}],isSearchResult:!1,isExploreResult:!1,searchResult:[],searchPage:1,refreshLoading:!1,searchLastIndex:-1,showBookEditButton:!1,popExploreVisible:!1,loadingMore:!1,importSourceList:[],showImportSourceDialog:!1,isImportRssSource:!1,checkAll:!1,isIndeterminate:!1,checkedSourceIndex:[],showBookSourceManageDialog:!1,manageSourceSelection:[],isShowFailureBookSource:!1,checkBookSourceTip:"",isCheckingBookSource:!1,showNavigation:!1,navigationClass:"",navigationStyle:{},popIntroVisible:{},connecting:!1,lastScrollTop:0,localStorageAvaliable:window.localStorage&&window.localStorage.getItem&&window.localStorage.setItem,showSourceGroup:"",bookSourcePagination:{page:1,size:25},checkBookSourceConfig:{keyword:"斗罗大陆",timeout:5e3,concurrent:5},importBookInfo:{},importBookGroup:[],importBookChapters:[],showImportBookDialog:!1,importMultiBookTip:"",rssSource:{},concurrentList:[12,18,24,30,36,42,48,54,60],localCacheStats:{total:"0 Bytes",bookSourceList:"0 Bytes",rssSources:"0 Bytes",chapterList:"0 Bytes",chapterContent:"0 Bytes"},showLocalStoreManageDialog:!1,showWebDAVManageDialog:!1,importUsedTxtRule:"",showAddUser:!1,addUserForm:{username:"",password:""},isTauri:window.__TAURI__}},watch:{searchConfig:{handler:function(e){this.$store.commit("setSearchConfig",e),this.isSearchResult&&this.searchBook(1)},deep:!0},searchResult:function(e){var t=this;this.isSearchResult&&e.length&&this.$nextTick((function(){t.$refs.bookList.scrollTop=t.lastScrollTop}))},collapseMenu:function(e){e?this.showNavigation||(this.navigationClass="navigation-hidden"):this.navigationClass=""},showNavigation:function(e){var t=this;e?this.navigationClass="navigation-in":(this.navigationClass="navigation-out",setTimeout((function(){t.navigationClass="navigation-hidden"}),300))},loginAuth:function(){this.init(!0)},userNS:function(){this.init(!0)},importUsedTxtRule:function(e){e&&(this.importBookInfo.tocUrl=e)},importBookGroup:function(e){if(e&&this.showImportBookDialog){var t=0;e.forEach((function(e){t|=e})),this.importBookInfo.group=t}},showBookGroup:function(){var e=this;this.$nextTick((function(){setTimeout(e.ensureLoadBookCover)}))}},mounted:function(){var e=this;document.title="阅读",this.navigationClass=this.collapseMenu&&!this.showNavigation?"navigation-hidden":"",window.shelfPage=this,this.init(),b["a"].$on("onSourceFileChange",(function(t,o){e._inactive||e.onSourceFileChange(t,o)})),b["a"].$on("editBook",(function(t,o,r){e._inactive||e.editBook(t,o,r)})),b["a"].$on("importPreview",(function(t){e._inactive||e.importMultiBooks(t)}))},activated:function(){document.title="阅读",this.scanCacheStorage()},methods:{init:function(e){this.$root.$children[0].init(e)},setIP:function(){var e=this;this.$prompt("请输入接口地址 ( 如：localhost:8080/reader3 )","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputValue:this.api,beforeClose:function(t,o,r){if("confirm"===t){e.connecting=!0,o.confirmButtonLoading=!0,o.confirmButtonText="校验中……";var s=o.inputValue.replace(/\/*$/g,"");e.loadBookshelf(s).then((function(){e.connecting=!1,o.confirmButtonLoading=!1,r(),Object(S["b"])("api_prefix",s),e.$store.commit("setApi",s),e.init()}))["catch"]((function(){o.confirmButtonLoading=!1,o.confirmButtonText="确定"}))}else r()}}).then((function(t){var o=t.value;e.$message({type:"success",message:"与"+o+"连接成功"})}))["catch"]((function(){}))},loadBookshelf:function(e,t){var o=this;return e=e||this.api,e?(this.loading&&this.loading.visible||(this.loading=this.$loading({target:this.$refs.bookList,lock:!0,text:t?"正在刷新书籍信息":"正在获取书籍信息",spinner:"el-icon-loading",background:this.isNight?"#222":"#fff"})),e.startsWith("http://")||e.startsWith("https://")||e.startsWith("//")||(e="//"+e),this.$root.$children[0].loadBookShelf(t,e).then((function(){o.loading.close()}))):(this.$message.error("请先设置后端接口地址"),this.$store.commit("setConnected",!1),Promise.reject(!1))},refreshShelf:function(){return this.loadBookshelf(null,!0)},loadBookGroup:function(e){return this.$root.$children[0].loadBookGroup(e)},loadBookSource:function(e){return this.$root.$children[0].loadBookSource(e)},searchBook:function(e){var t=this;this.$store.state.connected?this.search?"single"!==this.searchConfig.searchType||this.searchConfig.bookSourceUrl?(e&&(this.searchPage=e),e=this.searchPage,1===e&&(this.searchLastIndex=-1),"multi"===this.searchConfig.searchType&&window.EventSource?this.searchBookByEventStream(e):this.loadingMore||(this.isSearchResult=!0,this.isExploreResult=!1,this.loadingMore=!0,1===e&&(this.searchResult=[]),f["a"].post(this.api+("single"===this.searchConfig.searchType?"/searchBook":"/searchBookMulti"),{key:this.search,bookSourceUrl:this.searchConfig.bookSourceUrl,bookSourceGroup:this.searchConfig.bookSourceGroup,concurrentCount:this.searchConfig.concurrentCount,lastIndex:this.searchLastIndex,page:e},{timeout:"single"===this.searchConfig.searchType?3e4:18e4}).then((function(e){if(t.loadingMore=!1,e.data.isSuccess){var o=[];"single"===t.searchConfig.searchType?o=e.data.data:(t.searchLastIndex=e.data.data.lastIndex,o=e.data.data.list);var r=[].concat(t.searchResult),s=r.length;o.forEach((function(e){t.searchResultMap[e.bookUrl]||r.push(e)})),t.searchResult=r,r.length===s&&t.$message.error("没有更多啦")}}),(function(e){t.$message.error("搜索书籍失败 "+(e&&e.toString()))})))):this.$message.error("请选择书源进行搜索"):this.$message.error("请输入关键词进行搜索"):this.$message.error("后端未连接")},searchBookByEventStream:function(e){var t=this,o=function(){try{t.searchEventSource&&t.searchEventSource.readyState!=t.searchEventSource.CLOSED&&t.searchEventSource.close(),t.searchEventSource=null}catch(e){}};if(!this.loadingMore||(o(),this.loadingMore=!1,1===e)){var r={accessToken:this.$store.state.token,key:this.search,bookSourceUrl:this.searchConfig.bookSourceUrl,bookSourceGroup:this.searchConfig.bookSourceGroup,concurrentCount:this.searchConfig.concurrentCount,lastIndex:this.searchLastIndex,page:e};this.isSearchResult=!0,this.isExploreResult=!1,this.loadingMore=!0,1===e&&(this.searchResult=[]);var s=x(this.api+"/searchBookMultiSSE",r);o(),this.searchEventSource=new EventSource(s,{withCredentials:!0}),this.searchEventSource.addEventListener("error",(function(e){t.loadingMore=!1,o();try{if(e.data){var r=JSON.parse(e.data);r&&r.errorMsg&&t.$message.error(r.errorMsg)}}catch(s){}}));var i=this.searchResult.length;this.searchEventSource.addEventListener("end",(function(e){t.loadingMore=!1,o();try{if(e.data){var r=JSON.parse(e.data);r&&r.lastIndex&&(t.searchLastIndex=r.lastIndex)}t.searchResult.length===i&&t.$message.error("没有更多啦")}catch(s){}})),this.searchEventSource.addEventListener("message",(function(e){try{if(e.data){var o=JSON.parse(e.data);if(o&&o.lastIndex&&(t.searchLastIndex=o.lastIndex),o.data){var r=[].concat(t.searchResult);o.data.forEach((function(e){t.searchResultMap[e.bookUrl]||r.push(e)})),t.searchResult=r}}}catch(s){}}))}},toDetail:function(e){var t,o;e.bookUrl&&(this.isSearchResult,this.$store.commit("setReadingBook",{name:e.name,bookUrl:e.bookUrl,index:null!==(t=null!==(o=e.index)&&void 0!==o?o:e.durChapterIndex)&&void 0!==t?t:0,type:e.type,coverUrl:this.getBookCoverUrl(e),tocUrl:e.tocUrl,author:e.author,origin:e.origin,originName:e.originName,latestChapterTitle:e.latestChapterTitle,intro:e.intro}),this.$router.push({path:"/reader"+(this.isSearchResult?"?search=1":"")}))},addBookToShelf:function(e){var t=this;return Object(a["a"])(Object(i["a"])().mark((function o(){var r;return Object(i["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,t.customImportBookInfo({title:"设置分组",cancelButtonText:"暂不加入"});case 2:if(r=o.sent,!1!==r){o.next=5;break}return o.abrupt("return");case 5:t.saveBook(Object(n["a"])(Object(n["a"])({},e),r));case 6:case"end":return o.stop()}}),o)})))()},saveBook:function(e,t,o){var r=this;return e&&e.bookUrl&&e.origin?f["a"].post(this.api+"/saveBook",e).then((function(e){if(e.data.isSuccess)return t&&(r.showImportBookDialog=!1),r.$message.success(t?"导入书籍成功":o?"修改书籍成功":"加入书架成功"),o?r.$store.commit("updateShelfBook",e.data.data):r.loadBookshelf(),e.data.data}),(function(e){r.$message.error((t?"导入书籍失败":o?"修改书籍失败":"加入书架失败 ")+(e&&e.toString()))})):(this.$message.error("书籍信息错误"),Promise.reject(!1))},deleteBook:function(e){var t=this;return Object(a["a"])(Object(i["a"])().mark((function o(){var r;return Object(i["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(e&&(e.name||e.bookUrl)){o.next=3;break}return t.$message.error("书籍信息错误"),o.abrupt("return");case 3:return o.next=5,t.$confirm("此操作将删除书籍信息以及阅读进度, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})["catch"]((function(){return!1}));case 5:if(r=o.sent,r){o.next=8;break}return o.abrupt("return");case 8:f["a"].post(t.api+"/deleteBook",e).then((function(e){e.data.isSuccess&&(t.$message.success("删除成功"),t.loadBookshelf())}),(function(e){t.$message.error("删除失败 "+(e&&e.toString()))}));case 9:case"end":return o.stop()}}),o)})))()},editBook:function(e,t,o){var r=this;if(e&&e.name&&e.bookUrl&&e.origin){var s=Object(n["a"])({},e);delete s["variableMap$delegate"],b["a"].$emit("showEditor",t?"保存书籍":"编辑书籍",JSON.stringify(s,null,4),function(){var e=Object(a["a"])(Object(i["a"])().mark((function e(s,n){var a,c;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,a=JSON.parse(s),a.name){e.next=5;break}return r.$message.error("书籍名称不能为空"),e.abrupt("return");case 5:if(a.bookUrl){e.next=8;break}return r.$message.error("书籍链接不能为空"),e.abrupt("return");case 8:if(a.origin){e.next=11;break}return r.$message.error("书籍来源不能为空"),e.abrupt("return");case 11:if(!t){e.next=17;break}return e.next=14,r.$confirm("加入书架之后才能编辑书籍信息, 是否加入书架?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})["catch"]((function(){return!1}));case 14:if(c=e.sent,c){e.next=17;break}return e.abrupt("return");case 17:r.saveBook(a,!1,!0).then((function(){n(),o&&o()})),e.next=23;break;case 20:e.prev=20,e.t0=e["catch"](0),r.$message.error("书籍信息必须是JSON格式");case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t,o){return e.apply(this,arguments)}}())}else this.$message.error("书籍信息错误")},currentDateTime:function(){var e=new Date,t=function(e){return e<10?"0"+e:e};return e.getFullYear()+t(e.getMonth()+1)+t(e.getDate())+"_"+t(e.getHours())+t(e.getMinutes())+t(e.getSeconds())},dateFormat:function(e){var t=(new Date).getTime(),o=parseInt((t-e)/1e3),r="";return r=o<=30?"刚刚":o<60?o+"秒前":o<3600?parseInt(o/60)+"分钟前":o<86400?parseInt(o/3600)+"小时前":o<2592e3?parseInt(o/86400)+"天前":o<31536e3?parseInt(o/2592e3)+"月前":parseInt(o/31536e3)+"年前",r},backToShelf:function(){this.isSearchResult=!1,this.isExploreResult=!1,this.searchResult=[],this.loadingMore=!1},toogleNight:function(){this.isNight?this.$store.commit("setNightTheme",!1):this.$store.commit("setNightTheme",!0)},showSearchList:function(e){this.isSearchResult=!0,this.isExploreResult=!0,this.loadingMore=!1,this.searchResult=e},loadMore:function(){this.lastScrollTop=this.$refs.bookList.scrollTop,this.isExploreResult?(this.loadingMore=!0,this.$refs.popExplore.loadMore()):this.searchBook(this.searchPage+1)},uploadBookSource:function(){this.$refs.fileRef.dispatchEvent(new MouseEvent("click"))},onSourceFileChange:function(e,t){var o=this,r=e.target.files&&e.target.files[0],s=new FileReader,i=t?"RSS源":"书源";s.onload=function(e){var r=e.target.result;try{var s=JSON.parse(r);Array.isArray(s)&&s.length?(o.importSourceList=s.map((function(e){return e.headerMap&&(e.header||(e.header="string"===typeof e.headerMap?e.headerMap:JSON.stringify(e.headerMap)),delete e.headerMap),e})),o.showImportSourceDialog=!0,o.isImportRssSource=!!t):o.$message.error(i+"文件错误")}catch(n){o.$message.error(i+"文件错误")}},s.onerror=function(){var e=new FormData;e.append("file",r),f["a"].post(o.api+"/readSourceFile",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){if(e.data.isSuccess){var r=[];e.data.data.forEach((function(e){try{var t=JSON.parse(e);Array.isArray(t)&&(r=r.concat(t))}catch(o){}})),r.length?(o.importSourceList=r.map((function(e){return e.headerMap&&(e.header||(e.header="string"===typeof e.headerMap?e.headerMap:JSON.stringify(e.headerMap)),delete e.headerMap),e})),o.showImportSourceDialog=!0,o.isImportRssSource=!!t):o.$message.error(i+"文件错误")}}),(function(e){o.$message.error("读取"+i+"文件内容失败 "+(e&&e.toString()))}))},s.readAsText(r),this.isRssSource?this.$refs.rssInputRef.value=null:this.$refs.fileRef.value=null},loadRemoteBookSource:function(){var e=this;return Object(a["a"])(Object(i["a"])().mark((function t(){var o,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=Object(S["a"])(e.currentUserName+"@lastRemoteSourceUrl",""),t.next=3,e.$prompt("请输入远程书源链接","导入远程书源文件",{inputValue:o||"",confirmButtonText:"确定",cancelButtonText:"取消"})["catch"]((function(){return!1}));case 3:if(r=t.sent,r&&r.value){t.next=6;break}return t.abrupt("return");case 6:f["a"].post(e.api+"/readRemoteSourceFile",{url:r.value}).then((function(t){if(t.data.isSuccess){Object(S["b"])(e.currentUserName+"@lastRemoteSourceUrl",t.value);var o=[];t.data.data.forEach((function(e){try{var t=JSON.parse(e);Array.isArray(t)&&(o=o.concat(t))}catch(r){}})),o.length?(e.importSourceList=o,e.showImportSourceDialog=!0,e.isImportRssSource=!1):e.$message.error("远程书源文件错误")}}),(function(t){e.$message.error("读取远程书源文件内容失败 "+(t&&t.toString()))}));case 7:case"end":return t.stop()}}),t)})))()},handleCheckAllChange:function(e){var t=!1;this.checkedSourceIndex=e?this.importSourceList.map((function(e,o){var r=JSON.stringify(e);return-1!==r.indexOf("@js:")||-1!==r.indexOf("webView:")?(t=!0,!1):o})).filter((function(e){return e})):[],e&&t&&this.$message.info("部分使用了Javascript和Webview的书源未勾选"),this.isIndeterminate=!1},handleCheckedSourcesChange:function(e){var t=e.length;this.checkAll=t===this.importSourceList.length,this.isIndeterminate=t>0&&t<this.importSourceList.length},getSourceTag:function(e){var t=JSON.stringify(e),o=[];return-1!==t.indexOf("@js:")&&o.push("@Javascript"),-1!==t.indexOf("webView:")&&o.push("@WebView"),"   "+o.join("  ")},saveSourceList:function(){var e=this;if(this.$store.state.connected)if(this.checkedSourceIndex.length){var t=this.checkedSourceIndex.map((function(t){return e.importSourceList[t]}));f["a"].post(this.api+(this.isImportRssSource?"/saveRssSources":"/saveBookSources"),t).then((function(t){t.data.isSuccess&&(e.$message.success(e.isImportRssSource?"导入RSS源成功":"导入书源成功"),e.isImportRssSource?e.loadRssSources(!0):e.loadBookSource(!0),e.showImportSourceDialog=!1,e.isImportRssSource=!1,e.checkedSourceIndex=[])}),(function(t){e.$message.error((e.isImportRssSource?"导入RSS源失败 ":"导入书源失败 ")+(t&&t.toString()))}))}else this.$message.error("请选择需要导入的源");else this.$message.error("后端未连接")},isBookSourceSelectable:function(e){var t=[];return(this.$store.state.shelfBooks||[]).forEach((function(o){o.origin===e.bookSourceUrl&&t.push(o.name)})),!t.length},showSourceBook:function(e){var t=[];return(this.$store.state.shelfBooks||[]).forEach((function(o){o.origin===e.bookSourceUrl&&t.push(o.name)})),t.join("\n")},getInvalidBookSources:function(){var e=this;this.$store.state.connected?f["a"].post(this.api+"/getInvalidBookSources").then((function(t){t.data.isSuccess&&t.data.data.forEach((function(t){e.$store.commit("addFailureBookSource",{bookSourceUrl:t.sourceUrl,errorMsg:t.error})}))}),(function(){})):this.$message.error("后端未连接")},checkBookSource:function(){var e=this;return Object(a["a"])(Object(i["a"])().mark((function t(){var o;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.checkBookSourceConfig.keyword){t.next=3;break}return e.$message.error("请输入搜索关键词"),t.abrupt("return");case 3:e.isCheckingBookSource=!0,e.$store.commit("setFailureIncludeTimeout",!0),o=Object(w["a"])(e.checkBookSourceConfig.concurrent,(function(t){e.checkBookSourceTip=t.requestCount+"/"+e.bookSourceList.length,t.isEnd()&&(e.isCheckingBookSource=!1,e.$store.commit("setFailureIncludeTimeout",!1))})),e.bookSourceList.forEach((function(t){o((function(){return f["a"].post(e.api+"/searchBook",{key:e.checkBookSourceConfig.keyword,bookSourceUrl:t.bookSourceUrl},{timeout:e.checkBookSourceConfig.timeout,silent:!0})}))}));case 7:case"end":return t.stop()}}),t)})))()},deleteBookSourceList:function(){var e=this;return Object(a["a"])(Object(i["a"])().mark((function t(){var o;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.manageSourceSelection.length){t.next=3;break}return e.$message.error("请选择需要删除的源"),t.abrupt("return");case 3:return t.next=5,e.$confirm("确认要删除所选择的书源吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})["catch"]((function(){return!1}));case 5:if(o=t.sent,o){t.next=8;break}return t.abrupt("return");case 8:f["a"].post(e.api+"/deleteBookSources",e.manageSourceSelection).then((function(t){t.data.isSuccess&&(e.$store.commit("removeFailureBookSource",e.manageSourceSelection),e.manageSourceSelection=[],e.$message.success("删除书源成功"),e.loadBookSource(!0))}),(function(t){e.$message.error("删除书源失败 "+(t&&t.toString()))}));case 9:case"end":return t.stop()}}),t)})))()},hideMenu:function(){this.$store.getters.isNormalPage&&this.collapseMenu&&(this.showNavigation=!1)},toggleMenu:function(){this.collapseMenu&&(this.showNavigation=!this.showNavigation)},showExplorePop:function(){var e=this;setTimeout((function(){e.popExploreVisible=!0}),100)},showBookInfoDialog:function(e){b["a"].$emit("showBookInfoDialog",e)},saveUserConfig:function(){var e=this;return Object(a["a"])(Object(i["a"])().mark((function t(){var o,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(window.localStorage){t.next=3;break}return e.$message.error("当前终端不支持localStorage"),t.abrupt("return");case 3:return t.next=5,e.$confirm("确认要备份当前终端的阅读配置、书架设置、搜索设置、自定义配置方案吗?","提示")["catch"]((function(){return!1}));case 5:if(o=t.sent,o){t.next=8;break}return t.abrupt("return");case 8:r={},["config","shelfConfig","searchConfig","customConfigList"].forEach((function(e){var t=Object(S["a"])(e);t&&(r[e]=t)})),f["a"].post(e.api+"/saveUserConfig",r).then((function(t){t.data.isSuccess&&e.$message.success("备份成功")}),(function(t){e.$message.error("备份失败 "+(t&&t.toString()))}));case 11:case"end":return t.stop()}}),t)})))()},restoreUserConfig:function(){var e=this;return Object(a["a"])(Object(i["a"])().mark((function t(){var o;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(window.localStorage){t.next=3;break}return e.$message.error("当前终端不支持localStorage"),t.abrupt("return");case 3:return t.next=5,e.$confirm("确认要从备份文件中恢复当前终端的阅读配置、书架设置、搜索设置、自定义配置方案吗?","提示")["catch"]((function(){return!1}));case 5:if(o=t.sent,o){t.next=8;break}return t.abrupt("return");case 8:f["a"].get(e.api+"/getUserConfig").then((function(t){if(t.data.isSuccess){for(var o in t.data.data)Object.hasOwnProperty.call(t.data.data,o)&&Object(S["b"])(o,t.data.data[o]);e.$store.dispatch("syncFromLocalStorage"),e.$message.success("恢复成功")}}),(function(t){e.$message.error("恢复失败 "+(t&&t.toString()))}));case 9:case"end":return t.stop()}}),t)})))()},loadUserList:function(){var e=this;this.$store.state.connected?f["a"].get(this.api+"/getUserList").then((function(t){t.data.isSuccess&&(e.userNS=e.$store.state.userInfo.username,e.userList=t.data.data.map((function(e){return Object(n["a"])(Object(n["a"])({},e),{},{userNS:e.username})})),e.$store.commit("setIsManagerMode",!0))}),(function(t){e.$message.error("加载用户空间失败 "+(t&&t.toString()))})):this.$message.error("后端未连接")},formatTableField:function(e,t,o){switch(t.property){case"createdAt":case"lastLoginAt":case"lastModified":return o?new Date(o).format("yy-MM-dd hh:mm"):"";case"size":return e.isDirectory?"":Object(w["d"])(o);default:return o}},exitSecureMode:function(){this.userNS="default",this.userList=[],this.$store.commit("setIsManagerMode",!1),this.init(!0)},backupToWebdav:function(){var e=this;return Object(a["a"])(Object(i["a"])().mark((function t(){var o;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$confirm("确认要用当前数据覆盖备份文件中的书源、书架、分组、RSS订阅数据、替换规则、书签、用户配置和Webdav书籍吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})["catch"]((function(){return!1}));case 2:if(o=t.sent,o){t.next=5;break}return t.abrupt("return");case 5:f["a"].post(e.api+"/backupToWebdav").then((function(t){t.data.isSuccess&&e.$message.success("备份成功")}),(function(t){e.$message.error("备份失败 "+(t&&t.toString()))}));case 6:case"end":return t.stop()}}),t)})))()},handleTouchStart:function(e){this.lastTouch=!1,this.lastMoveX=!1,this.touchMoveTimes=0,e.touches&&e.touches[0]&&e.touches[0].clientX>20&&e.touches[0].clientX<window.innerWidth-20&&e.touches[0].clientY>20&&e.touches[0].clientY<window.innerHeight-20&&(this.lastTouch=e.touches[0])},handleTouchMove:function(e){if(e.touches&&e.touches[0]&&this.lastTouch&&this.collapseMenu){var t=e.touches[0].clientX-this.lastTouch.clientX,o=e.touches[0].clientY-this.lastTouch.clientY;if(Math.abs(o)>Math.abs(t))return this.navigationStyle={},void(this.lastMoveX=0);e.preventDefault(),e.stopPropagation(),!this.showNavigation&&t>0&&t<=270?(this.touchMoveTimes%3===0&&(this.navigationStyle={marginLeft:t-270+"px"}),this.lastMoveX=t):this.showNavigation&&t<0&&t>=-270&&(this.touchMoveTimes%3===0&&(this.navigationStyle={marginLeft:t+"px"}),this.lastMoveX=t),this.touchMoveTimes++}},handleTouchEnd:function(){this.collapseMenu&&(this.lastMoveX>0?(this.showNavigation=!0,this.navigationStyle={}):this.lastMoveX<0&&(this.showNavigation=!1,this.navigationStyle={}))},showFailureBookSource:function(){this.getInvalidBookSources(),this.isShowFailureBookSource=!0,this.showBookSourceManageDialog=!0},debugBookSource:function(){window.open(window.location.origin+window.location.pathname+"bookSourceDebug/#domain="+this.api,"_target")},setShowSourceGroup:function(e){this.showSourceGroup===e?this.showSourceGroup="":this.showSourceGroup=e},importLocalBook:function(){this.$refs.bookRef.dispatchEvent(new MouseEvent("click"))},onBookFileChange:function(e){var t=this;if(e.target&&e.target.files&&e.target.files.length){for(var o=new FormData,r=0;r<e.target.files.length;r++){var s=e.target.files[r];o.append("file"+r,s)}f["a"].post(this.api+"/importBookPreview",o,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){e.data.isSuccess&&e.data.data.length&&(e.data.data.length>1?t.importMultiBooks(e.data.data):(t.importBookInfo=e.data.data[0].book,t.importBookGroup=[],t.importBookChapters=e.data.data[0].chapters,t.showImportBookDialog=!0))}),(function(e){t.$message.error("上传书籍 "+(e&&e.toString()))})),this.$refs.bookRef.value=null}},importMultiBooks:function(e){var t=this;return Object(a["a"])(Object(i["a"])().mark((function o(){var r,s,a,c,u,l;return Object(i["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(e&&e.length){o.next=2;break}return o.abrupt("return");case 2:if(1!=e.length){o.next=8;break}return t.importBookInfo=e[0].book,t.importBookGroup=[],t.importBookChapters=e[0].chapters,t.showImportBookDialog=!0,o.abrupt("return");case 8:return o.next=10,t.$confirm("你选择导入多本书籍，请选择导入方式?","提示",{confirmButtonText:"批量导入",cancelButtonText:"逐一确认导入",type:"warning",closeOnClickModal:!1,closeOnPressEscape:!1,distinguishCancelAndClose:!0})["catch"]((function(e){return"close"===e&&"close"}));case 10:if(r=o.sent,"close"!==r){o.next=13;break}return o.abrupt("return");case 13:if(!r){o.next=29;break}return o.next=16,t.customImportBookInfo();case 16:if(s=o.sent,!1!==s){o.next=19;break}return o.abrupt("return");case 19:a=0;case 20:if(!(a<e.length)){o.next=27;break}return c=e[a],o.next=24,t.saveBook(Object(n["a"])(Object(n["a"])({},c.book),s),!0)["catch"]((function(){}));case 24:a++,o.next=20;break;case 27:o.next=39;break;case 29:u=0;case 30:if(!(u<e.length)){o.next=38;break}return l=e[u],t.importMultiBookTip="（".concat(u+1,"/").concat(e.length,"）"),o.next=35,t.waitForImportBook(l);case 35:u++,o.next=30;break;case 38:t.importMultiBookTip="";case 39:case"end":return o.stop()}}),o)})))()},waitForImportBook:function(e){var t=this;return new Promise((function(o){t.importBookInfo=e.book,t.importBookGroup=[],t.importBookChapters=e.chapters,t.showImportBookDialog=!0,t.$once("importEnd",o)}))},importBookDialogClosed:function(){var e=this,t=this.importBookInfo.bookUrl;this.importBookInfo={},this.importBookGroup=[],this.importBookChapters=[],this.importUsedTxtRule="",this.$nextTick((function(){e.$emit("importEnd")})),-1!==t.indexOf("assets")&&f["a"].post(this.api+"/deleteFile",{url:t},{silent:!0}).then((function(){}),(function(){}))},customImportBookInfo:function(e){var t=this;return Object(a["a"])(Object(i["a"])().mark((function o(){var r;return Object(i["a"])().wrap((function(o){while(1)switch(o.prev=o.next){case 0:return t.importBookGroup=[],o.next=3,t.$msgbox(Object(n["a"])({title:"统一设置分组",message:t.renderComp(),showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消导入"},e||{}))["catch"]((function(e){return"close"===e&&"close"}));case 3:if(r=o.sent,"confirm"!==r){o.next=8;break}return o.abrupt("return",{group:t.importBookGroup.reduce((function(e,t){return e|t}),0)});case 8:return o.abrupt("return",!1);case 9:case"end":return o.stop()}}),o)})))()},renderComp:function(){this.$createElement;var e=this.bookGroupSetList,t=this;B["default"].component("custComp",{render:function(){var t=this,o=arguments[0];return o("div",{style:{textAlign:"center"}},[o("span",["请选择分组："]),o("el-select",{attrs:{size:"mini",filterable:!0,multiple:!0,placeholder:"未分组"},ref:"bookGroupSelect",model:{value:t.importBookGroup,callback:function(e){t.importBookGroup=e}},on:{change:this.change}},[e.map((function(e,t){return o("el-option",{key:"bookGroup-"+t,attrs:{label:e.groupName,value:e.groupId}})}))])])},data:function(){return{importBookGroup:[]}},methods:{change:function(){t.importBookGroup=this.importBookGroup}}});var o=B["default"].component("custComp");return this.$createElement(o)},showBookManage:function(){b["a"].$emit("showBookManageDialog")},showManageBookGroup:function(){this.loadBookGroup(!0),b["a"].$emit("showBookGroupDialog",!1)},showFileManagerDialog:function(e,t){b["a"].$emit("showFileManagerDialog",e,t)},getShowShelfBooks:function(e){return-1===e?this.shelfBooks:-2===e?this.shelfBooks.filter((function(e){return"loc_book"===e.origin})):-3===e?this.shelfBooks.filter((function(e){return 1===e.type})):-4===e?this.shelfBooks.filter((function(e){return 0===e.group})):this.shelfBooks.filter((function(t){return 0===e||t.group&e}))},loadRssSources:function(e){return this.$root.$children[0].loadRssSources(e)},showRssDialog:function(){b["a"].$emit("showRssSourceListDialog")},showRssArticleListDialog:function(e){b["a"].$emit("showRssArticleListDialog",e)},noop:function(){},exportBookSource:function(){var e=this;f["a"].get(this.api+"/getBookSources").then((function(t){if(t.data.isSuccess){var o=document.createElement("a"),r=new Blob([JSON.stringify(t.data.data||[],null,4)]);o.download="reader书源-"+e.currentDateTime()+".json",o.href=URL.createObjectURL(r),o.click()}}),(function(t){e.$message.error("导出书源失败 "+(t&&t.toString()))}))},deleteAllBookSource:function(){var e=this;return Object(a["a"])(Object(i["a"])().mark((function t(){var o;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$confirm("确认要清空所有书源吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})["catch"]((function(){return!1}));case 2:if(o=t.sent,o){t.next=5;break}return t.abrupt("return");case 5:f["a"].post(e.api+"/deleteAllBookSources").then((function(t){t.data.isSuccess&&(e.$message.success("清空书源成功"),e.loadBookSource(!0))}),(function(t){e.$message.error("清空书源失败 "+(t&&t.toString()))}));case 6:case"end":return t.stop()}}),t)})))()},deleteBookSourceFile:function(){var e=this;return Object(a["a"])(Object(i["a"])().mark((function t(){var o;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$confirm("确认要恢复默认书源吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})["catch"]((function(){return!1}));case 2:if(o=t.sent,o){t.next=5;break}return t.abrupt("return");case 5:f["a"].post(e.api+"/deleteBookSourcesFile").then((function(t){t.data.isSuccess&&(e.$message.success("恢复默认书源成功"),e.loadBookSource(!0))}),(function(t){e.$message.error("操作失败 "+(t&&t.toString()))}));case 6:case"end":return t.stop()}}),t)})))()},editBookSource:function(e){var t=this,o=function(e){b["a"].$emit("showEditor","编辑书源",JSON.stringify(e,null,4),(function(e,o){try{var r=JSON.parse(e);if(!r.bookSourceName)return void t.$message.error("书源名称不能为空");if(!r.bookSourceUrl)return void t.$message.error("书源链接不能为空");f["a"].post(t.api+"/saveBookSource",r).then((function(e){e.data.isSuccess&&(o(),t.$message.success("保存书源成功"),t.loadBookSource(!0))}),(function(e){t.$message.error("保存书源失败 "+(e&&e.toString()))}))}catch(s){t.$message.error("书源必须是JSON格式")}}))};e?f["a"].post(this.api+"/getBookSource",{bookSourceUrl:e.bookSourceUrl}).then((function(e){e.data.isSuccess&&o(e.data.data)}),(function(e){t.$message.error("加载书源信息失败 "+(e&&e.toString()))})):o({bookSourceComment:"",bookSourceGroup:"",bookSourceName:"新增书源",bookSourceType:0,bookSourceUrl:"",bookUrlPattern:"",enabled:!0,enabledExplore:!0,exploreUrl:"",ruleBookInfo:{},ruleContent:{content:""},ruleExplore:{},ruleSearch:{author:"",bookList:"",bookUrl:"",coverUrl:"",intro:"",kind:"",lastChapter:"",name:""},ruleToc:{chapterList:"",chapterName:"",chapterUrl:""},searchUrl:""})},updateForce:function(){"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(){var e=Object(a["a"])(Object(i["a"])().mark((function e(t){var o;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("registrations",t),o=0;case 2:if(!(o<t.length)){e.next=8;break}return e.next=5,t[o].update();case 5:o++,e.next=2;break;case 8:console.log("Try to clear home cache"),navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"CLEAR_HOME_CACHE"}),console.log("Try to skip waiting"),navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"SKIP_WAITING"}),setTimeout((function(){console.log("Try to reload force"),window.location.reload(!0)}),50);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},scanCacheStorage:function(){var e=this;return Object(a["a"])(Object(i["a"])().mark((function t(){return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.analyseLocalStorage();case 2:return t.t0=t.sent.totalBytes,t.next=5,e.analyseLocalStorage("bookSourceList");case 5:return t.t1=t.sent.totalBytes,t.next=8,e.analyseLocalStorage("rssSources");case 8:return t.t2=t.sent.totalBytes,t.next=11,e.analyseLocalStorage("chapterList");case 11:return t.t3=t.sent.totalBytes,t.next=14,e.analyseLocalStorage("chapterContent");case 14:t.t4=t.sent.totalBytes,e.localCacheStats={total:t.t0,bookSourceList:t.t1,rssSources:t.t2,chapterList:t.t3,chapterContent:t.t4};case 16:case"end":return t.stop()}}),t)})))()},analyseLocalStorage:function(e){var t=0,o=0;return window.$cacheStorage.iterate((function(r,s){(!e||s.indexOf(e)>=0)&&(t+=JSON.stringify(r).getBytesLength(),s.startsWith("localCache@")&&(o+=JSON.stringify(r).getBytesLength()))})).then((function(){return{totalBytes:Object(w["d"])(t),cacheBytes:Object(w["d"])(o)}}))["catch"]((function(){}))},clearCache:function(e){var t=this,o=0;window.$cacheStorage.iterate((function(t,r){(!e||r.indexOf(e)>=0)&&r.startsWith("localCache@")&&(o+=JSON.stringify(t).getBytesLength(),window.$cacheStorage.removeItem(r))})).then((function(){return t.scanCacheStorage(),{cacheBytes:Object(w["d"])(o)}}))["catch"]((function(){}))},scrollHandler:function(){this.lastScrollTop=this.$refs.bookList.scrollTop},getBookCoverUrl:function(e){return e.customCoverUrl||e.coverUrl},logout:function(){var e=this;f["a"].post(this.api+"/logout").then((function(t){t.data.isSuccess&&(e.$store.commit("setToken",""),window.location.reload(!0))}),(function(t){e.$message.error("注销失败 "+(t&&t.toString()))}))},getChapterListByRule:function(){var e=this;return f["a"].post("/getChapterListByRule",this.importBookInfo).then((function(t){t.data.isSuccess&&t.data.data.book&&(e.importBookInfo=t.data.data.book,e.importBookChapters=t.data.data.chapters)}),(function(t){e.$message.error("注销失败 "+(t&&t.toString()))}))},showUserManageDialog:function(){b["a"].$emit("showUserManageDialog")},showMPCode:function(){b["a"].$emit("showMPCodeDialog")},joinTGChannel:function(){window.open("https://t.me/facker_channel","_target")},ensureLoadBookCover:function(){var e=this;this.$refs.bookList.dispatchEvent(new MouseEvent("scroll")),this.$refs.bookCoverList.forEach((function(t){!t.show&&Object(C["d"])(t.$el,e.$refs.bookList)&&(t.show=!0)}))}},computed:Object(n["a"])(Object(n["a"])({},Object(c["b"])(["collapseMenu","dialogWidth","dialogSmallWidth","dialogTop","dialogContentHeight","popupWidth"])),{},{config:function(){return this.$store.getters.config},isNight:function(){return this.$store.getters.isNight},themeColor:function(){return this.$store.getters.isNight?{background:"#f7f7f7"}:{background:"#222"}},bookList:function(){return this.isSearchResult?this.searchResult:this.showShelfBooks},bookCoverList:function(){var e=this;return this.bookList.filter((function(t){return e.getBookCoverUrl(t)})).map((function(t){return e.getCover(e.getBookCoverUrl(t),!0)}))},shelfBooks:function(){return this.$store.getters.shelfBooks},showShelfBooks:function(){return this.getShowShelfBooks(this.showBookGroup)},searchResultMap:function(){return this.searchResult.reduce((function(e,t){return e[t.bookUrl]=t,e}),{})},connectStatus:function(){return this.$store.state.connected?"后端已连接":this.connecting?"正在连接后端服务器……":"点击设置后端接口前缀"},connectType:function(){return this.$store.state.connected?"success":"danger"},readingRecent:function(){return this.$store.getters.readingBook&&this.$store.getters.readingBook.name?this.$store.getters.readingBook:{name:"尚无阅读记录",bookUrl:"",index:0}},loginAuth:function(){return this.$store.state.loginAuth},bookSourceList:function(){return this.$store.state.bookSourceList},userNS:{get:function(){return this.$store.state.userNS},set:function(e){this.$store.commit("setUserNS",e),e&&this.$store.commit("setIsManagerMode",!0)}},userList:{get:function(){return this.$store.state.userList},set:function(e){this.$store.commit("setUserList",e)}},bookSourceShowList:function(){return this.isShowFailureBookSource?this.$store.state.failureBookSource:this.bookSourceList},bookSourceGroupList:function(){var e={};this.bookSourceList.forEach((function(t){t.bookSourceGroup&&(e[t.bookSourceGroup]=1+(0|e[t.bookSourceGroup]))}));var t=[{name:"全部分组",value:"",count:this.bookSourceList.length}];for(var o in e)Object.hasOwnProperty.call(e,o)&&t.push({name:o,value:o,count:e[o]});return t},bookSourceShowGroup:function(){if(this.isShowFailureBookSource)return[].concat(v["e"]).concat(["timeout"]);var e=new Set;return this.bookSourceShowList.forEach((function(t){t.bookSourceGroup&&e.add(t.bookSourceGroup)})),e.add("未分组"),Array.from(e)},bookSourceShowLength:function(){return this.bookSourceShowResult.length},bookSourceShowResult:function(){var e=this;return this.showSourceGroup?this.isShowFailureBookSource?this.bookSourceShowList.filter((function(t){return!e.showSourceGroup||t.errorMsg.indexOf(e.showSourceGroup)>=0})):this.bookSourceShowList.filter((function(t){return"未分组"===e.showSourceGroup?!t.bookSourceGroup:t.bookSourceGroup===e.showSourceGroup})):this.bookSourceShowList},bookSourceShowResultPageList:function(){var e=(this.bookSourcePagination.page-1)*this.bookSourcePagination.size;return e>this.bookSourceShowResult.length?[]:this.bookSourceShowResult.slice(e,Math.min(e+this.bookSourcePagination.size,this.bookSourceShowResult.length))},showBookGroup:{get:function(){return this.bookGroupDisplayList.length?this.$store.state.shelfConfig.showBookGroup:-1},set:function(e){this.$store.commit("setShelfConfig",Object(n["a"])(Object(n["a"])({},this.$store.state.shelfConfig),{},{showBookGroup:e}))}},showBookGroupString:{get:function(){return""+this.showBookGroup},set:function(e){this.showBookGroup=+e}},bookGroupSetList:function(){return this.$store.state.bookGroupList.filter((function(e){return e.groupId>0}))},bookGroupDisplayList:function(){var e=this;return this.$store.state.bookGroupList.filter((function(t){return e.getShowShelfBooks(t.groupId).length&&t.show})).sort((function(e,t){return e.order-t.order}))},searchConfig:{get:function(){return this.$store.state.searchConfig},set:function(e){this.$store.commit("setSearchConfig",e)}},isShowTocRule:function(){try{return this.importBookInfo&&this.importBookInfo.originName&&(this.importBookInfo.originName.toLowerCase().endsWith(".txt")||this.importBookInfo.originName.toLowerCase().endsWith(".epub"))}catch(e){}return!1},tocRuleList:function(){return this.importBookInfo&&this.importBookInfo.originName?this.importBookInfo.originName.toLowerCase().endsWith(".txt")?this.$store.state.txtTocRules:[{name:"根据 Spin 获取章节，使用 Toc 补充章节名",rule:"spin+toc"},{name:"根据 Spin 获取章节，强制使用 Toc 章节名",rule:"spin<toc"},{name:"根据 Spin 获取章节",rule:"spin"},{name:"根据 Toc 获取章节，使用 Spin 补充章节名",rule:"toc+spin"},{name:"根据 Toc 获取章节，强制使用 Spin 章节名",rule:"toc<spin"},{name:"根据 Toc 获取章节",rule:"toc"}]:[]}})},L=y,A=(o("ad09"),o("716b"),Object(d["a"])(L,r,s,!1,null,"a306aee8",null));t["default"]=A.exports},da4c:function(e,t,o){},fa39:function(e,t){e.exports="data:image/png;base64,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"}}]);